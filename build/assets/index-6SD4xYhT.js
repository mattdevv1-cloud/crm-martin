function Gx(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in t)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(t,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function ap(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Yx(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var o=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:function(){return t[s]}})}),n}var ch={exports:{}},ha={},uh={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function rC(){if(iy)return Ke;iy=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.iterator;function x(I){return I===null||typeof I!="object"?null:(I=g&&I[g]||I["@@iterator"],typeof I=="function"?I:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,j={};function C(I,G,te){this.props=I,this.context=G,this.refs=j,this.updater=te||w}C.prototype.isReactComponent={},C.prototype.setState=function(I,G){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,G,"setState")},C.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function _(){}_.prototype=C.prototype;function P(I,G,te){this.props=I,this.context=G,this.refs=j,this.updater=te||w}var E=P.prototype=new _;E.constructor=P,S(E,C.prototype),E.isPureReactComponent=!0;var T=Array.isArray,D=Object.prototype.hasOwnProperty,V={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function N(I,G,te){var ae,fe={},ge=null,ee=null;if(G!=null)for(ae in G.ref!==void 0&&(ee=G.ref),G.key!==void 0&&(ge=""+G.key),G)D.call(G,ae)&&!R.hasOwnProperty(ae)&&(fe[ae]=G[ae]);var ce=arguments.length-2;if(ce===1)fe.children=te;else if(1<ce){for(var Ne=Array(ce),Te=0;Te<ce;Te++)Ne[Te]=arguments[Te+2];fe.children=Ne}if(I&&I.defaultProps)for(ae in ce=I.defaultProps,ce)fe[ae]===void 0&&(fe[ae]=ce[ae]);return{$$typeof:t,type:I,key:ge,ref:ee,props:fe,_owner:V.current}}function H(I,G){return{$$typeof:t,type:I.type,key:G,ref:I.ref,props:I.props,_owner:I._owner}}function Z(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function ie(I){var G={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(te){return G[te]})}var ue=/\/+/g;function Q(I,G){return typeof I=="object"&&I!==null&&I.key!=null?ie(""+I.key):G.toString(36)}function Y(I,G,te,ae,fe){var ge=typeof I;(ge==="undefined"||ge==="boolean")&&(I=null);var ee=!1;if(I===null)ee=!0;else switch(ge){case"string":case"number":ee=!0;break;case"object":switch(I.$$typeof){case t:case e:ee=!0}}if(ee)return ee=I,fe=fe(ee),I=ae===""?"."+Q(ee,0):ae,T(fe)?(te="",I!=null&&(te=I.replace(ue,"$&/")+"/"),Y(fe,G,te,"",function(Te){return Te})):fe!=null&&(Z(fe)&&(fe=H(fe,te+(!fe.key||ee&&ee.key===fe.key?"":(""+fe.key).replace(ue,"$&/")+"/")+I)),G.push(fe)),1;if(ee=0,ae=ae===""?".":ae+":",T(I))for(var ce=0;ce<I.length;ce++){ge=I[ce];var Ne=ae+Q(ge,ce);ee+=Y(ge,G,te,Ne,fe)}else if(Ne=x(I),typeof Ne=="function")for(I=Ne.call(I),ce=0;!(ge=I.next()).done;)ge=ge.value,Ne=ae+Q(ge,ce++),ee+=Y(ge,G,te,Ne,fe);else if(ge==="object")throw G=String(I),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return ee}function X(I,G,te){if(I==null)return I;var ae=[],fe=0;return Y(I,ae,"","",function(ge){return G.call(te,ge,fe++)}),ae}function M(I){if(I._status===-1){var G=I._result;G=G(),G.then(function(te){(I._status===0||I._status===-1)&&(I._status=1,I._result=te)},function(te){(I._status===0||I._status===-1)&&(I._status=2,I._result=te)}),I._status===-1&&(I._status=0,I._result=G)}if(I._status===1)return I._result.default;throw I._result}var F={current:null},O={transition:null},K={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:O,ReactCurrentOwner:V};function B(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:X,forEach:function(I,G,te){X(I,function(){G.apply(this,arguments)},te)},count:function(I){var G=0;return X(I,function(){G++}),G},toArray:function(I){return X(I,function(G){return G})||[]},only:function(I){if(!Z(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Ke.Component=C,Ke.Fragment=n,Ke.Profiler=o,Ke.PureComponent=P,Ke.StrictMode=s,Ke.Suspense=f,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,Ke.act=B,Ke.cloneElement=function(I,G,te){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var ae=S({},I.props),fe=I.key,ge=I.ref,ee=I._owner;if(G!=null){if(G.ref!==void 0&&(ge=G.ref,ee=V.current),G.key!==void 0&&(fe=""+G.key),I.type&&I.type.defaultProps)var ce=I.type.defaultProps;for(Ne in G)D.call(G,Ne)&&!R.hasOwnProperty(Ne)&&(ae[Ne]=G[Ne]===void 0&&ce!==void 0?ce[Ne]:G[Ne])}var Ne=arguments.length-2;if(Ne===1)ae.children=te;else if(1<Ne){ce=Array(Ne);for(var Te=0;Te<Ne;Te++)ce[Te]=arguments[Te+2];ae.children=ce}return{$$typeof:t,type:I.type,key:fe,ref:ge,props:ae,_owner:ee}},Ke.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:l,_context:I},I.Consumer=I},Ke.createElement=N,Ke.createFactory=function(I){var G=N.bind(null,I);return G.type=I,G},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(I){return{$$typeof:d,render:I}},Ke.isValidElement=Z,Ke.lazy=function(I){return{$$typeof:m,_payload:{_status:-1,_result:I},_init:M}},Ke.memo=function(I,G){return{$$typeof:p,type:I,compare:G===void 0?null:G}},Ke.startTransition=function(I){var G=O.transition;O.transition={};try{I()}finally{O.transition=G}},Ke.unstable_act=B,Ke.useCallback=function(I,G){return F.current.useCallback(I,G)},Ke.useContext=function(I){return F.current.useContext(I)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(I){return F.current.useDeferredValue(I)},Ke.useEffect=function(I,G){return F.current.useEffect(I,G)},Ke.useId=function(){return F.current.useId()},Ke.useImperativeHandle=function(I,G,te){return F.current.useImperativeHandle(I,G,te)},Ke.useInsertionEffect=function(I,G){return F.current.useInsertionEffect(I,G)},Ke.useLayoutEffect=function(I,G){return F.current.useLayoutEffect(I,G)},Ke.useMemo=function(I,G){return F.current.useMemo(I,G)},Ke.useReducer=function(I,G,te){return F.current.useReducer(I,G,te)},Ke.useRef=function(I){return F.current.useRef(I)},Ke.useState=function(I){return F.current.useState(I)},Ke.useSyncExternalStore=function(I,G,te){return F.current.useSyncExternalStore(I,G,te)},Ke.useTransition=function(){return F.current.useTransition()},Ke.version="18.3.1",Ke}var oy;function lp(){return oy||(oy=1,uh.exports=rC()),uh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ay;function sC(){if(ay)return ha;ay=1;var t=lp(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(d,f,p){var m,g={},x=null,w=null;p!==void 0&&(x=""+p),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(w=f.ref);for(m in f)s.call(f,m)&&!l.hasOwnProperty(m)&&(g[m]=f[m]);if(d&&d.defaultProps)for(m in f=d.defaultProps,f)g[m]===void 0&&(g[m]=f[m]);return{$$typeof:e,type:d,key:x,ref:w,props:g,_owner:o.current}}return ha.Fragment=n,ha.jsx=c,ha.jsxs=c,ha}var ly;function iC(){return ly||(ly=1,ch.exports=sC()),ch.exports}var a=iC(),lc={},dh={exports:{}},gn={},hh={exports:{}},fh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function oC(){return cy||(cy=1,(function(t){function e(O,K){var B=O.length;O.push(K);e:for(;0<B;){var I=B-1>>>1,G=O[I];if(0<o(G,K))O[I]=K,O[B]=G,B=I;else break e}}function n(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var K=O[0],B=O.pop();if(B!==K){O[0]=B;e:for(var I=0,G=O.length,te=G>>>1;I<te;){var ae=2*(I+1)-1,fe=O[ae],ge=ae+1,ee=O[ge];if(0>o(fe,B))ge<G&&0>o(ee,fe)?(O[I]=ee,O[ge]=B,I=ge):(O[I]=fe,O[ae]=B,I=ae);else if(ge<G&&0>o(ee,B))O[I]=ee,O[ge]=B,I=ge;else break e}}return K}function o(O,K){var B=O.sortIndex-K.sortIndex;return B!==0?B:O.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var f=[],p=[],m=1,g=null,x=3,w=!1,S=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(O){for(var K=n(p);K!==null;){if(K.callback===null)s(p);else if(K.startTime<=O)s(p),K.sortIndex=K.expirationTime,e(f,K);else break;K=n(p)}}function T(O){if(j=!1,E(O),!S)if(n(f)!==null)S=!0,M(D);else{var K=n(p);K!==null&&F(T,K.startTime-O)}}function D(O,K){S=!1,j&&(j=!1,_(N),N=-1),w=!0;var B=x;try{for(E(K),g=n(f);g!==null&&(!(g.expirationTime>K)||O&&!ie());){var I=g.callback;if(typeof I=="function"){g.callback=null,x=g.priorityLevel;var G=I(g.expirationTime<=K);K=t.unstable_now(),typeof G=="function"?g.callback=G:g===n(f)&&s(f),E(K)}else s(f);g=n(f)}if(g!==null)var te=!0;else{var ae=n(p);ae!==null&&F(T,ae.startTime-K),te=!1}return te}finally{g=null,x=B,w=!1}}var V=!1,R=null,N=-1,H=5,Z=-1;function ie(){return!(t.unstable_now()-Z<H)}function ue(){if(R!==null){var O=t.unstable_now();Z=O;var K=!0;try{K=R(!0,O)}finally{K?Q():(V=!1,R=null)}}else V=!1}var Q;if(typeof P=="function")Q=function(){P(ue)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,X=Y.port2;Y.port1.onmessage=ue,Q=function(){X.postMessage(null)}}else Q=function(){C(ue,0)};function M(O){R=O,V||(V=!0,Q())}function F(O,K){N=C(function(){O(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){S||w||(S=!0,M(D))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(O){switch(x){case 1:case 2:case 3:var K=3;break;default:K=x}var B=x;x=K;try{return O()}finally{x=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,K){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var B=x;x=O;try{return K()}finally{x=B}},t.unstable_scheduleCallback=function(O,K,B){var I=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?I+B:I):B=I,O){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=B+G,O={id:m++,callback:K,priorityLevel:O,startTime:B,expirationTime:G,sortIndex:-1},B>I?(O.sortIndex=B,e(p,O),n(f)===null&&O===n(p)&&(j?(_(N),N=-1):j=!0,F(T,B-I))):(O.sortIndex=G,e(f,O),S||w||(S=!0,M(D))),O},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(O){var K=x;return function(){var B=x;x=K;try{return O.apply(this,arguments)}finally{x=B}}}})(fh)),fh}var uy;function aC(){return uy||(uy=1,hh.exports=oC()),hh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function lC(){if(dy)return gn;dy=1;var t=lp(),e=aC();function n(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,u=1;u<arguments.length;u++)i+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){c(r,i),c(r+"Capture",i)}function c(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function x(r){return f.call(g,r)?!0:f.call(m,r)?!1:p.test(r)?g[r]=!0:(m[r]=!0,!1)}function w(r,i,u,h){if(u!==null&&u.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function S(r,i,u,h){if(i===null||typeof i>"u"||w(r,i,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function j(r,i,u,h,v,y,k){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=v,this.mustUseProperty=u,this.propertyName=r,this.type=i,this.sanitizeURL=y,this.removeEmptyString=k}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){C[r]=new j(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];C[i]=new j(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){C[r]=new j(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){C[r]=new j(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){C[r]=new j(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){C[r]=new j(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){C[r]=new j(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){C[r]=new j(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){C[r]=new j(r,5,!1,r.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function P(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(_,P);C[i]=new j(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(_,P);C[i]=new j(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(_,P);C[i]=new j(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){C[r]=new j(r,1,!1,r.toLowerCase(),null,!1,!1)}),C.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){C[r]=new j(r,1,!1,r.toLowerCase(),null,!0,!0)});function E(r,i,u,h){var v=C.hasOwnProperty(i)?C[i]:null;(v!==null?v.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(S(i,u,v,h)&&(u=null),h||v===null?x(i)&&(u===null?r.removeAttribute(i):r.setAttribute(i,""+u)):v.mustUseProperty?r[v.propertyName]=u===null?v.type===3?!1:"":u:(i=v.attributeName,h=v.attributeNamespace,u===null?r.removeAttribute(i):(v=v.type,u=v===3||v===4&&u===!0?"":""+u,h?r.setAttributeNS(h,i,u):r.setAttribute(i,u))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),V=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),ie=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),O=Symbol.iterator;function K(r){return r===null||typeof r!="object"?null:(r=O&&r[O]||r["@@iterator"],typeof r=="function"?r:null)}var B=Object.assign,I;function G(r){if(I===void 0)try{throw Error()}catch(u){var i=u.stack.trim().match(/\n( *(at )?)/);I=i&&i[1]||""}return`
`+I+r}var te=!1;function ae(r,i){if(!r||te)return"";te=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(q){var h=q}Reflect.construct(r,[],i)}else{try{i.call()}catch(q){h=q}r.call(i.prototype)}else{try{throw Error()}catch(q){h=q}r()}}catch(q){if(q&&h&&typeof q.stack=="string"){for(var v=q.stack.split(`
`),y=h.stack.split(`
`),k=v.length-1,A=y.length-1;1<=k&&0<=A&&v[k]!==y[A];)A--;for(;1<=k&&0<=A;k--,A--)if(v[k]!==y[A]){if(k!==1||A!==1)do if(k--,A--,0>A||v[k]!==y[A]){var L=`
`+v[k].replace(" at new "," at ");return r.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",r.displayName)),L}while(1<=k&&0<=A);break}}}finally{te=!1,Error.prepareStackTrace=u}return(r=r?r.displayName||r.name:"")?G(r):""}function fe(r){switch(r.tag){case 5:return G(r.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return r=ae(r.type,!1),r;case 11:return r=ae(r.type.render,!1),r;case 1:return r=ae(r.type,!0),r;default:return""}}function ge(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case V:return"Portal";case H:return"Profiler";case N:return"StrictMode";case Q:return"Suspense";case Y:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ie:return(r.displayName||"Context")+".Consumer";case Z:return(r._context.displayName||"Context")+".Provider";case ue:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case X:return i=r.displayName||null,i!==null?i:ge(r.type)||"Memo";case M:i=r._payload,r=r._init;try{return ge(r(i))}catch{}}return null}function ee(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(i);case 8:return i===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function ce(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ne(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Te(r){var i=Ne(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),h=""+r[i];if(!r.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,y=u.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return v.call(this)},set:function(k){h=""+k,y.call(this,k)}}),Object.defineProperty(r,i,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(k){h=""+k},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Ie(r){r._valueTracker||(r._valueTracker=Te(r))}function J(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var u=i.getValue(),h="";return r&&(h=Ne(r)?r.checked?"true":"false":r.value),r=h,r!==u?(i.setValue(r),!0):!1}function Pe(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function oe(r,i){var u=i.checked;return B({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??r._wrapperState.initialChecked})}function ot(r,i){var u=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;u=ce(i.value!=null?i.value:u),r._wrapperState={initialChecked:h,initialValue:u,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Ue(r,i){i=i.checked,i!=null&&E(r,"checked",i,!1)}function kt(r,i){Ue(r,i);var u=ce(i.value),h=i.type;if(u!=null)h==="number"?(u===0&&r.value===""||r.value!=u)&&(r.value=""+u):r.value!==""+u&&(r.value=""+u);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Kt(r,i.type,u):i.hasOwnProperty("defaultValue")&&Kt(r,i.type,ce(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Mt(r,i,u){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,u||i===r.value||(r.value=i),r.defaultValue=i}u=r.name,u!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,u!==""&&(r.name=u)}function Kt(r,i,u){(i!=="number"||Pe(r.ownerDocument)!==r)&&(u==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+u&&(r.defaultValue=""+u))}var rt=Array.isArray;function Xn(r,i,u,h){if(r=r.options,i){i={};for(var v=0;v<u.length;v++)i["$"+u[v]]=!0;for(u=0;u<r.length;u++)v=i.hasOwnProperty("$"+r[u].value),r[u].selected!==v&&(r[u].selected=v),v&&h&&(r[u].defaultSelected=!0)}else{for(u=""+ce(u),i=null,v=0;v<r.length;v++){if(r[v].value===u){r[v].selected=!0,h&&(r[v].defaultSelected=!0);return}i!==null||r[v].disabled||(i=r[v])}i!==null&&(i.selected=!0)}}function Lt(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(n(91));return B({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function sn(r,i){var u=i.value;if(u==null){if(u=i.children,i=i.defaultValue,u!=null){if(i!=null)throw Error(n(92));if(rt(u)){if(1<u.length)throw Error(n(93));u=u[0]}i=u}i==null&&(i=""),u=i}r._wrapperState={initialValue:ce(u)}}function xi(r,i){var u=ce(i.value),h=ce(i.defaultValue);u!=null&&(u=""+u,u!==r.value&&(r.value=u),i.defaultValue==null&&r.defaultValue!==u&&(r.defaultValue=u)),h!=null&&(r.defaultValue=""+h)}function Is(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function Pr(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ms(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?Pr(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Ln,Gr=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,u,h,v){MSApp.execUnsafeLocalFunction(function(){return r(i,u,h,v)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(Ln=Ln||document.createElement("div"),Ln.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Ln.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function on(r,i){if(i){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=i;return}}r.textContent=i}var mr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},un=["Webkit","ms","Moz","O"];Object.keys(mr).forEach(function(r){un.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),mr[i]=mr[r]})});function Ls(r,i,u){return i==null||typeof i=="boolean"||i===""?"":u||typeof i!="number"||i===0||mr.hasOwnProperty(r)&&mr[r]?(""+i).trim():i+"px"}function wi(r,i){r=r.style;for(var u in i)if(i.hasOwnProperty(u)){var h=u.indexOf("--")===0,v=Ls(u,i[u],h);u==="float"&&(u="cssFloat"),h?r.setProperty(u,v):r[u]=v}}var bi=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yr(r,i){if(i){if(bi[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(n(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(n(61))}if(i.style!=null&&typeof i.style!="object")throw Error(n(62))}}function $s(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rr=null;function _e(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Je=null,Qe=null,ze=null;function ht(r){if(r=Jo(r)){if(typeof Je!="function")throw Error(n(280));var i=r.stateNode;i&&(i=Sl(i),Je(r.stateNode,r.type,i))}}function Ee(r){Qe?ze?ze.push(r):ze=[r]:Qe=r}function qe(){if(Qe){var r=Qe,i=ze;if(ze=Qe=null,ht(r),i)for(r=0;r<i.length;r++)ht(i[r])}}function ut(r,i){return r(i)}function dt(){}var Xt=!1;function at(r,i,u){if(Xt)return r(i,u);Xt=!0;try{return ut(r,i,u)}finally{Xt=!1,(Qe!==null||ze!==null)&&(dt(),qe())}}function lt(r,i){var u=r.stateNode;if(u===null)return null;var h=Sl(u);if(h===null)return null;u=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(n(231,i,typeof u));return u}var Cn=!1;if(d)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch{Cn=!1}function En(r,i,u,h,v,y,k,A,L){var q=Array.prototype.slice.call(arguments,3);try{i.apply(u,q)}catch(re){this.onError(re)}}var Xr=!1,$n=null,Ao=!1,Nu=null,u_={onError:function(r){Xr=!0,$n=r}};function d_(r,i,u,h,v,y,k,A,L){Xr=!1,$n=null,En.apply(u_,arguments)}function h_(r,i,u,h,v,y,k,A,L){if(d_.apply(this,arguments),Xr){if(Xr){var q=$n;Xr=!1,$n=null}else throw Error(n(198));Ao||(Ao=!0,Nu=q)}}function Vs(r){var i=r,u=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(u=i.return),r=i.return;while(r)}return i.tag===3?u:null}function Nm(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Tm(r){if(Vs(r)!==r)throw Error(n(188))}function f_(r){var i=r.alternate;if(!i){if(i=Vs(r),i===null)throw Error(n(188));return i!==r?null:r}for(var u=r,h=i;;){var v=u.return;if(v===null)break;var y=v.alternate;if(y===null){if(h=v.return,h!==null){u=h;continue}break}if(v.child===y.child){for(y=v.child;y;){if(y===u)return Tm(v),r;if(y===h)return Tm(v),i;y=y.sibling}throw Error(n(188))}if(u.return!==h.return)u=v,h=y;else{for(var k=!1,A=v.child;A;){if(A===u){k=!0,u=v,h=y;break}if(A===h){k=!0,h=v,u=y;break}A=A.sibling}if(!k){for(A=y.child;A;){if(A===u){k=!0,u=y,h=v;break}if(A===h){k=!0,h=y,u=v;break}A=A.sibling}if(!k)throw Error(n(189))}}if(u.alternate!==h)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?r:i}function Pm(r){return r=f_(r),r!==null?Rm(r):null}function Rm(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Rm(r);if(i!==null)return i;r=r.sibling}return null}var Am=e.unstable_scheduleCallback,Om=e.unstable_cancelCallback,p_=e.unstable_shouldYield,m_=e.unstable_requestPaint,Nt=e.unstable_now,g_=e.unstable_getCurrentPriorityLevel,Tu=e.unstable_ImmediatePriority,Dm=e.unstable_UserBlockingPriority,rl=e.unstable_NormalPriority,v_=e.unstable_LowPriority,Im=e.unstable_IdlePriority,sl=null,gr=null;function y_(r){if(gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(sl,r,void 0,(r.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:b_,x_=Math.log,w_=Math.LN2;function b_(r){return r>>>=0,r===0?32:31-(x_(r)/w_|0)|0}var il=64,ol=4194304;function Oo(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function al(r,i){var u=r.pendingLanes;if(u===0)return 0;var h=0,v=r.suspendedLanes,y=r.pingedLanes,k=u&268435455;if(k!==0){var A=k&~v;A!==0?h=Oo(A):(y&=k,y!==0&&(h=Oo(y)))}else k=u&~v,k!==0?h=Oo(k):y!==0&&(h=Oo(y));if(h===0)return 0;if(i!==0&&i!==h&&(i&v)===0&&(v=h&-h,y=i&-i,v>=y||v===16&&(y&4194240)!==0))return i;if((h&4)!==0&&(h|=u&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=h;0<i;)u=31-Jn(i),v=1<<u,h|=r[u],i&=~v;return h}function j_(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S_(r,i){for(var u=r.suspendedLanes,h=r.pingedLanes,v=r.expirationTimes,y=r.pendingLanes;0<y;){var k=31-Jn(y),A=1<<k,L=v[k];L===-1?((A&u)===0||(A&h)!==0)&&(v[k]=j_(A,i)):L<=i&&(r.expiredLanes|=A),y&=~A}}function Pu(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Mm(){var r=il;return il<<=1,(il&4194240)===0&&(il=64),r}function Ru(r){for(var i=[],u=0;31>u;u++)i.push(r);return i}function Do(r,i,u){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-Jn(i),r[i]=u}function __(r,i){var u=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<u;){var v=31-Jn(u),y=1<<v;i[v]=0,h[v]=-1,r[v]=-1,u&=~y}}function Au(r,i){var u=r.entangledLanes|=i;for(r=r.entanglements;u;){var h=31-Jn(u),v=1<<h;v&i|r[h]&i&&(r[h]|=i),u&=~v}}var ct=0;function Lm(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var $m,Ou,Vm,Fm,Bm,Du=!1,ll=[],Jr=null,Qr=null,Zr=null,Io=new Map,Mo=new Map,es=[],k_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Um(r,i){switch(r){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":Io.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(i.pointerId)}}function Lo(r,i,u,h,v,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:u,eventSystemFlags:h,nativeEvent:y,targetContainers:[v]},i!==null&&(i=Jo(i),i!==null&&Ou(i)),r):(r.eventSystemFlags|=h,i=r.targetContainers,v!==null&&i.indexOf(v)===-1&&i.push(v),r)}function C_(r,i,u,h,v){switch(i){case"focusin":return Jr=Lo(Jr,r,i,u,h,v),!0;case"dragenter":return Qr=Lo(Qr,r,i,u,h,v),!0;case"mouseover":return Zr=Lo(Zr,r,i,u,h,v),!0;case"pointerover":var y=v.pointerId;return Io.set(y,Lo(Io.get(y)||null,r,i,u,h,v)),!0;case"gotpointercapture":return y=v.pointerId,Mo.set(y,Lo(Mo.get(y)||null,r,i,u,h,v)),!0}return!1}function zm(r){var i=Fs(r.target);if(i!==null){var u=Vs(i);if(u!==null){if(i=u.tag,i===13){if(i=Nm(u),i!==null){r.blockedOn=i,Bm(r.priority,function(){Vm(u)});return}}else if(i===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function cl(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var u=Mu(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(u===null){u=r.nativeEvent;var h=new u.constructor(u.type,u);Rr=h,u.target.dispatchEvent(h),Rr=null}else return i=Jo(u),i!==null&&Ou(i),r.blockedOn=u,!1;i.shift()}return!0}function Wm(r,i,u){cl(r)&&u.delete(i)}function E_(){Du=!1,Jr!==null&&cl(Jr)&&(Jr=null),Qr!==null&&cl(Qr)&&(Qr=null),Zr!==null&&cl(Zr)&&(Zr=null),Io.forEach(Wm),Mo.forEach(Wm)}function $o(r,i){r.blockedOn===i&&(r.blockedOn=null,Du||(Du=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,E_)))}function Vo(r){function i(v){return $o(v,r)}if(0<ll.length){$o(ll[0],r);for(var u=1;u<ll.length;u++){var h=ll[u];h.blockedOn===r&&(h.blockedOn=null)}}for(Jr!==null&&$o(Jr,r),Qr!==null&&$o(Qr,r),Zr!==null&&$o(Zr,r),Io.forEach(i),Mo.forEach(i),u=0;u<es.length;u++)h=es[u],h.blockedOn===r&&(h.blockedOn=null);for(;0<es.length&&(u=es[0],u.blockedOn===null);)zm(u),u.blockedOn===null&&es.shift()}var ji=T.ReactCurrentBatchConfig,ul=!0;function N_(r,i,u,h){var v=ct,y=ji.transition;ji.transition=null;try{ct=1,Iu(r,i,u,h)}finally{ct=v,ji.transition=y}}function T_(r,i,u,h){var v=ct,y=ji.transition;ji.transition=null;try{ct=4,Iu(r,i,u,h)}finally{ct=v,ji.transition=y}}function Iu(r,i,u,h){if(ul){var v=Mu(r,i,u,h);if(v===null)Zu(r,i,h,dl,u),Um(r,h);else if(C_(v,r,i,u,h))h.stopPropagation();else if(Um(r,h),i&4&&-1<k_.indexOf(r)){for(;v!==null;){var y=Jo(v);if(y!==null&&$m(y),y=Mu(r,i,u,h),y===null&&Zu(r,i,h,dl,u),y===v)break;v=y}v!==null&&h.stopPropagation()}else Zu(r,i,h,null,u)}}var dl=null;function Mu(r,i,u,h){if(dl=null,r=_e(h),r=Fs(r),r!==null)if(i=Vs(r),i===null)r=null;else if(u=i.tag,u===13){if(r=Nm(i),r!==null)return r;r=null}else if(u===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return dl=r,null}function Hm(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g_()){case Tu:return 1;case Dm:return 4;case rl:case v_:return 16;case Im:return 536870912;default:return 16}default:return 16}}var ts=null,Lu=null,hl=null;function Km(){if(hl)return hl;var r,i=Lu,u=i.length,h,v="value"in ts?ts.value:ts.textContent,y=v.length;for(r=0;r<u&&i[r]===v[r];r++);var k=u-r;for(h=1;h<=k&&i[u-h]===v[y-h];h++);return hl=v.slice(r,1<h?1-h:void 0)}function fl(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function pl(){return!0}function qm(){return!1}function Nn(r){function i(u,h,v,y,k){this._reactName=u,this._targetInst=v,this.type=h,this.nativeEvent=y,this.target=k,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(u=r[A],this[A]=u?u(y):y[A]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?pl:qm,this.isPropagationStopped=qm,this}return B(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=pl)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=pl)},persist:function(){},isPersistent:pl}),i}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$u=Nn(Si),Fo=B({},Si,{view:0,detail:0}),P_=Nn(Fo),Vu,Fu,Bo,ml=B({},Fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Bo&&(Bo&&r.type==="mousemove"?(Vu=r.screenX-Bo.screenX,Fu=r.screenY-Bo.screenY):Fu=Vu=0,Bo=r),Vu)},movementY:function(r){return"movementY"in r?r.movementY:Fu}}),Gm=Nn(ml),R_=B({},ml,{dataTransfer:0}),A_=Nn(R_),O_=B({},Fo,{relatedTarget:0}),Bu=Nn(O_),D_=B({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),I_=Nn(D_),M_=B({},Si,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),L_=Nn(M_),$_=B({},Si,{data:0}),Ym=Nn($_),V_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U_(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=B_[r])?!!i[r]:!1}function Uu(){return U_}var z_=B({},Fo,{key:function(r){if(r.key){var i=V_[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=fl(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?F_[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uu,charCode:function(r){return r.type==="keypress"?fl(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?fl(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),W_=Nn(z_),H_=B({},ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xm=Nn(H_),K_=B({},Fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uu}),q_=Nn(K_),G_=B({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y_=Nn(G_),X_=B({},ml,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),J_=Nn(X_),Q_=[9,13,27,32],zu=d&&"CompositionEvent"in window,Uo=null;d&&"documentMode"in document&&(Uo=document.documentMode);var Z_=d&&"TextEvent"in window&&!Uo,Jm=d&&(!zu||Uo&&8<Uo&&11>=Uo),Qm=" ",Zm=!1;function eg(r,i){switch(r){case"keyup":return Q_.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var _i=!1;function ek(r,i){switch(r){case"compositionend":return tg(i);case"keypress":return i.which!==32?null:(Zm=!0,Qm);case"textInput":return r=i.data,r===Qm&&Zm?null:r;default:return null}}function tk(r,i){if(_i)return r==="compositionend"||!zu&&eg(r,i)?(r=Km(),hl=Lu=ts=null,_i=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Jm&&i.locale!=="ko"?null:i.data;default:return null}}var nk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ng(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!nk[r.type]:i==="textarea"}function rg(r,i,u,h){Ee(h),i=wl(i,"onChange"),0<i.length&&(u=new $u("onChange","change",null,u,h),r.push({event:u,listeners:i}))}var zo=null,Wo=null;function rk(r){bg(r,0)}function gl(r){var i=Ti(r);if(J(i))return r}function sk(r,i){if(r==="change")return i}var sg=!1;if(d){var Wu;if(d){var Hu="oninput"in document;if(!Hu){var ig=document.createElement("div");ig.setAttribute("oninput","return;"),Hu=typeof ig.oninput=="function"}Wu=Hu}else Wu=!1;sg=Wu&&(!document.documentMode||9<document.documentMode)}function og(){zo&&(zo.detachEvent("onpropertychange",ag),Wo=zo=null)}function ag(r){if(r.propertyName==="value"&&gl(Wo)){var i=[];rg(i,Wo,r,_e(r)),at(rk,i)}}function ik(r,i,u){r==="focusin"?(og(),zo=i,Wo=u,zo.attachEvent("onpropertychange",ag)):r==="focusout"&&og()}function ok(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return gl(Wo)}function ak(r,i){if(r==="click")return gl(i)}function lk(r,i){if(r==="input"||r==="change")return gl(i)}function ck(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Qn=typeof Object.is=="function"?Object.is:ck;function Ho(r,i){if(Qn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var u=Object.keys(r),h=Object.keys(i);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var v=u[h];if(!f.call(i,v)||!Qn(r[v],i[v]))return!1}return!0}function lg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function cg(r,i){var u=lg(r);r=0;for(var h;u;){if(u.nodeType===3){if(h=r+u.textContent.length,r<=i&&h>=i)return{node:u,offset:i-r};r=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=lg(u)}}function ug(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?ug(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function dg(){for(var r=window,i=Pe();i instanceof r.HTMLIFrameElement;){try{var u=typeof i.contentWindow.location.href=="string"}catch{u=!1}if(u)r=i.contentWindow;else break;i=Pe(r.document)}return i}function Ku(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function uk(r){var i=dg(),u=r.focusedElem,h=r.selectionRange;if(i!==u&&u&&u.ownerDocument&&ug(u.ownerDocument.documentElement,u)){if(h!==null&&Ku(u)){if(i=h.start,r=h.end,r===void 0&&(r=i),"selectionStart"in u)u.selectionStart=i,u.selectionEnd=Math.min(r,u.value.length);else if(r=(i=u.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var v=u.textContent.length,y=Math.min(h.start,v);h=h.end===void 0?y:Math.min(h.end,v),!r.extend&&y>h&&(v=h,h=y,y=v),v=cg(u,y);var k=cg(u,h);v&&k&&(r.rangeCount!==1||r.anchorNode!==v.node||r.anchorOffset!==v.offset||r.focusNode!==k.node||r.focusOffset!==k.offset)&&(i=i.createRange(),i.setStart(v.node,v.offset),r.removeAllRanges(),y>h?(r.addRange(i),r.extend(k.node,k.offset)):(i.setEnd(k.node,k.offset),r.addRange(i)))}}for(i=[],r=u;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<i.length;u++)r=i[u],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var dk=d&&"documentMode"in document&&11>=document.documentMode,ki=null,qu=null,Ko=null,Gu=!1;function hg(r,i,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Gu||ki==null||ki!==Pe(h)||(h=ki,"selectionStart"in h&&Ku(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ko&&Ho(Ko,h)||(Ko=h,h=wl(qu,"onSelect"),0<h.length&&(i=new $u("onSelect","select",null,i,u),r.push({event:i,listeners:h}),i.target=ki)))}function vl(r,i){var u={};return u[r.toLowerCase()]=i.toLowerCase(),u["Webkit"+r]="webkit"+i,u["Moz"+r]="moz"+i,u}var Ci={animationend:vl("Animation","AnimationEnd"),animationiteration:vl("Animation","AnimationIteration"),animationstart:vl("Animation","AnimationStart"),transitionend:vl("Transition","TransitionEnd")},Yu={},fg={};d&&(fg=document.createElement("div").style,"AnimationEvent"in window||(delete Ci.animationend.animation,delete Ci.animationiteration.animation,delete Ci.animationstart.animation),"TransitionEvent"in window||delete Ci.transitionend.transition);function yl(r){if(Yu[r])return Yu[r];if(!Ci[r])return r;var i=Ci[r],u;for(u in i)if(i.hasOwnProperty(u)&&u in fg)return Yu[r]=i[u];return r}var pg=yl("animationend"),mg=yl("animationiteration"),gg=yl("animationstart"),vg=yl("transitionend"),yg=new Map,xg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ns(r,i){yg.set(r,i),l(i,[r])}for(var Xu=0;Xu<xg.length;Xu++){var Ju=xg[Xu],hk=Ju.toLowerCase(),fk=Ju[0].toUpperCase()+Ju.slice(1);ns(hk,"on"+fk)}ns(pg,"onAnimationEnd"),ns(mg,"onAnimationIteration"),ns(gg,"onAnimationStart"),ns("dblclick","onDoubleClick"),ns("focusin","onFocus"),ns("focusout","onBlur"),ns(vg,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pk=new Set("cancel close invalid load scroll toggle".split(" ").concat(qo));function wg(r,i,u){var h=r.type||"unknown-event";r.currentTarget=u,h_(h,i,void 0,r),r.currentTarget=null}function bg(r,i){i=(i&4)!==0;for(var u=0;u<r.length;u++){var h=r[u],v=h.event;h=h.listeners;e:{var y=void 0;if(i)for(var k=h.length-1;0<=k;k--){var A=h[k],L=A.instance,q=A.currentTarget;if(A=A.listener,L!==y&&v.isPropagationStopped())break e;wg(v,A,q),y=L}else for(k=0;k<h.length;k++){if(A=h[k],L=A.instance,q=A.currentTarget,A=A.listener,L!==y&&v.isPropagationStopped())break e;wg(v,A,q),y=L}}}if(Ao)throw r=Nu,Ao=!1,Nu=null,r}function gt(r,i){var u=i[id];u===void 0&&(u=i[id]=new Set);var h=r+"__bubble";u.has(h)||(jg(i,r,2,!1),u.add(h))}function Qu(r,i,u){var h=0;i&&(h|=4),jg(u,r,h,i)}var xl="_reactListening"+Math.random().toString(36).slice(2);function Go(r){if(!r[xl]){r[xl]=!0,s.forEach(function(u){u!=="selectionchange"&&(pk.has(u)||Qu(u,!1,r),Qu(u,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[xl]||(i[xl]=!0,Qu("selectionchange",!1,i))}}function jg(r,i,u,h){switch(Hm(i)){case 1:var v=N_;break;case 4:v=T_;break;default:v=Iu}u=v.bind(null,i,u,r),v=void 0,!Cn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(v=!0),h?v!==void 0?r.addEventListener(i,u,{capture:!0,passive:v}):r.addEventListener(i,u,!0):v!==void 0?r.addEventListener(i,u,{passive:v}):r.addEventListener(i,u,!1)}function Zu(r,i,u,h,v){var y=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var k=h.tag;if(k===3||k===4){var A=h.stateNode.containerInfo;if(A===v||A.nodeType===8&&A.parentNode===v)break;if(k===4)for(k=h.return;k!==null;){var L=k.tag;if((L===3||L===4)&&(L=k.stateNode.containerInfo,L===v||L.nodeType===8&&L.parentNode===v))return;k=k.return}for(;A!==null;){if(k=Fs(A),k===null)return;if(L=k.tag,L===5||L===6){h=y=k;continue e}A=A.parentNode}}h=h.return}at(function(){var q=y,re=_e(u),se=[];e:{var ne=yg.get(r);if(ne!==void 0){var me=$u,ye=r;switch(r){case"keypress":if(fl(u)===0)break e;case"keydown":case"keyup":me=W_;break;case"focusin":ye="focus",me=Bu;break;case"focusout":ye="blur",me=Bu;break;case"beforeblur":case"afterblur":me=Bu;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=Gm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=A_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=q_;break;case pg:case mg:case gg:me=I_;break;case vg:me=Y_;break;case"scroll":me=P_;break;case"wheel":me=J_;break;case"copy":case"cut":case"paste":me=L_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Xm}var be=(i&4)!==0,Tt=!be&&r==="scroll",U=be?ne!==null?ne+"Capture":null:ne;be=[];for(var $=q,W;$!==null;){W=$;var le=W.stateNode;if(W.tag===5&&le!==null&&(W=le,U!==null&&(le=lt($,U),le!=null&&be.push(Yo($,le,W)))),Tt)break;$=$.return}0<be.length&&(ne=new me(ne,ye,null,u,re),se.push({event:ne,listeners:be}))}}if((i&7)===0){e:{if(ne=r==="mouseover"||r==="pointerover",me=r==="mouseout"||r==="pointerout",ne&&u!==Rr&&(ye=u.relatedTarget||u.fromElement)&&(Fs(ye)||ye[Ar]))break e;if((me||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,me?(ye=u.relatedTarget||u.toElement,me=q,ye=ye?Fs(ye):null,ye!==null&&(Tt=Vs(ye),ye!==Tt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(me=null,ye=q),me!==ye)){if(be=Gm,le="onMouseLeave",U="onMouseEnter",$="mouse",(r==="pointerout"||r==="pointerover")&&(be=Xm,le="onPointerLeave",U="onPointerEnter",$="pointer"),Tt=me==null?ne:Ti(me),W=ye==null?ne:Ti(ye),ne=new be(le,$+"leave",me,u,re),ne.target=Tt,ne.relatedTarget=W,le=null,Fs(re)===q&&(be=new be(U,$+"enter",ye,u,re),be.target=W,be.relatedTarget=Tt,le=be),Tt=le,me&&ye)t:{for(be=me,U=ye,$=0,W=be;W;W=Ei(W))$++;for(W=0,le=U;le;le=Ei(le))W++;for(;0<$-W;)be=Ei(be),$--;for(;0<W-$;)U=Ei(U),W--;for(;$--;){if(be===U||U!==null&&be===U.alternate)break t;be=Ei(be),U=Ei(U)}be=null}else be=null;me!==null&&Sg(se,ne,me,be,!1),ye!==null&&Tt!==null&&Sg(se,Tt,ye,be,!0)}}e:{if(ne=q?Ti(q):window,me=ne.nodeName&&ne.nodeName.toLowerCase(),me==="select"||me==="input"&&ne.type==="file")var ke=sk;else if(ng(ne))if(sg)ke=lk;else{ke=ok;var Re=ik}else(me=ne.nodeName)&&me.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(ke=ak);if(ke&&(ke=ke(r,q))){rg(se,ke,u,re);break e}Re&&Re(r,ne,q),r==="focusout"&&(Re=ne._wrapperState)&&Re.controlled&&ne.type==="number"&&Kt(ne,"number",ne.value)}switch(Re=q?Ti(q):window,r){case"focusin":(ng(Re)||Re.contentEditable==="true")&&(ki=Re,qu=q,Ko=null);break;case"focusout":Ko=qu=ki=null;break;case"mousedown":Gu=!0;break;case"contextmenu":case"mouseup":case"dragend":Gu=!1,hg(se,u,re);break;case"selectionchange":if(dk)break;case"keydown":case"keyup":hg(se,u,re)}var Ae;if(zu)e:{switch(r){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else _i?eg(r,u)&&(Me="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(Me="onCompositionStart");Me&&(Jm&&u.locale!=="ko"&&(_i||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&_i&&(Ae=Km()):(ts=re,Lu="value"in ts?ts.value:ts.textContent,_i=!0)),Re=wl(q,Me),0<Re.length&&(Me=new Ym(Me,r,null,u,re),se.push({event:Me,listeners:Re}),Ae?Me.data=Ae:(Ae=tg(u),Ae!==null&&(Me.data=Ae)))),(Ae=Z_?ek(r,u):tk(r,u))&&(q=wl(q,"onBeforeInput"),0<q.length&&(re=new Ym("onBeforeInput","beforeinput",null,u,re),se.push({event:re,listeners:q}),re.data=Ae))}bg(se,i)})}function Yo(r,i,u){return{instance:r,listener:i,currentTarget:u}}function wl(r,i){for(var u=i+"Capture",h=[];r!==null;){var v=r,y=v.stateNode;v.tag===5&&y!==null&&(v=y,y=lt(r,u),y!=null&&h.unshift(Yo(r,y,v)),y=lt(r,i),y!=null&&h.push(Yo(r,y,v))),r=r.return}return h}function Ei(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Sg(r,i,u,h,v){for(var y=i._reactName,k=[];u!==null&&u!==h;){var A=u,L=A.alternate,q=A.stateNode;if(L!==null&&L===h)break;A.tag===5&&q!==null&&(A=q,v?(L=lt(u,y),L!=null&&k.unshift(Yo(u,L,A))):v||(L=lt(u,y),L!=null&&k.push(Yo(u,L,A)))),u=u.return}k.length!==0&&r.push({event:i,listeners:k})}var mk=/\r\n?/g,gk=/\u0000|\uFFFD/g;function _g(r){return(typeof r=="string"?r:""+r).replace(mk,`
`).replace(gk,"")}function bl(r,i,u){if(i=_g(i),_g(r)!==i&&u)throw Error(n(425))}function jl(){}var ed=null,td=null;function nd(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var rd=typeof setTimeout=="function"?setTimeout:void 0,vk=typeof clearTimeout=="function"?clearTimeout:void 0,kg=typeof Promise=="function"?Promise:void 0,yk=typeof queueMicrotask=="function"?queueMicrotask:typeof kg<"u"?function(r){return kg.resolve(null).then(r).catch(xk)}:rd;function xk(r){setTimeout(function(){throw r})}function sd(r,i){var u=i,h=0;do{var v=u.nextSibling;if(r.removeChild(u),v&&v.nodeType===8)if(u=v.data,u==="/$"){if(h===0){r.removeChild(v),Vo(i);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=v}while(u);Vo(i)}function rs(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Cg(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(i===0)return r;i--}else u==="/$"&&i++}r=r.previousSibling}return null}var Ni=Math.random().toString(36).slice(2),vr="__reactFiber$"+Ni,Xo="__reactProps$"+Ni,Ar="__reactContainer$"+Ni,id="__reactEvents$"+Ni,wk="__reactListeners$"+Ni,bk="__reactHandles$"+Ni;function Fs(r){var i=r[vr];if(i)return i;for(var u=r.parentNode;u;){if(i=u[Ar]||u[vr]){if(u=i.alternate,i.child!==null||u!==null&&u.child!==null)for(r=Cg(r);r!==null;){if(u=r[vr])return u;r=Cg(r)}return i}r=u,u=r.parentNode}return null}function Jo(r){return r=r[vr]||r[Ar],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ti(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Sl(r){return r[Xo]||null}var od=[],Pi=-1;function ss(r){return{current:r}}function vt(r){0>Pi||(r.current=od[Pi],od[Pi]=null,Pi--)}function ft(r,i){Pi++,od[Pi]=r.current,r.current=i}var is={},Jt=ss(is),dn=ss(!1),Bs=is;function Ri(r,i){var u=r.type.contextTypes;if(!u)return is;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var v={},y;for(y in u)v[y]=i[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=v),v}function hn(r){return r=r.childContextTypes,r!=null}function _l(){vt(dn),vt(Jt)}function Eg(r,i,u){if(Jt.current!==is)throw Error(n(168));ft(Jt,i),ft(dn,u)}function Ng(r,i,u){var h=r.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var v in h)if(!(v in i))throw Error(n(108,ee(r)||"Unknown",v));return B({},u,h)}function kl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||is,Bs=Jt.current,ft(Jt,r),ft(dn,dn.current),!0}function Tg(r,i,u){var h=r.stateNode;if(!h)throw Error(n(169));u?(r=Ng(r,i,Bs),h.__reactInternalMemoizedMergedChildContext=r,vt(dn),vt(Jt),ft(Jt,r)):vt(dn),ft(dn,u)}var Or=null,Cl=!1,ad=!1;function Pg(r){Or===null?Or=[r]:Or.push(r)}function jk(r){Cl=!0,Pg(r)}function os(){if(!ad&&Or!==null){ad=!0;var r=0,i=ct;try{var u=Or;for(ct=1;r<u.length;r++){var h=u[r];do h=h(!0);while(h!==null)}Or=null,Cl=!1}catch(v){throw Or!==null&&(Or=Or.slice(r+1)),Am(Tu,os),v}finally{ct=i,ad=!1}}return null}var Ai=[],Oi=0,El=null,Nl=0,Vn=[],Fn=0,Us=null,Dr=1,Ir="";function zs(r,i){Ai[Oi++]=Nl,Ai[Oi++]=El,El=r,Nl=i}function Rg(r,i,u){Vn[Fn++]=Dr,Vn[Fn++]=Ir,Vn[Fn++]=Us,Us=r;var h=Dr;r=Ir;var v=32-Jn(h)-1;h&=~(1<<v),u+=1;var y=32-Jn(i)+v;if(30<y){var k=v-v%5;y=(h&(1<<k)-1).toString(32),h>>=k,v-=k,Dr=1<<32-Jn(i)+v|u<<v|h,Ir=y+r}else Dr=1<<y|u<<v|h,Ir=r}function ld(r){r.return!==null&&(zs(r,1),Rg(r,1,0))}function cd(r){for(;r===El;)El=Ai[--Oi],Ai[Oi]=null,Nl=Ai[--Oi],Ai[Oi]=null;for(;r===Us;)Us=Vn[--Fn],Vn[Fn]=null,Ir=Vn[--Fn],Vn[Fn]=null,Dr=Vn[--Fn],Vn[Fn]=null}var Tn=null,Pn=null,yt=!1,Zn=null;function Ag(r,i){var u=Wn(5,null,null,0);u.elementType="DELETED",u.stateNode=i,u.return=r,i=r.deletions,i===null?(r.deletions=[u],r.flags|=16):i.push(u)}function Og(r,i){switch(r.tag){case 5:var u=r.type;return i=i.nodeType!==1||u.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Tn=r,Pn=rs(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Tn=r,Pn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(u=Us!==null?{id:Dr,overflow:Ir}:null,r.memoizedState={dehydrated:i,treeContext:u,retryLane:1073741824},u=Wn(18,null,null,0),u.stateNode=i,u.return=r,r.child=u,Tn=r,Pn=null,!0):!1;default:return!1}}function ud(r){return(r.mode&1)!==0&&(r.flags&128)===0}function dd(r){if(yt){var i=Pn;if(i){var u=i;if(!Og(r,i)){if(ud(r))throw Error(n(418));i=rs(u.nextSibling);var h=Tn;i&&Og(r,i)?Ag(h,u):(r.flags=r.flags&-4097|2,yt=!1,Tn=r)}}else{if(ud(r))throw Error(n(418));r.flags=r.flags&-4097|2,yt=!1,Tn=r}}}function Dg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Tn=r}function Tl(r){if(r!==Tn)return!1;if(!yt)return Dg(r),yt=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!nd(r.type,r.memoizedProps)),i&&(i=Pn)){if(ud(r))throw Ig(),Error(n(418));for(;i;)Ag(r,i),i=rs(i.nextSibling)}if(Dg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var u=r.data;if(u==="/$"){if(i===0){Pn=rs(r.nextSibling);break e}i--}else u!=="$"&&u!=="$!"&&u!=="$?"||i++}r=r.nextSibling}Pn=null}}else Pn=Tn?rs(r.stateNode.nextSibling):null;return!0}function Ig(){for(var r=Pn;r;)r=rs(r.nextSibling)}function Di(){Pn=Tn=null,yt=!1}function hd(r){Zn===null?Zn=[r]:Zn.push(r)}var Sk=T.ReactCurrentBatchConfig;function Qo(r,i,u){if(r=u.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var h=u.stateNode}if(!h)throw Error(n(147,r));var v=h,y=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(k){var A=v.refs;k===null?delete A[y]:A[y]=k},i._stringRef=y,i)}if(typeof r!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,r))}return r}function Pl(r,i){throw r=Object.prototype.toString.call(i),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Mg(r){var i=r._init;return i(r._payload)}function Lg(r){function i(U,$){if(r){var W=U.deletions;W===null?(U.deletions=[$],U.flags|=16):W.push($)}}function u(U,$){if(!r)return null;for(;$!==null;)i(U,$),$=$.sibling;return null}function h(U,$){for(U=new Map;$!==null;)$.key!==null?U.set($.key,$):U.set($.index,$),$=$.sibling;return U}function v(U,$){return U=ps(U,$),U.index=0,U.sibling=null,U}function y(U,$,W){return U.index=W,r?(W=U.alternate,W!==null?(W=W.index,W<$?(U.flags|=2,$):W):(U.flags|=2,$)):(U.flags|=1048576,$)}function k(U){return r&&U.alternate===null&&(U.flags|=2),U}function A(U,$,W,le){return $===null||$.tag!==6?($=rh(W,U.mode,le),$.return=U,$):($=v($,W),$.return=U,$)}function L(U,$,W,le){var ke=W.type;return ke===R?re(U,$,W.props.children,le,W.key):$!==null&&($.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===M&&Mg(ke)===$.type)?(le=v($,W.props),le.ref=Qo(U,$,W),le.return=U,le):(le=ec(W.type,W.key,W.props,null,U.mode,le),le.ref=Qo(U,$,W),le.return=U,le)}function q(U,$,W,le){return $===null||$.tag!==4||$.stateNode.containerInfo!==W.containerInfo||$.stateNode.implementation!==W.implementation?($=sh(W,U.mode,le),$.return=U,$):($=v($,W.children||[]),$.return=U,$)}function re(U,$,W,le,ke){return $===null||$.tag!==7?($=Js(W,U.mode,le,ke),$.return=U,$):($=v($,W),$.return=U,$)}function se(U,$,W){if(typeof $=="string"&&$!==""||typeof $=="number")return $=rh(""+$,U.mode,W),$.return=U,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case D:return W=ec($.type,$.key,$.props,null,U.mode,W),W.ref=Qo(U,null,$),W.return=U,W;case V:return $=sh($,U.mode,W),$.return=U,$;case M:var le=$._init;return se(U,le($._payload),W)}if(rt($)||K($))return $=Js($,U.mode,W,null),$.return=U,$;Pl(U,$)}return null}function ne(U,$,W,le){var ke=$!==null?$.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return ke!==null?null:A(U,$,""+W,le);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case D:return W.key===ke?L(U,$,W,le):null;case V:return W.key===ke?q(U,$,W,le):null;case M:return ke=W._init,ne(U,$,ke(W._payload),le)}if(rt(W)||K(W))return ke!==null?null:re(U,$,W,le,null);Pl(U,W)}return null}function me(U,$,W,le,ke){if(typeof le=="string"&&le!==""||typeof le=="number")return U=U.get(W)||null,A($,U,""+le,ke);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case D:return U=U.get(le.key===null?W:le.key)||null,L($,U,le,ke);case V:return U=U.get(le.key===null?W:le.key)||null,q($,U,le,ke);case M:var Re=le._init;return me(U,$,W,Re(le._payload),ke)}if(rt(le)||K(le))return U=U.get(W)||null,re($,U,le,ke,null);Pl($,le)}return null}function ye(U,$,W,le){for(var ke=null,Re=null,Ae=$,Me=$=0,Ht=null;Ae!==null&&Me<W.length;Me++){Ae.index>Me?(Ht=Ae,Ae=null):Ht=Ae.sibling;var st=ne(U,Ae,W[Me],le);if(st===null){Ae===null&&(Ae=Ht);break}r&&Ae&&st.alternate===null&&i(U,Ae),$=y(st,$,Me),Re===null?ke=st:Re.sibling=st,Re=st,Ae=Ht}if(Me===W.length)return u(U,Ae),yt&&zs(U,Me),ke;if(Ae===null){for(;Me<W.length;Me++)Ae=se(U,W[Me],le),Ae!==null&&($=y(Ae,$,Me),Re===null?ke=Ae:Re.sibling=Ae,Re=Ae);return yt&&zs(U,Me),ke}for(Ae=h(U,Ae);Me<W.length;Me++)Ht=me(Ae,U,Me,W[Me],le),Ht!==null&&(r&&Ht.alternate!==null&&Ae.delete(Ht.key===null?Me:Ht.key),$=y(Ht,$,Me),Re===null?ke=Ht:Re.sibling=Ht,Re=Ht);return r&&Ae.forEach(function(ms){return i(U,ms)}),yt&&zs(U,Me),ke}function be(U,$,W,le){var ke=K(W);if(typeof ke!="function")throw Error(n(150));if(W=ke.call(W),W==null)throw Error(n(151));for(var Re=ke=null,Ae=$,Me=$=0,Ht=null,st=W.next();Ae!==null&&!st.done;Me++,st=W.next()){Ae.index>Me?(Ht=Ae,Ae=null):Ht=Ae.sibling;var ms=ne(U,Ae,st.value,le);if(ms===null){Ae===null&&(Ae=Ht);break}r&&Ae&&ms.alternate===null&&i(U,Ae),$=y(ms,$,Me),Re===null?ke=ms:Re.sibling=ms,Re=ms,Ae=Ht}if(st.done)return u(U,Ae),yt&&zs(U,Me),ke;if(Ae===null){for(;!st.done;Me++,st=W.next())st=se(U,st.value,le),st!==null&&($=y(st,$,Me),Re===null?ke=st:Re.sibling=st,Re=st);return yt&&zs(U,Me),ke}for(Ae=h(U,Ae);!st.done;Me++,st=W.next())st=me(Ae,U,Me,st.value,le),st!==null&&(r&&st.alternate!==null&&Ae.delete(st.key===null?Me:st.key),$=y(st,$,Me),Re===null?ke=st:Re.sibling=st,Re=st);return r&&Ae.forEach(function(nC){return i(U,nC)}),yt&&zs(U,Me),ke}function Tt(U,$,W,le){if(typeof W=="object"&&W!==null&&W.type===R&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case D:e:{for(var ke=W.key,Re=$;Re!==null;){if(Re.key===ke){if(ke=W.type,ke===R){if(Re.tag===7){u(U,Re.sibling),$=v(Re,W.props.children),$.return=U,U=$;break e}}else if(Re.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===M&&Mg(ke)===Re.type){u(U,Re.sibling),$=v(Re,W.props),$.ref=Qo(U,Re,W),$.return=U,U=$;break e}u(U,Re);break}else i(U,Re);Re=Re.sibling}W.type===R?($=Js(W.props.children,U.mode,le,W.key),$.return=U,U=$):(le=ec(W.type,W.key,W.props,null,U.mode,le),le.ref=Qo(U,$,W),le.return=U,U=le)}return k(U);case V:e:{for(Re=W.key;$!==null;){if($.key===Re)if($.tag===4&&$.stateNode.containerInfo===W.containerInfo&&$.stateNode.implementation===W.implementation){u(U,$.sibling),$=v($,W.children||[]),$.return=U,U=$;break e}else{u(U,$);break}else i(U,$);$=$.sibling}$=sh(W,U.mode,le),$.return=U,U=$}return k(U);case M:return Re=W._init,Tt(U,$,Re(W._payload),le)}if(rt(W))return ye(U,$,W,le);if(K(W))return be(U,$,W,le);Pl(U,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,$!==null&&$.tag===6?(u(U,$.sibling),$=v($,W),$.return=U,U=$):(u(U,$),$=rh(W,U.mode,le),$.return=U,U=$),k(U)):u(U,$)}return Tt}var Ii=Lg(!0),$g=Lg(!1),Rl=ss(null),Al=null,Mi=null,fd=null;function pd(){fd=Mi=Al=null}function md(r){var i=Rl.current;vt(Rl),r._currentValue=i}function gd(r,i,u){for(;r!==null;){var h=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),r===u)break;r=r.return}}function Li(r,i){Al=r,fd=Mi=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(fn=!0),r.firstContext=null)}function Bn(r){var i=r._currentValue;if(fd!==r)if(r={context:r,memoizedValue:i,next:null},Mi===null){if(Al===null)throw Error(n(308));Mi=r,Al.dependencies={lanes:0,firstContext:r}}else Mi=Mi.next=r;return i}var Ws=null;function vd(r){Ws===null?Ws=[r]:Ws.push(r)}function Vg(r,i,u,h){var v=i.interleaved;return v===null?(u.next=u,vd(i)):(u.next=v.next,v.next=u),i.interleaved=u,Mr(r,h)}function Mr(r,i){r.lanes|=i;var u=r.alternate;for(u!==null&&(u.lanes|=i),u=r,r=r.return;r!==null;)r.childLanes|=i,u=r.alternate,u!==null&&(u.childLanes|=i),u=r,r=r.return;return u.tag===3?u.stateNode:null}var as=!1;function yd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fg(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Lr(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function ls(r,i,u){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(et&2)!==0){var v=h.pending;return v===null?i.next=i:(i.next=v.next,v.next=i),h.pending=i,Mr(r,u)}return v=h.interleaved,v===null?(i.next=i,vd(h)):(i.next=v.next,v.next=i),h.interleaved=i,Mr(r,u)}function Ol(r,i,u){if(i=i.updateQueue,i!==null&&(i=i.shared,(u&4194240)!==0)){var h=i.lanes;h&=r.pendingLanes,u|=h,i.lanes=u,Au(r,u)}}function Bg(r,i){var u=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var v=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var k={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};y===null?v=y=k:y=y.next=k,u=u.next}while(u!==null);y===null?v=y=i:y=y.next=i}else v=y=i;u={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=i:r.next=i,u.lastBaseUpdate=i}function Dl(r,i,u,h){var v=r.updateQueue;as=!1;var y=v.firstBaseUpdate,k=v.lastBaseUpdate,A=v.shared.pending;if(A!==null){v.shared.pending=null;var L=A,q=L.next;L.next=null,k===null?y=q:k.next=q,k=L;var re=r.alternate;re!==null&&(re=re.updateQueue,A=re.lastBaseUpdate,A!==k&&(A===null?re.firstBaseUpdate=q:A.next=q,re.lastBaseUpdate=L))}if(y!==null){var se=v.baseState;k=0,re=q=L=null,A=y;do{var ne=A.lane,me=A.eventTime;if((h&ne)===ne){re!==null&&(re=re.next={eventTime:me,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ye=r,be=A;switch(ne=i,me=u,be.tag){case 1:if(ye=be.payload,typeof ye=="function"){se=ye.call(me,se,ne);break e}se=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=be.payload,ne=typeof ye=="function"?ye.call(me,se,ne):ye,ne==null)break e;se=B({},se,ne);break e;case 2:as=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,ne=v.effects,ne===null?v.effects=[A]:ne.push(A))}else me={eventTime:me,lane:ne,tag:A.tag,payload:A.payload,callback:A.callback,next:null},re===null?(q=re=me,L=se):re=re.next=me,k|=ne;if(A=A.next,A===null){if(A=v.shared.pending,A===null)break;ne=A,A=ne.next,ne.next=null,v.lastBaseUpdate=ne,v.shared.pending=null}}while(!0);if(re===null&&(L=se),v.baseState=L,v.firstBaseUpdate=q,v.lastBaseUpdate=re,i=v.shared.interleaved,i!==null){v=i;do k|=v.lane,v=v.next;while(v!==i)}else y===null&&(v.shared.lanes=0);qs|=k,r.lanes=k,r.memoizedState=se}}function Ug(r,i,u){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var h=r[i],v=h.callback;if(v!==null){if(h.callback=null,h=u,typeof v!="function")throw Error(n(191,v));v.call(h)}}}var Zo={},yr=ss(Zo),ea=ss(Zo),ta=ss(Zo);function Hs(r){if(r===Zo)throw Error(n(174));return r}function xd(r,i){switch(ft(ta,i),ft(ea,r),ft(yr,Zo),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ms(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Ms(i,r)}vt(yr),ft(yr,i)}function $i(){vt(yr),vt(ea),vt(ta)}function zg(r){Hs(ta.current);var i=Hs(yr.current),u=Ms(i,r.type);i!==u&&(ft(ea,r),ft(yr,u))}function wd(r){ea.current===r&&(vt(yr),vt(ea))}var wt=ss(0);function Il(r){for(var i=r;i!==null;){if(i.tag===13){var u=i.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var bd=[];function jd(){for(var r=0;r<bd.length;r++)bd[r]._workInProgressVersionPrimary=null;bd.length=0}var Ml=T.ReactCurrentDispatcher,Sd=T.ReactCurrentBatchConfig,Ks=0,bt=null,$t=null,zt=null,Ll=!1,na=!1,ra=0,_k=0;function Qt(){throw Error(n(321))}function _d(r,i){if(i===null)return!1;for(var u=0;u<i.length&&u<r.length;u++)if(!Qn(r[u],i[u]))return!1;return!0}function kd(r,i,u,h,v,y){if(Ks=y,bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ml.current=r===null||r.memoizedState===null?Nk:Tk,r=u(h,v),na){y=0;do{if(na=!1,ra=0,25<=y)throw Error(n(301));y+=1,zt=$t=null,i.updateQueue=null,Ml.current=Pk,r=u(h,v)}while(na)}if(Ml.current=Fl,i=$t!==null&&$t.next!==null,Ks=0,zt=$t=bt=null,Ll=!1,i)throw Error(n(300));return r}function Cd(){var r=ra!==0;return ra=0,r}function xr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?bt.memoizedState=zt=r:zt=zt.next=r,zt}function Un(){if($t===null){var r=bt.alternate;r=r!==null?r.memoizedState:null}else r=$t.next;var i=zt===null?bt.memoizedState:zt.next;if(i!==null)zt=i,$t=r;else{if(r===null)throw Error(n(310));$t=r,r={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},zt===null?bt.memoizedState=zt=r:zt=zt.next=r}return zt}function sa(r,i){return typeof i=="function"?i(r):i}function Ed(r){var i=Un(),u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var h=$t,v=h.baseQueue,y=u.pending;if(y!==null){if(v!==null){var k=v.next;v.next=y.next,y.next=k}h.baseQueue=v=y,u.pending=null}if(v!==null){y=v.next,h=h.baseState;var A=k=null,L=null,q=y;do{var re=q.lane;if((Ks&re)===re)L!==null&&(L=L.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),h=q.hasEagerState?q.eagerState:r(h,q.action);else{var se={lane:re,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};L===null?(A=L=se,k=h):L=L.next=se,bt.lanes|=re,qs|=re}q=q.next}while(q!==null&&q!==y);L===null?k=h:L.next=A,Qn(h,i.memoizedState)||(fn=!0),i.memoizedState=h,i.baseState=k,i.baseQueue=L,u.lastRenderedState=h}if(r=u.interleaved,r!==null){v=r;do y=v.lane,bt.lanes|=y,qs|=y,v=v.next;while(v!==r)}else v===null&&(u.lanes=0);return[i.memoizedState,u.dispatch]}function Nd(r){var i=Un(),u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=r;var h=u.dispatch,v=u.pending,y=i.memoizedState;if(v!==null){u.pending=null;var k=v=v.next;do y=r(y,k.action),k=k.next;while(k!==v);Qn(y,i.memoizedState)||(fn=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),u.lastRenderedState=y}return[y,h]}function Wg(){}function Hg(r,i){var u=bt,h=Un(),v=i(),y=!Qn(h.memoizedState,v);if(y&&(h.memoizedState=v,fn=!0),h=h.queue,Td(Gg.bind(null,u,h,r),[r]),h.getSnapshot!==i||y||zt!==null&&zt.memoizedState.tag&1){if(u.flags|=2048,ia(9,qg.bind(null,u,h,v,i),void 0,null),Wt===null)throw Error(n(349));(Ks&30)!==0||Kg(u,i,v)}return v}function Kg(r,i,u){r.flags|=16384,r={getSnapshot:i,value:u},i=bt.updateQueue,i===null?(i={lastEffect:null,stores:null},bt.updateQueue=i,i.stores=[r]):(u=i.stores,u===null?i.stores=[r]:u.push(r))}function qg(r,i,u,h){i.value=u,i.getSnapshot=h,Yg(i)&&Xg(r)}function Gg(r,i,u){return u(function(){Yg(i)&&Xg(r)})}function Yg(r){var i=r.getSnapshot;r=r.value;try{var u=i();return!Qn(r,u)}catch{return!0}}function Xg(r){var i=Mr(r,1);i!==null&&rr(i,r,1,-1)}function Jg(r){var i=xr();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:r},i.queue=r,r=r.dispatch=Ek.bind(null,bt,r),[i.memoizedState,r]}function ia(r,i,u,h){return r={tag:r,create:i,destroy:u,deps:h,next:null},i=bt.updateQueue,i===null?(i={lastEffect:null,stores:null},bt.updateQueue=i,i.lastEffect=r.next=r):(u=i.lastEffect,u===null?i.lastEffect=r.next=r:(h=u.next,u.next=r,r.next=h,i.lastEffect=r)),r}function Qg(){return Un().memoizedState}function $l(r,i,u,h){var v=xr();bt.flags|=r,v.memoizedState=ia(1|i,u,void 0,h===void 0?null:h)}function Vl(r,i,u,h){var v=Un();h=h===void 0?null:h;var y=void 0;if($t!==null){var k=$t.memoizedState;if(y=k.destroy,h!==null&&_d(h,k.deps)){v.memoizedState=ia(i,u,y,h);return}}bt.flags|=r,v.memoizedState=ia(1|i,u,y,h)}function Zg(r,i){return $l(8390656,8,r,i)}function Td(r,i){return Vl(2048,8,r,i)}function ev(r,i){return Vl(4,2,r,i)}function tv(r,i){return Vl(4,4,r,i)}function nv(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function rv(r,i,u){return u=u!=null?u.concat([r]):null,Vl(4,4,nv.bind(null,i,r),u)}function Pd(){}function sv(r,i){var u=Un();i=i===void 0?null:i;var h=u.memoizedState;return h!==null&&i!==null&&_d(i,h[1])?h[0]:(u.memoizedState=[r,i],r)}function iv(r,i){var u=Un();i=i===void 0?null:i;var h=u.memoizedState;return h!==null&&i!==null&&_d(i,h[1])?h[0]:(r=r(),u.memoizedState=[r,i],r)}function ov(r,i,u){return(Ks&21)===0?(r.baseState&&(r.baseState=!1,fn=!0),r.memoizedState=u):(Qn(u,i)||(u=Mm(),bt.lanes|=u,qs|=u,r.baseState=!0),i)}function kk(r,i){var u=ct;ct=u!==0&&4>u?u:4,r(!0);var h=Sd.transition;Sd.transition={};try{r(!1),i()}finally{ct=u,Sd.transition=h}}function av(){return Un().memoizedState}function Ck(r,i,u){var h=hs(r);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},lv(r))cv(i,u);else if(u=Vg(r,i,u,h),u!==null){var v=ln();rr(u,r,h,v),uv(u,i,h)}}function Ek(r,i,u){var h=hs(r),v={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(lv(r))cv(i,v);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var k=i.lastRenderedState,A=y(k,u);if(v.hasEagerState=!0,v.eagerState=A,Qn(A,k)){var L=i.interleaved;L===null?(v.next=v,vd(i)):(v.next=L.next,L.next=v),i.interleaved=v;return}}catch{}finally{}u=Vg(r,i,v,h),u!==null&&(v=ln(),rr(u,r,h,v),uv(u,i,h))}}function lv(r){var i=r.alternate;return r===bt||i!==null&&i===bt}function cv(r,i){na=Ll=!0;var u=r.pending;u===null?i.next=i:(i.next=u.next,u.next=i),r.pending=i}function uv(r,i,u){if((u&4194240)!==0){var h=i.lanes;h&=r.pendingLanes,u|=h,i.lanes=u,Au(r,u)}}var Fl={readContext:Bn,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},Nk={readContext:Bn,useCallback:function(r,i){return xr().memoizedState=[r,i===void 0?null:i],r},useContext:Bn,useEffect:Zg,useImperativeHandle:function(r,i,u){return u=u!=null?u.concat([r]):null,$l(4194308,4,nv.bind(null,i,r),u)},useLayoutEffect:function(r,i){return $l(4194308,4,r,i)},useInsertionEffect:function(r,i){return $l(4,2,r,i)},useMemo:function(r,i){var u=xr();return i=i===void 0?null:i,r=r(),u.memoizedState=[r,i],r},useReducer:function(r,i,u){var h=xr();return i=u!==void 0?u(i):i,h.memoizedState=h.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},h.queue=r,r=r.dispatch=Ck.bind(null,bt,r),[h.memoizedState,r]},useRef:function(r){var i=xr();return r={current:r},i.memoizedState=r},useState:Jg,useDebugValue:Pd,useDeferredValue:function(r){return xr().memoizedState=r},useTransition:function(){var r=Jg(!1),i=r[0];return r=kk.bind(null,r[1]),xr().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,u){var h=bt,v=xr();if(yt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=i(),Wt===null)throw Error(n(349));(Ks&30)!==0||Kg(h,i,u)}v.memoizedState=u;var y={value:u,getSnapshot:i};return v.queue=y,Zg(Gg.bind(null,h,y,r),[r]),h.flags|=2048,ia(9,qg.bind(null,h,y,u,i),void 0,null),u},useId:function(){var r=xr(),i=Wt.identifierPrefix;if(yt){var u=Ir,h=Dr;u=(h&~(1<<32-Jn(h)-1)).toString(32)+u,i=":"+i+"R"+u,u=ra++,0<u&&(i+="H"+u.toString(32)),i+=":"}else u=_k++,i=":"+i+"r"+u.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},Tk={readContext:Bn,useCallback:sv,useContext:Bn,useEffect:Td,useImperativeHandle:rv,useInsertionEffect:ev,useLayoutEffect:tv,useMemo:iv,useReducer:Ed,useRef:Qg,useState:function(){return Ed(sa)},useDebugValue:Pd,useDeferredValue:function(r){var i=Un();return ov(i,$t.memoizedState,r)},useTransition:function(){var r=Ed(sa)[0],i=Un().memoizedState;return[r,i]},useMutableSource:Wg,useSyncExternalStore:Hg,useId:av,unstable_isNewReconciler:!1},Pk={readContext:Bn,useCallback:sv,useContext:Bn,useEffect:Td,useImperativeHandle:rv,useInsertionEffect:ev,useLayoutEffect:tv,useMemo:iv,useReducer:Nd,useRef:Qg,useState:function(){return Nd(sa)},useDebugValue:Pd,useDeferredValue:function(r){var i=Un();return $t===null?i.memoizedState=r:ov(i,$t.memoizedState,r)},useTransition:function(){var r=Nd(sa)[0],i=Un().memoizedState;return[r,i]},useMutableSource:Wg,useSyncExternalStore:Hg,useId:av,unstable_isNewReconciler:!1};function er(r,i){if(r&&r.defaultProps){i=B({},i),r=r.defaultProps;for(var u in r)i[u]===void 0&&(i[u]=r[u]);return i}return i}function Rd(r,i,u,h){i=r.memoizedState,u=u(h,i),u=u==null?i:B({},i,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var Bl={isMounted:function(r){return(r=r._reactInternals)?Vs(r)===r:!1},enqueueSetState:function(r,i,u){r=r._reactInternals;var h=ln(),v=hs(r),y=Lr(h,v);y.payload=i,u!=null&&(y.callback=u),i=ls(r,y,v),i!==null&&(rr(i,r,v,h),Ol(i,r,v))},enqueueReplaceState:function(r,i,u){r=r._reactInternals;var h=ln(),v=hs(r),y=Lr(h,v);y.tag=1,y.payload=i,u!=null&&(y.callback=u),i=ls(r,y,v),i!==null&&(rr(i,r,v,h),Ol(i,r,v))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var u=ln(),h=hs(r),v=Lr(u,h);v.tag=2,i!=null&&(v.callback=i),i=ls(r,v,h),i!==null&&(rr(i,r,h,u),Ol(i,r,h))}};function dv(r,i,u,h,v,y,k){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,k):i.prototype&&i.prototype.isPureReactComponent?!Ho(u,h)||!Ho(v,y):!0}function hv(r,i,u){var h=!1,v=is,y=i.contextType;return typeof y=="object"&&y!==null?y=Bn(y):(v=hn(i)?Bs:Jt.current,h=i.contextTypes,y=(h=h!=null)?Ri(r,v):is),i=new i(u,y),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Bl,r.stateNode=i,i._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=v,r.__reactInternalMemoizedMaskedChildContext=y),i}function fv(r,i,u,h){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(u,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(u,h),i.state!==r&&Bl.enqueueReplaceState(i,i.state,null)}function Ad(r,i,u,h){var v=r.stateNode;v.props=u,v.state=r.memoizedState,v.refs={},yd(r);var y=i.contextType;typeof y=="object"&&y!==null?v.context=Bn(y):(y=hn(i)?Bs:Jt.current,v.context=Ri(r,y)),v.state=r.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(Rd(r,i,y,u),v.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(i=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),i!==v.state&&Bl.enqueueReplaceState(v,v.state,null),Dl(r,u,v,h),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308)}function Vi(r,i){try{var u="",h=i;do u+=fe(h),h=h.return;while(h);var v=u}catch(y){v=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:i,stack:v,digest:null}}function Od(r,i,u){return{value:r,source:null,stack:u??null,digest:i??null}}function Dd(r,i){try{console.error(i.value)}catch(u){setTimeout(function(){throw u})}}var Rk=typeof WeakMap=="function"?WeakMap:Map;function pv(r,i,u){u=Lr(-1,u),u.tag=3,u.payload={element:null};var h=i.value;return u.callback=function(){Gl||(Gl=!0,Yd=h),Dd(r,i)},u}function mv(r,i,u){u=Lr(-1,u),u.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var v=i.value;u.payload=function(){return h(v)},u.callback=function(){Dd(r,i)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(u.callback=function(){Dd(r,i),typeof h!="function"&&(us===null?us=new Set([this]):us.add(this));var k=i.stack;this.componentDidCatch(i.value,{componentStack:k!==null?k:""})}),u}function gv(r,i,u){var h=r.pingCache;if(h===null){h=r.pingCache=new Rk;var v=new Set;h.set(i,v)}else v=h.get(i),v===void 0&&(v=new Set,h.set(i,v));v.has(u)||(v.add(u),r=Hk.bind(null,r,i,u),i.then(r,r))}function vv(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function yv(r,i,u,h,v){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(i=Lr(-1,1),i.tag=2,ls(u,i,1))),u.lanes|=1),r):(r.flags|=65536,r.lanes=v,r)}var Ak=T.ReactCurrentOwner,fn=!1;function an(r,i,u,h){i.child=r===null?$g(i,null,u,h):Ii(i,r.child,u,h)}function xv(r,i,u,h,v){u=u.render;var y=i.ref;return Li(i,v),h=kd(r,i,u,h,y,v),u=Cd(),r!==null&&!fn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~v,$r(r,i,v)):(yt&&u&&ld(i),i.flags|=1,an(r,i,h,v),i.child)}function wv(r,i,u,h,v){if(r===null){var y=u.type;return typeof y=="function"&&!nh(y)&&y.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(i.tag=15,i.type=y,bv(r,i,y,h,v)):(r=ec(u.type,null,h,i,i.mode,v),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,(r.lanes&v)===0){var k=y.memoizedProps;if(u=u.compare,u=u!==null?u:Ho,u(k,h)&&r.ref===i.ref)return $r(r,i,v)}return i.flags|=1,r=ps(y,h),r.ref=i.ref,r.return=i,i.child=r}function bv(r,i,u,h,v){if(r!==null){var y=r.memoizedProps;if(Ho(y,h)&&r.ref===i.ref)if(fn=!1,i.pendingProps=h=y,(r.lanes&v)!==0)(r.flags&131072)!==0&&(fn=!0);else return i.lanes=r.lanes,$r(r,i,v)}return Id(r,i,u,h,v)}function jv(r,i,u){var h=i.pendingProps,v=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(Bi,Rn),Rn|=u;else{if((u&1073741824)===0)return r=y!==null?y.baseLanes|u:u,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,ft(Bi,Rn),Rn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:u,ft(Bi,Rn),Rn|=h}else y!==null?(h=y.baseLanes|u,i.memoizedState=null):h=u,ft(Bi,Rn),Rn|=h;return an(r,i,v,u),i.child}function Sv(r,i){var u=i.ref;(r===null&&u!==null||r!==null&&r.ref!==u)&&(i.flags|=512,i.flags|=2097152)}function Id(r,i,u,h,v){var y=hn(u)?Bs:Jt.current;return y=Ri(i,y),Li(i,v),u=kd(r,i,u,h,y,v),h=Cd(),r!==null&&!fn?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~v,$r(r,i,v)):(yt&&h&&ld(i),i.flags|=1,an(r,i,u,v),i.child)}function _v(r,i,u,h,v){if(hn(u)){var y=!0;kl(i)}else y=!1;if(Li(i,v),i.stateNode===null)zl(r,i),hv(i,u,h),Ad(i,u,h,v),h=!0;else if(r===null){var k=i.stateNode,A=i.memoizedProps;k.props=A;var L=k.context,q=u.contextType;typeof q=="object"&&q!==null?q=Bn(q):(q=hn(u)?Bs:Jt.current,q=Ri(i,q));var re=u.getDerivedStateFromProps,se=typeof re=="function"||typeof k.getSnapshotBeforeUpdate=="function";se||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(A!==h||L!==q)&&fv(i,k,h,q),as=!1;var ne=i.memoizedState;k.state=ne,Dl(i,h,k,v),L=i.memoizedState,A!==h||ne!==L||dn.current||as?(typeof re=="function"&&(Rd(i,u,re,h),L=i.memoizedState),(A=as||dv(i,u,A,h,ne,L,q))?(se||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(i.flags|=4194308)):(typeof k.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=L),k.props=h,k.state=L,k.context=q,h=A):(typeof k.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{k=i.stateNode,Fg(r,i),A=i.memoizedProps,q=i.type===i.elementType?A:er(i.type,A),k.props=q,se=i.pendingProps,ne=k.context,L=u.contextType,typeof L=="object"&&L!==null?L=Bn(L):(L=hn(u)?Bs:Jt.current,L=Ri(i,L));var me=u.getDerivedStateFromProps;(re=typeof me=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(A!==se||ne!==L)&&fv(i,k,h,L),as=!1,ne=i.memoizedState,k.state=ne,Dl(i,h,k,v);var ye=i.memoizedState;A!==se||ne!==ye||dn.current||as?(typeof me=="function"&&(Rd(i,u,me,h),ye=i.memoizedState),(q=as||dv(i,u,q,h,ne,ye,L)||!1)?(re||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(h,ye,L),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(h,ye,L)),typeof k.componentDidUpdate=="function"&&(i.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof k.componentDidUpdate!="function"||A===r.memoizedProps&&ne===r.memoizedState||(i.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ne===r.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=ye),k.props=h,k.state=ye,k.context=L,h=q):(typeof k.componentDidUpdate!="function"||A===r.memoizedProps&&ne===r.memoizedState||(i.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&ne===r.memoizedState||(i.flags|=1024),h=!1)}return Md(r,i,u,h,y,v)}function Md(r,i,u,h,v,y){Sv(r,i);var k=(i.flags&128)!==0;if(!h&&!k)return v&&Tg(i,u,!1),$r(r,i,y);h=i.stateNode,Ak.current=i;var A=k&&typeof u.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,r!==null&&k?(i.child=Ii(i,r.child,null,y),i.child=Ii(i,null,A,y)):an(r,i,A,y),i.memoizedState=h.state,v&&Tg(i,u,!0),i.child}function kv(r){var i=r.stateNode;i.pendingContext?Eg(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Eg(r,i.context,!1),xd(r,i.containerInfo)}function Cv(r,i,u,h,v){return Di(),hd(v),i.flags|=256,an(r,i,u,h),i.child}var Ld={dehydrated:null,treeContext:null,retryLane:0};function $d(r){return{baseLanes:r,cachePool:null,transitions:null}}function Ev(r,i,u){var h=i.pendingProps,v=wt.current,y=!1,k=(i.flags&128)!==0,A;if((A=k)||(A=r!==null&&r.memoizedState===null?!1:(v&2)!==0),A?(y=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(v|=1),ft(wt,v&1),r===null)return dd(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(k=h.children,r=h.fallback,y?(h=i.mode,y=i.child,k={mode:"hidden",children:k},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=k):y=tc(k,h,0,null),r=Js(r,h,u,null),y.return=i,r.return=i,y.sibling=r,i.child=y,i.child.memoizedState=$d(u),i.memoizedState=Ld,r):Vd(i,k));if(v=r.memoizedState,v!==null&&(A=v.dehydrated,A!==null))return Ok(r,i,k,h,A,v,u);if(y){y=h.fallback,k=i.mode,v=r.child,A=v.sibling;var L={mode:"hidden",children:h.children};return(k&1)===0&&i.child!==v?(h=i.child,h.childLanes=0,h.pendingProps=L,i.deletions=null):(h=ps(v,L),h.subtreeFlags=v.subtreeFlags&14680064),A!==null?y=ps(A,y):(y=Js(y,k,u,null),y.flags|=2),y.return=i,h.return=i,h.sibling=y,i.child=h,h=y,y=i.child,k=r.child.memoizedState,k=k===null?$d(u):{baseLanes:k.baseLanes|u,cachePool:null,transitions:k.transitions},y.memoizedState=k,y.childLanes=r.childLanes&~u,i.memoizedState=Ld,h}return y=r.child,r=y.sibling,h=ps(y,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=u),h.return=i,h.sibling=null,r!==null&&(u=i.deletions,u===null?(i.deletions=[r],i.flags|=16):u.push(r)),i.child=h,i.memoizedState=null,h}function Vd(r,i){return i=tc({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Ul(r,i,u,h){return h!==null&&hd(h),Ii(i,r.child,null,u),r=Vd(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Ok(r,i,u,h,v,y,k){if(u)return i.flags&256?(i.flags&=-257,h=Od(Error(n(422))),Ul(r,i,k,h)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(y=h.fallback,v=i.mode,h=tc({mode:"visible",children:h.children},v,0,null),y=Js(y,v,k,null),y.flags|=2,h.return=i,y.return=i,h.sibling=y,i.child=h,(i.mode&1)!==0&&Ii(i,r.child,null,k),i.child.memoizedState=$d(k),i.memoizedState=Ld,y);if((i.mode&1)===0)return Ul(r,i,k,null);if(v.data==="$!"){if(h=v.nextSibling&&v.nextSibling.dataset,h)var A=h.dgst;return h=A,y=Error(n(419)),h=Od(y,h,void 0),Ul(r,i,k,h)}if(A=(k&r.childLanes)!==0,fn||A){if(h=Wt,h!==null){switch(k&-k){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(h.suspendedLanes|k))!==0?0:v,v!==0&&v!==y.retryLane&&(y.retryLane=v,Mr(r,v),rr(h,r,v,-1))}return th(),h=Od(Error(n(421))),Ul(r,i,k,h)}return v.data==="$?"?(i.flags|=128,i.child=r.child,i=Kk.bind(null,r),v._reactRetry=i,null):(r=y.treeContext,Pn=rs(v.nextSibling),Tn=i,yt=!0,Zn=null,r!==null&&(Vn[Fn++]=Dr,Vn[Fn++]=Ir,Vn[Fn++]=Us,Dr=r.id,Ir=r.overflow,Us=i),i=Vd(i,h.children),i.flags|=4096,i)}function Nv(r,i,u){r.lanes|=i;var h=r.alternate;h!==null&&(h.lanes|=i),gd(r.return,i,u)}function Fd(r,i,u,h,v){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:v}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=u,y.tailMode=v)}function Tv(r,i,u){var h=i.pendingProps,v=h.revealOrder,y=h.tail;if(an(r,i,h.children,u),h=wt.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Nv(r,u,i);else if(r.tag===19)Nv(r,u,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(ft(wt,h),(i.mode&1)===0)i.memoizedState=null;else switch(v){case"forwards":for(u=i.child,v=null;u!==null;)r=u.alternate,r!==null&&Il(r)===null&&(v=u),u=u.sibling;u=v,u===null?(v=i.child,i.child=null):(v=u.sibling,u.sibling=null),Fd(i,!1,v,u,y);break;case"backwards":for(u=null,v=i.child,i.child=null;v!==null;){if(r=v.alternate,r!==null&&Il(r)===null){i.child=v;break}r=v.sibling,v.sibling=u,u=v,v=r}Fd(i,!0,u,null,y);break;case"together":Fd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function zl(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function $r(r,i,u){if(r!==null&&(i.dependencies=r.dependencies),qs|=i.lanes,(u&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(n(153));if(i.child!==null){for(r=i.child,u=ps(r,r.pendingProps),i.child=u,u.return=i;r.sibling!==null;)r=r.sibling,u=u.sibling=ps(r,r.pendingProps),u.return=i;u.sibling=null}return i.child}function Dk(r,i,u){switch(i.tag){case 3:kv(i),Di();break;case 5:zg(i);break;case 1:hn(i.type)&&kl(i);break;case 4:xd(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,v=i.memoizedProps.value;ft(Rl,h._currentValue),h._currentValue=v;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(ft(wt,wt.current&1),i.flags|=128,null):(u&i.child.childLanes)!==0?Ev(r,i,u):(ft(wt,wt.current&1),r=$r(r,i,u),r!==null?r.sibling:null);ft(wt,wt.current&1);break;case 19:if(h=(u&i.childLanes)!==0,(r.flags&128)!==0){if(h)return Tv(r,i,u);i.flags|=128}if(v=i.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ft(wt,wt.current),h)break;return null;case 22:case 23:return i.lanes=0,jv(r,i,u)}return $r(r,i,u)}var Pv,Bd,Rv,Av;Pv=function(r,i){for(var u=i.child;u!==null;){if(u.tag===5||u.tag===6)r.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===i)break;for(;u.sibling===null;){if(u.return===null||u.return===i)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Bd=function(){},Rv=function(r,i,u,h){var v=r.memoizedProps;if(v!==h){r=i.stateNode,Hs(yr.current);var y=null;switch(u){case"input":v=oe(r,v),h=oe(r,h),y=[];break;case"select":v=B({},v,{value:void 0}),h=B({},h,{value:void 0}),y=[];break;case"textarea":v=Lt(r,v),h=Lt(r,h),y=[];break;default:typeof v.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=jl)}Yr(u,h);var k;u=null;for(q in v)if(!h.hasOwnProperty(q)&&v.hasOwnProperty(q)&&v[q]!=null)if(q==="style"){var A=v[q];for(k in A)A.hasOwnProperty(k)&&(u||(u={}),u[k]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(o.hasOwnProperty(q)?y||(y=[]):(y=y||[]).push(q,null));for(q in h){var L=h[q];if(A=v?.[q],h.hasOwnProperty(q)&&L!==A&&(L!=null||A!=null))if(q==="style")if(A){for(k in A)!A.hasOwnProperty(k)||L&&L.hasOwnProperty(k)||(u||(u={}),u[k]="");for(k in L)L.hasOwnProperty(k)&&A[k]!==L[k]&&(u||(u={}),u[k]=L[k])}else u||(y||(y=[]),y.push(q,u)),u=L;else q==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,A=A?A.__html:void 0,L!=null&&A!==L&&(y=y||[]).push(q,L)):q==="children"?typeof L!="string"&&typeof L!="number"||(y=y||[]).push(q,""+L):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(o.hasOwnProperty(q)?(L!=null&&q==="onScroll"&&gt("scroll",r),y||A===L||(y=[])):(y=y||[]).push(q,L))}u&&(y=y||[]).push("style",u);var q=y;(i.updateQueue=q)&&(i.flags|=4)}},Av=function(r,i,u,h){u!==h&&(i.flags|=4)};function oa(r,i){if(!yt)switch(r.tailMode){case"hidden":i=r.tail;for(var u=null;i!==null;)i.alternate!==null&&(u=i),i=i.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Zt(r){var i=r.alternate!==null&&r.alternate.child===r.child,u=0,h=0;if(i)for(var v=r.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags&14680064,h|=v.flags&14680064,v.return=r,v=v.sibling;else for(v=r.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=r,v=v.sibling;return r.subtreeFlags|=h,r.childLanes=u,i}function Ik(r,i,u){var h=i.pendingProps;switch(cd(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(i),null;case 1:return hn(i.type)&&_l(),Zt(i),null;case 3:return h=i.stateNode,$i(),vt(dn),vt(Jt),jd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Tl(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Zn!==null&&(Qd(Zn),Zn=null))),Bd(r,i),Zt(i),null;case 5:wd(i);var v=Hs(ta.current);if(u=i.type,r!==null&&i.stateNode!=null)Rv(r,i,u,h,v),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(n(166));return Zt(i),null}if(r=Hs(yr.current),Tl(i)){h=i.stateNode,u=i.type;var y=i.memoizedProps;switch(h[vr]=i,h[Xo]=y,r=(i.mode&1)!==0,u){case"dialog":gt("cancel",h),gt("close",h);break;case"iframe":case"object":case"embed":gt("load",h);break;case"video":case"audio":for(v=0;v<qo.length;v++)gt(qo[v],h);break;case"source":gt("error",h);break;case"img":case"image":case"link":gt("error",h),gt("load",h);break;case"details":gt("toggle",h);break;case"input":ot(h,y),gt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},gt("invalid",h);break;case"textarea":sn(h,y),gt("invalid",h)}Yr(u,y),v=null;for(var k in y)if(y.hasOwnProperty(k)){var A=y[k];k==="children"?typeof A=="string"?h.textContent!==A&&(y.suppressHydrationWarning!==!0&&bl(h.textContent,A,r),v=["children",A]):typeof A=="number"&&h.textContent!==""+A&&(y.suppressHydrationWarning!==!0&&bl(h.textContent,A,r),v=["children",""+A]):o.hasOwnProperty(k)&&A!=null&&k==="onScroll"&&gt("scroll",h)}switch(u){case"input":Ie(h),Mt(h,y,!0);break;case"textarea":Ie(h),Is(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=jl)}h=v,i.updateQueue=h,h!==null&&(i.flags|=4)}else{k=v.nodeType===9?v:v.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Pr(u)),r==="http://www.w3.org/1999/xhtml"?u==="script"?(r=k.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=k.createElement(u,{is:h.is}):(r=k.createElement(u),u==="select"&&(k=r,h.multiple?k.multiple=!0:h.size&&(k.size=h.size))):r=k.createElementNS(r,u),r[vr]=i,r[Xo]=h,Pv(r,i,!1,!1),i.stateNode=r;e:{switch(k=$s(u,h),u){case"dialog":gt("cancel",r),gt("close",r),v=h;break;case"iframe":case"object":case"embed":gt("load",r),v=h;break;case"video":case"audio":for(v=0;v<qo.length;v++)gt(qo[v],r);v=h;break;case"source":gt("error",r),v=h;break;case"img":case"image":case"link":gt("error",r),gt("load",r),v=h;break;case"details":gt("toggle",r),v=h;break;case"input":ot(r,h),v=oe(r,h),gt("invalid",r);break;case"option":v=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},v=B({},h,{value:void 0}),gt("invalid",r);break;case"textarea":sn(r,h),v=Lt(r,h),gt("invalid",r);break;default:v=h}Yr(u,v),A=v;for(y in A)if(A.hasOwnProperty(y)){var L=A[y];y==="style"?wi(r,L):y==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Gr(r,L)):y==="children"?typeof L=="string"?(u!=="textarea"||L!=="")&&on(r,L):typeof L=="number"&&on(r,""+L):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?L!=null&&y==="onScroll"&&gt("scroll",r):L!=null&&E(r,y,L,k))}switch(u){case"input":Ie(r),Mt(r,h,!1);break;case"textarea":Ie(r),Is(r);break;case"option":h.value!=null&&r.setAttribute("value",""+ce(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?Xn(r,!!h.multiple,y,!1):h.defaultValue!=null&&Xn(r,!!h.multiple,h.defaultValue,!0);break;default:typeof v.onClick=="function"&&(r.onclick=jl)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Zt(i),null;case 6:if(r&&i.stateNode!=null)Av(r,i,r.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(n(166));if(u=Hs(ta.current),Hs(yr.current),Tl(i)){if(h=i.stateNode,u=i.memoizedProps,h[vr]=i,(y=h.nodeValue!==u)&&(r=Tn,r!==null))switch(r.tag){case 3:bl(h.nodeValue,u,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&bl(h.nodeValue,u,(r.mode&1)!==0)}y&&(i.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[vr]=i,i.stateNode=h}return Zt(i),null;case 13:if(vt(wt),h=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(yt&&Pn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Ig(),Di(),i.flags|=98560,y=!1;else if(y=Tl(i),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(n(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[vr]=i}else Di(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Zt(i),y=!1}else Zn!==null&&(Qd(Zn),Zn=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=u,i):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(wt.current&1)!==0?Vt===0&&(Vt=3):th())),i.updateQueue!==null&&(i.flags|=4),Zt(i),null);case 4:return $i(),Bd(r,i),r===null&&Go(i.stateNode.containerInfo),Zt(i),null;case 10:return md(i.type._context),Zt(i),null;case 17:return hn(i.type)&&_l(),Zt(i),null;case 19:if(vt(wt),y=i.memoizedState,y===null)return Zt(i),null;if(h=(i.flags&128)!==0,k=y.rendering,k===null)if(h)oa(y,!1);else{if(Vt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(k=Il(r),k!==null){for(i.flags|=128,oa(y,!1),h=k.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=u,u=i.child;u!==null;)y=u,r=h,y.flags&=14680066,k=y.alternate,k===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=k.childLanes,y.lanes=k.lanes,y.child=k.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=k.memoizedProps,y.memoizedState=k.memoizedState,y.updateQueue=k.updateQueue,y.type=k.type,r=k.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),u=u.sibling;return ft(wt,wt.current&1|2),i.child}r=r.sibling}y.tail!==null&&Nt()>Ui&&(i.flags|=128,h=!0,oa(y,!1),i.lanes=4194304)}else{if(!h)if(r=Il(k),r!==null){if(i.flags|=128,h=!0,u=r.updateQueue,u!==null&&(i.updateQueue=u,i.flags|=4),oa(y,!0),y.tail===null&&y.tailMode==="hidden"&&!k.alternate&&!yt)return Zt(i),null}else 2*Nt()-y.renderingStartTime>Ui&&u!==1073741824&&(i.flags|=128,h=!0,oa(y,!1),i.lanes=4194304);y.isBackwards?(k.sibling=i.child,i.child=k):(u=y.last,u!==null?u.sibling=k:i.child=k,y.last=k)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=Nt(),i.sibling=null,u=wt.current,ft(wt,h?u&1|2:u&1),i):(Zt(i),null);case 22:case 23:return eh(),h=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(Rn&1073741824)!==0&&(Zt(i),i.subtreeFlags&6&&(i.flags|=8192)):Zt(i),null;case 24:return null;case 25:return null}throw Error(n(156,i.tag))}function Mk(r,i){switch(cd(i),i.tag){case 1:return hn(i.type)&&_l(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return $i(),vt(dn),vt(Jt),jd(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return wd(i),null;case 13:if(vt(wt),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Di()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return vt(wt),null;case 4:return $i(),null;case 10:return md(i.type._context),null;case 22:case 23:return eh(),null;case 24:return null;default:return null}}var Wl=!1,en=!1,Lk=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Fi(r,i){var u=r.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){Ct(r,i,h)}else u.current=null}function Ud(r,i,u){try{u()}catch(h){Ct(r,i,h)}}var Ov=!1;function $k(r,i){if(ed=ul,r=dg(),Ku(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var v=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var k=0,A=-1,L=-1,q=0,re=0,se=r,ne=null;t:for(;;){for(var me;se!==u||v!==0&&se.nodeType!==3||(A=k+v),se!==y||h!==0&&se.nodeType!==3||(L=k+h),se.nodeType===3&&(k+=se.nodeValue.length),(me=se.firstChild)!==null;)ne=se,se=me;for(;;){if(se===r)break t;if(ne===u&&++q===v&&(A=k),ne===y&&++re===h&&(L=k),(me=se.nextSibling)!==null)break;se=ne,ne=se.parentNode}se=me}u=A===-1||L===-1?null:{start:A,end:L}}else u=null}u=u||{start:0,end:0}}else u=null;for(td={focusedElem:r,selectionRange:u},ul=!1,ve=i;ve!==null;)if(i=ve,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ve=r;else for(;ve!==null;){i=ve;try{var ye=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var be=ye.memoizedProps,Tt=ye.memoizedState,U=i.stateNode,$=U.getSnapshotBeforeUpdate(i.elementType===i.type?be:er(i.type,be),Tt);U.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var W=i.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(le){Ct(i,i.return,le)}if(r=i.sibling,r!==null){r.return=i.return,ve=r;break}ve=i.return}return ye=Ov,Ov=!1,ye}function aa(r,i,u){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var v=h=h.next;do{if((v.tag&r)===r){var y=v.destroy;v.destroy=void 0,y!==void 0&&Ud(i,u,y)}v=v.next}while(v!==h)}}function Hl(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var u=i=i.next;do{if((u.tag&r)===r){var h=u.create;u.destroy=h()}u=u.next}while(u!==i)}}function zd(r){var i=r.ref;if(i!==null){var u=r.stateNode;switch(r.tag){case 5:r=u;break;default:r=u}typeof i=="function"?i(r):i.current=r}}function Dv(r){var i=r.alternate;i!==null&&(r.alternate=null,Dv(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[vr],delete i[Xo],delete i[id],delete i[wk],delete i[bk])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Iv(r){return r.tag===5||r.tag===3||r.tag===4}function Mv(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Iv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Wd(r,i,u){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?u.nodeType===8?u.parentNode.insertBefore(r,i):u.insertBefore(r,i):(u.nodeType===8?(i=u.parentNode,i.insertBefore(r,u)):(i=u,i.appendChild(r)),u=u._reactRootContainer,u!=null||i.onclick!==null||(i.onclick=jl));else if(h!==4&&(r=r.child,r!==null))for(Wd(r,i,u),r=r.sibling;r!==null;)Wd(r,i,u),r=r.sibling}function Hd(r,i,u){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?u.insertBefore(r,i):u.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(Hd(r,i,u),r=r.sibling;r!==null;)Hd(r,i,u),r=r.sibling}var qt=null,tr=!1;function cs(r,i,u){for(u=u.child;u!==null;)Lv(r,i,u),u=u.sibling}function Lv(r,i,u){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(sl,u)}catch{}switch(u.tag){case 5:en||Fi(u,i);case 6:var h=qt,v=tr;qt=null,cs(r,i,u),qt=h,tr=v,qt!==null&&(tr?(r=qt,u=u.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)):qt.removeChild(u.stateNode));break;case 18:qt!==null&&(tr?(r=qt,u=u.stateNode,r.nodeType===8?sd(r.parentNode,u):r.nodeType===1&&sd(r,u),Vo(r)):sd(qt,u.stateNode));break;case 4:h=qt,v=tr,qt=u.stateNode.containerInfo,tr=!0,cs(r,i,u),qt=h,tr=v;break;case 0:case 11:case 14:case 15:if(!en&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){v=h=h.next;do{var y=v,k=y.destroy;y=y.tag,k!==void 0&&((y&2)!==0||(y&4)!==0)&&Ud(u,i,k),v=v.next}while(v!==h)}cs(r,i,u);break;case 1:if(!en&&(Fi(u,i),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(A){Ct(u,i,A)}cs(r,i,u);break;case 21:cs(r,i,u);break;case 22:u.mode&1?(en=(h=en)||u.memoizedState!==null,cs(r,i,u),en=h):cs(r,i,u);break;default:cs(r,i,u)}}function $v(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var u=r.stateNode;u===null&&(u=r.stateNode=new Lk),i.forEach(function(h){var v=qk.bind(null,r,h);u.has(h)||(u.add(h),h.then(v,v))})}}function nr(r,i){var u=i.deletions;if(u!==null)for(var h=0;h<u.length;h++){var v=u[h];try{var y=r,k=i,A=k;e:for(;A!==null;){switch(A.tag){case 5:qt=A.stateNode,tr=!1;break e;case 3:qt=A.stateNode.containerInfo,tr=!0;break e;case 4:qt=A.stateNode.containerInfo,tr=!0;break e}A=A.return}if(qt===null)throw Error(n(160));Lv(y,k,v),qt=null,tr=!1;var L=v.alternate;L!==null&&(L.return=null),v.return=null}catch(q){Ct(v,i,q)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Vv(i,r),i=i.sibling}function Vv(r,i){var u=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(nr(i,r),wr(r),h&4){try{aa(3,r,r.return),Hl(3,r)}catch(be){Ct(r,r.return,be)}try{aa(5,r,r.return)}catch(be){Ct(r,r.return,be)}}break;case 1:nr(i,r),wr(r),h&512&&u!==null&&Fi(u,u.return);break;case 5:if(nr(i,r),wr(r),h&512&&u!==null&&Fi(u,u.return),r.flags&32){var v=r.stateNode;try{on(v,"")}catch(be){Ct(r,r.return,be)}}if(h&4&&(v=r.stateNode,v!=null)){var y=r.memoizedProps,k=u!==null?u.memoizedProps:y,A=r.type,L=r.updateQueue;if(r.updateQueue=null,L!==null)try{A==="input"&&y.type==="radio"&&y.name!=null&&Ue(v,y),$s(A,k);var q=$s(A,y);for(k=0;k<L.length;k+=2){var re=L[k],se=L[k+1];re==="style"?wi(v,se):re==="dangerouslySetInnerHTML"?Gr(v,se):re==="children"?on(v,se):E(v,re,se,q)}switch(A){case"input":kt(v,y);break;case"textarea":xi(v,y);break;case"select":var ne=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!y.multiple;var me=y.value;me!=null?Xn(v,!!y.multiple,me,!1):ne!==!!y.multiple&&(y.defaultValue!=null?Xn(v,!!y.multiple,y.defaultValue,!0):Xn(v,!!y.multiple,y.multiple?[]:"",!1))}v[Xo]=y}catch(be){Ct(r,r.return,be)}}break;case 6:if(nr(i,r),wr(r),h&4){if(r.stateNode===null)throw Error(n(162));v=r.stateNode,y=r.memoizedProps;try{v.nodeValue=y}catch(be){Ct(r,r.return,be)}}break;case 3:if(nr(i,r),wr(r),h&4&&u!==null&&u.memoizedState.isDehydrated)try{Vo(i.containerInfo)}catch(be){Ct(r,r.return,be)}break;case 4:nr(i,r),wr(r);break;case 13:nr(i,r),wr(r),v=r.child,v.flags&8192&&(y=v.memoizedState!==null,v.stateNode.isHidden=y,!y||v.alternate!==null&&v.alternate.memoizedState!==null||(Gd=Nt())),h&4&&$v(r);break;case 22:if(re=u!==null&&u.memoizedState!==null,r.mode&1?(en=(q=en)||re,nr(i,r),en=q):nr(i,r),wr(r),h&8192){if(q=r.memoizedState!==null,(r.stateNode.isHidden=q)&&!re&&(r.mode&1)!==0)for(ve=r,re=r.child;re!==null;){for(se=ve=re;ve!==null;){switch(ne=ve,me=ne.child,ne.tag){case 0:case 11:case 14:case 15:aa(4,ne,ne.return);break;case 1:Fi(ne,ne.return);var ye=ne.stateNode;if(typeof ye.componentWillUnmount=="function"){h=ne,u=ne.return;try{i=h,ye.props=i.memoizedProps,ye.state=i.memoizedState,ye.componentWillUnmount()}catch(be){Ct(h,u,be)}}break;case 5:Fi(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Uv(se);continue}}me!==null?(me.return=ne,ve=me):Uv(se)}re=re.sibling}e:for(re=null,se=r;;){if(se.tag===5){if(re===null){re=se;try{v=se.stateNode,q?(y=v.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(A=se.stateNode,L=se.memoizedProps.style,k=L!=null&&L.hasOwnProperty("display")?L.display:null,A.style.display=Ls("display",k))}catch(be){Ct(r,r.return,be)}}}else if(se.tag===6){if(re===null)try{se.stateNode.nodeValue=q?"":se.memoizedProps}catch(be){Ct(r,r.return,be)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===r)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===r)break e;for(;se.sibling===null;){if(se.return===null||se.return===r)break e;re===se&&(re=null),se=se.return}re===se&&(re=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:nr(i,r),wr(r),h&4&&$v(r);break;case 21:break;default:nr(i,r),wr(r)}}function wr(r){var i=r.flags;if(i&2){try{e:{for(var u=r.return;u!==null;){if(Iv(u)){var h=u;break e}u=u.return}throw Error(n(160))}switch(h.tag){case 5:var v=h.stateNode;h.flags&32&&(on(v,""),h.flags&=-33);var y=Mv(r);Hd(r,y,v);break;case 3:case 4:var k=h.stateNode.containerInfo,A=Mv(r);Wd(r,A,k);break;default:throw Error(n(161))}}catch(L){Ct(r,r.return,L)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function Vk(r,i,u){ve=r,Fv(r)}function Fv(r,i,u){for(var h=(r.mode&1)!==0;ve!==null;){var v=ve,y=v.child;if(v.tag===22&&h){var k=v.memoizedState!==null||Wl;if(!k){var A=v.alternate,L=A!==null&&A.memoizedState!==null||en;A=Wl;var q=en;if(Wl=k,(en=L)&&!q)for(ve=v;ve!==null;)k=ve,L=k.child,k.tag===22&&k.memoizedState!==null?zv(v):L!==null?(L.return=k,ve=L):zv(v);for(;y!==null;)ve=y,Fv(y),y=y.sibling;ve=v,Wl=A,en=q}Bv(r)}else(v.subtreeFlags&8772)!==0&&y!==null?(y.return=v,ve=y):Bv(r)}}function Bv(r){for(;ve!==null;){var i=ve;if((i.flags&8772)!==0){var u=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:en||Hl(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!en)if(u===null)h.componentDidMount();else{var v=i.elementType===i.type?u.memoizedProps:er(i.type,u.memoizedProps);h.componentDidUpdate(v,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&Ug(i,y,h);break;case 3:var k=i.updateQueue;if(k!==null){if(u=null,i.child!==null)switch(i.child.tag){case 5:u=i.child.stateNode;break;case 1:u=i.child.stateNode}Ug(i,k,u)}break;case 5:var A=i.stateNode;if(u===null&&i.flags&4){u=A;var L=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&u.focus();break;case"img":L.src&&(u.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var q=i.alternate;if(q!==null){var re=q.memoizedState;if(re!==null){var se=re.dehydrated;se!==null&&Vo(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}en||i.flags&512&&zd(i)}catch(ne){Ct(i,i.return,ne)}}if(i===r){ve=null;break}if(u=i.sibling,u!==null){u.return=i.return,ve=u;break}ve=i.return}}function Uv(r){for(;ve!==null;){var i=ve;if(i===r){ve=null;break}var u=i.sibling;if(u!==null){u.return=i.return,ve=u;break}ve=i.return}}function zv(r){for(;ve!==null;){var i=ve;try{switch(i.tag){case 0:case 11:case 15:var u=i.return;try{Hl(4,i)}catch(L){Ct(i,u,L)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var v=i.return;try{h.componentDidMount()}catch(L){Ct(i,v,L)}}var y=i.return;try{zd(i)}catch(L){Ct(i,y,L)}break;case 5:var k=i.return;try{zd(i)}catch(L){Ct(i,k,L)}}}catch(L){Ct(i,i.return,L)}if(i===r){ve=null;break}var A=i.sibling;if(A!==null){A.return=i.return,ve=A;break}ve=i.return}}var Fk=Math.ceil,Kl=T.ReactCurrentDispatcher,Kd=T.ReactCurrentOwner,zn=T.ReactCurrentBatchConfig,et=0,Wt=null,At=null,Gt=0,Rn=0,Bi=ss(0),Vt=0,la=null,qs=0,ql=0,qd=0,ca=null,pn=null,Gd=0,Ui=1/0,Vr=null,Gl=!1,Yd=null,us=null,Yl=!1,ds=null,Xl=0,ua=0,Xd=null,Jl=-1,Ql=0;function ln(){return(et&6)!==0?Nt():Jl!==-1?Jl:Jl=Nt()}function hs(r){return(r.mode&1)===0?1:(et&2)!==0&&Gt!==0?Gt&-Gt:Sk.transition!==null?(Ql===0&&(Ql=Mm()),Ql):(r=ct,r!==0||(r=window.event,r=r===void 0?16:Hm(r.type)),r)}function rr(r,i,u,h){if(50<ua)throw ua=0,Xd=null,Error(n(185));Do(r,u,h),((et&2)===0||r!==Wt)&&(r===Wt&&((et&2)===0&&(ql|=u),Vt===4&&fs(r,Gt)),mn(r,h),u===1&&et===0&&(i.mode&1)===0&&(Ui=Nt()+500,Cl&&os()))}function mn(r,i){var u=r.callbackNode;S_(r,i);var h=al(r,r===Wt?Gt:0);if(h===0)u!==null&&Om(u),r.callbackNode=null,r.callbackPriority=0;else if(i=h&-h,r.callbackPriority!==i){if(u!=null&&Om(u),i===1)r.tag===0?jk(Hv.bind(null,r)):Pg(Hv.bind(null,r)),yk(function(){(et&6)===0&&os()}),u=null;else{switch(Lm(h)){case 1:u=Tu;break;case 4:u=Dm;break;case 16:u=rl;break;case 536870912:u=Im;break;default:u=rl}u=Zv(u,Wv.bind(null,r))}r.callbackPriority=i,r.callbackNode=u}}function Wv(r,i){if(Jl=-1,Ql=0,(et&6)!==0)throw Error(n(327));var u=r.callbackNode;if(zi()&&r.callbackNode!==u)return null;var h=al(r,r===Wt?Gt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||i)i=Zl(r,h);else{i=h;var v=et;et|=2;var y=qv();(Wt!==r||Gt!==i)&&(Vr=null,Ui=Nt()+500,Ys(r,i));do try{zk();break}catch(A){Kv(r,A)}while(!0);pd(),Kl.current=y,et=v,At!==null?i=0:(Wt=null,Gt=0,i=Vt)}if(i!==0){if(i===2&&(v=Pu(r),v!==0&&(h=v,i=Jd(r,v))),i===1)throw u=la,Ys(r,0),fs(r,h),mn(r,Nt()),u;if(i===6)fs(r,h);else{if(v=r.current.alternate,(h&30)===0&&!Bk(v)&&(i=Zl(r,h),i===2&&(y=Pu(r),y!==0&&(h=y,i=Jd(r,y))),i===1))throw u=la,Ys(r,0),fs(r,h),mn(r,Nt()),u;switch(r.finishedWork=v,r.finishedLanes=h,i){case 0:case 1:throw Error(n(345));case 2:Xs(r,pn,Vr);break;case 3:if(fs(r,h),(h&130023424)===h&&(i=Gd+500-Nt(),10<i)){if(al(r,0)!==0)break;if(v=r.suspendedLanes,(v&h)!==h){ln(),r.pingedLanes|=r.suspendedLanes&v;break}r.timeoutHandle=rd(Xs.bind(null,r,pn,Vr),i);break}Xs(r,pn,Vr);break;case 4:if(fs(r,h),(h&4194240)===h)break;for(i=r.eventTimes,v=-1;0<h;){var k=31-Jn(h);y=1<<k,k=i[k],k>v&&(v=k),h&=~y}if(h=v,h=Nt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Fk(h/1960))-h,10<h){r.timeoutHandle=rd(Xs.bind(null,r,pn,Vr),h);break}Xs(r,pn,Vr);break;case 5:Xs(r,pn,Vr);break;default:throw Error(n(329))}}}return mn(r,Nt()),r.callbackNode===u?Wv.bind(null,r):null}function Jd(r,i){var u=ca;return r.current.memoizedState.isDehydrated&&(Ys(r,i).flags|=256),r=Zl(r,i),r!==2&&(i=pn,pn=u,i!==null&&Qd(i)),r}function Qd(r){pn===null?pn=r:pn.push.apply(pn,r)}function Bk(r){for(var i=r;;){if(i.flags&16384){var u=i.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var v=u[h],y=v.getSnapshot;v=v.value;try{if(!Qn(y(),v))return!1}catch{return!1}}}if(u=i.child,i.subtreeFlags&16384&&u!==null)u.return=i,i=u;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function fs(r,i){for(i&=~qd,i&=~ql,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var u=31-Jn(i),h=1<<u;r[u]=-1,i&=~h}}function Hv(r){if((et&6)!==0)throw Error(n(327));zi();var i=al(r,0);if((i&1)===0)return mn(r,Nt()),null;var u=Zl(r,i);if(r.tag!==0&&u===2){var h=Pu(r);h!==0&&(i=h,u=Jd(r,h))}if(u===1)throw u=la,Ys(r,0),fs(r,i),mn(r,Nt()),u;if(u===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Xs(r,pn,Vr),mn(r,Nt()),null}function Zd(r,i){var u=et;et|=1;try{return r(i)}finally{et=u,et===0&&(Ui=Nt()+500,Cl&&os())}}function Gs(r){ds!==null&&ds.tag===0&&(et&6)===0&&zi();var i=et;et|=1;var u=zn.transition,h=ct;try{if(zn.transition=null,ct=1,r)return r()}finally{ct=h,zn.transition=u,et=i,(et&6)===0&&os()}}function eh(){Rn=Bi.current,vt(Bi)}function Ys(r,i){r.finishedWork=null,r.finishedLanes=0;var u=r.timeoutHandle;if(u!==-1&&(r.timeoutHandle=-1,vk(u)),At!==null)for(u=At.return;u!==null;){var h=u;switch(cd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&_l();break;case 3:$i(),vt(dn),vt(Jt),jd();break;case 5:wd(h);break;case 4:$i();break;case 13:vt(wt);break;case 19:vt(wt);break;case 10:md(h.type._context);break;case 22:case 23:eh()}u=u.return}if(Wt=r,At=r=ps(r.current,null),Gt=Rn=i,Vt=0,la=null,qd=ql=qs=0,pn=ca=null,Ws!==null){for(i=0;i<Ws.length;i++)if(u=Ws[i],h=u.interleaved,h!==null){u.interleaved=null;var v=h.next,y=u.pending;if(y!==null){var k=y.next;y.next=v,h.next=k}u.pending=h}Ws=null}return r}function Kv(r,i){do{var u=At;try{if(pd(),Ml.current=Fl,Ll){for(var h=bt.memoizedState;h!==null;){var v=h.queue;v!==null&&(v.pending=null),h=h.next}Ll=!1}if(Ks=0,zt=$t=bt=null,na=!1,ra=0,Kd.current=null,u===null||u.return===null){Vt=1,la=i,At=null;break}e:{var y=r,k=u.return,A=u,L=i;if(i=Gt,A.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var q=L,re=A,se=re.tag;if((re.mode&1)===0&&(se===0||se===11||se===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var me=vv(k);if(me!==null){me.flags&=-257,yv(me,k,A,y,i),me.mode&1&&gv(y,q,i),i=me,L=q;var ye=i.updateQueue;if(ye===null){var be=new Set;be.add(L),i.updateQueue=be}else ye.add(L);break e}else{if((i&1)===0){gv(y,q,i),th();break e}L=Error(n(426))}}else if(yt&&A.mode&1){var Tt=vv(k);if(Tt!==null){(Tt.flags&65536)===0&&(Tt.flags|=256),yv(Tt,k,A,y,i),hd(Vi(L,A));break e}}y=L=Vi(L,A),Vt!==4&&(Vt=2),ca===null?ca=[y]:ca.push(y),y=k;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var U=pv(y,L,i);Bg(y,U);break e;case 1:A=L;var $=y.type,W=y.stateNode;if((y.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(us===null||!us.has(W)))){y.flags|=65536,i&=-i,y.lanes|=i;var le=mv(y,A,i);Bg(y,le);break e}}y=y.return}while(y!==null)}Yv(u)}catch(ke){i=ke,At===u&&u!==null&&(At=u=u.return);continue}break}while(!0)}function qv(){var r=Kl.current;return Kl.current=Fl,r===null?Fl:r}function th(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Wt===null||(qs&268435455)===0&&(ql&268435455)===0||fs(Wt,Gt)}function Zl(r,i){var u=et;et|=2;var h=qv();(Wt!==r||Gt!==i)&&(Vr=null,Ys(r,i));do try{Uk();break}catch(v){Kv(r,v)}while(!0);if(pd(),et=u,Kl.current=h,At!==null)throw Error(n(261));return Wt=null,Gt=0,Vt}function Uk(){for(;At!==null;)Gv(At)}function zk(){for(;At!==null&&!p_();)Gv(At)}function Gv(r){var i=Qv(r.alternate,r,Rn);r.memoizedProps=r.pendingProps,i===null?Yv(r):At=i,Kd.current=null}function Yv(r){var i=r;do{var u=i.alternate;if(r=i.return,(i.flags&32768)===0){if(u=Ik(u,i,Rn),u!==null){At=u;return}}else{if(u=Mk(u,i),u!==null){u.flags&=32767,At=u;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Vt=6,At=null;return}}if(i=i.sibling,i!==null){At=i;return}At=i=r}while(i!==null);Vt===0&&(Vt=5)}function Xs(r,i,u){var h=ct,v=zn.transition;try{zn.transition=null,ct=1,Wk(r,i,u,h)}finally{zn.transition=v,ct=h}return null}function Wk(r,i,u,h){do zi();while(ds!==null);if((et&6)!==0)throw Error(n(327));u=r.finishedWork;var v=r.finishedLanes;if(u===null)return null;if(r.finishedWork=null,r.finishedLanes=0,u===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var y=u.lanes|u.childLanes;if(__(r,y),r===Wt&&(At=Wt=null,Gt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Yl||(Yl=!0,Zv(rl,function(){return zi(),null})),y=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||y){y=zn.transition,zn.transition=null;var k=ct;ct=1;var A=et;et|=4,Kd.current=null,$k(r,u),Vv(u,r),uk(td),ul=!!ed,td=ed=null,r.current=u,Vk(u),m_(),et=A,ct=k,zn.transition=y}else r.current=u;if(Yl&&(Yl=!1,ds=r,Xl=v),y=r.pendingLanes,y===0&&(us=null),y_(u.stateNode),mn(r,Nt()),i!==null)for(h=r.onRecoverableError,u=0;u<i.length;u++)v=i[u],h(v.value,{componentStack:v.stack,digest:v.digest});if(Gl)throw Gl=!1,r=Yd,Yd=null,r;return(Xl&1)!==0&&r.tag!==0&&zi(),y=r.pendingLanes,(y&1)!==0?r===Xd?ua++:(ua=0,Xd=r):ua=0,os(),null}function zi(){if(ds!==null){var r=Lm(Xl),i=zn.transition,u=ct;try{if(zn.transition=null,ct=16>r?16:r,ds===null)var h=!1;else{if(r=ds,ds=null,Xl=0,(et&6)!==0)throw Error(n(331));var v=et;for(et|=4,ve=r.current;ve!==null;){var y=ve,k=y.child;if((ve.flags&16)!==0){var A=y.deletions;if(A!==null){for(var L=0;L<A.length;L++){var q=A[L];for(ve=q;ve!==null;){var re=ve;switch(re.tag){case 0:case 11:case 15:aa(8,re,y)}var se=re.child;if(se!==null)se.return=re,ve=se;else for(;ve!==null;){re=ve;var ne=re.sibling,me=re.return;if(Dv(re),re===q){ve=null;break}if(ne!==null){ne.return=me,ve=ne;break}ve=me}}}var ye=y.alternate;if(ye!==null){var be=ye.child;if(be!==null){ye.child=null;do{var Tt=be.sibling;be.sibling=null,be=Tt}while(be!==null)}}ve=y}}if((y.subtreeFlags&2064)!==0&&k!==null)k.return=y,ve=k;else e:for(;ve!==null;){if(y=ve,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:aa(9,y,y.return)}var U=y.sibling;if(U!==null){U.return=y.return,ve=U;break e}ve=y.return}}var $=r.current;for(ve=$;ve!==null;){k=ve;var W=k.child;if((k.subtreeFlags&2064)!==0&&W!==null)W.return=k,ve=W;else e:for(k=$;ve!==null;){if(A=ve,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:Hl(9,A)}}catch(ke){Ct(A,A.return,ke)}if(A===k){ve=null;break e}var le=A.sibling;if(le!==null){le.return=A.return,ve=le;break e}ve=A.return}}if(et=v,os(),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(sl,r)}catch{}h=!0}return h}finally{ct=u,zn.transition=i}}return!1}function Xv(r,i,u){i=Vi(u,i),i=pv(r,i,1),r=ls(r,i,1),i=ln(),r!==null&&(Do(r,1,i),mn(r,i))}function Ct(r,i,u){if(r.tag===3)Xv(r,r,u);else for(;i!==null;){if(i.tag===3){Xv(i,r,u);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(us===null||!us.has(h))){r=Vi(u,r),r=mv(i,r,1),i=ls(i,r,1),r=ln(),i!==null&&(Do(i,1,r),mn(i,r));break}}i=i.return}}function Hk(r,i,u){var h=r.pingCache;h!==null&&h.delete(i),i=ln(),r.pingedLanes|=r.suspendedLanes&u,Wt===r&&(Gt&u)===u&&(Vt===4||Vt===3&&(Gt&130023424)===Gt&&500>Nt()-Gd?Ys(r,0):qd|=u),mn(r,i)}function Jv(r,i){i===0&&((r.mode&1)===0?i=1:(i=ol,ol<<=1,(ol&130023424)===0&&(ol=4194304)));var u=ln();r=Mr(r,i),r!==null&&(Do(r,i,u),mn(r,u))}function Kk(r){var i=r.memoizedState,u=0;i!==null&&(u=i.retryLane),Jv(r,u)}function qk(r,i){var u=0;switch(r.tag){case 13:var h=r.stateNode,v=r.memoizedState;v!==null&&(u=v.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(i),Jv(r,u)}var Qv;Qv=function(r,i,u){if(r!==null)if(r.memoizedProps!==i.pendingProps||dn.current)fn=!0;else{if((r.lanes&u)===0&&(i.flags&128)===0)return fn=!1,Dk(r,i,u);fn=(r.flags&131072)!==0}else fn=!1,yt&&(i.flags&1048576)!==0&&Rg(i,Nl,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;zl(r,i),r=i.pendingProps;var v=Ri(i,Jt.current);Li(i,u),v=kd(null,i,h,r,v,u);var y=Cd();return i.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,hn(h)?(y=!0,kl(i)):y=!1,i.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,yd(i),v.updater=Bl,i.stateNode=v,v._reactInternals=i,Ad(i,h,r,u),i=Md(null,i,h,!0,y,u)):(i.tag=0,yt&&y&&ld(i),an(null,i,v,u),i=i.child),i;case 16:h=i.elementType;e:{switch(zl(r,i),r=i.pendingProps,v=h._init,h=v(h._payload),i.type=h,v=i.tag=Yk(h),r=er(h,r),v){case 0:i=Id(null,i,h,r,u);break e;case 1:i=_v(null,i,h,r,u);break e;case 11:i=xv(null,i,h,r,u);break e;case 14:i=wv(null,i,h,er(h.type,r),u);break e}throw Error(n(306,h,""))}return i;case 0:return h=i.type,v=i.pendingProps,v=i.elementType===h?v:er(h,v),Id(r,i,h,v,u);case 1:return h=i.type,v=i.pendingProps,v=i.elementType===h?v:er(h,v),_v(r,i,h,v,u);case 3:e:{if(kv(i),r===null)throw Error(n(387));h=i.pendingProps,y=i.memoizedState,v=y.element,Fg(r,i),Dl(i,h,null,u);var k=i.memoizedState;if(h=k.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){v=Vi(Error(n(423)),i),i=Cv(r,i,h,u,v);break e}else if(h!==v){v=Vi(Error(n(424)),i),i=Cv(r,i,h,u,v);break e}else for(Pn=rs(i.stateNode.containerInfo.firstChild),Tn=i,yt=!0,Zn=null,u=$g(i,null,h,u),i.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Di(),h===v){i=$r(r,i,u);break e}an(r,i,h,u)}i=i.child}return i;case 5:return zg(i),r===null&&dd(i),h=i.type,v=i.pendingProps,y=r!==null?r.memoizedProps:null,k=v.children,nd(h,v)?k=null:y!==null&&nd(h,y)&&(i.flags|=32),Sv(r,i),an(r,i,k,u),i.child;case 6:return r===null&&dd(i),null;case 13:return Ev(r,i,u);case 4:return xd(i,i.stateNode.containerInfo),h=i.pendingProps,r===null?i.child=Ii(i,null,h,u):an(r,i,h,u),i.child;case 11:return h=i.type,v=i.pendingProps,v=i.elementType===h?v:er(h,v),xv(r,i,h,v,u);case 7:return an(r,i,i.pendingProps,u),i.child;case 8:return an(r,i,i.pendingProps.children,u),i.child;case 12:return an(r,i,i.pendingProps.children,u),i.child;case 10:e:{if(h=i.type._context,v=i.pendingProps,y=i.memoizedProps,k=v.value,ft(Rl,h._currentValue),h._currentValue=k,y!==null)if(Qn(y.value,k)){if(y.children===v.children&&!dn.current){i=$r(r,i,u);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var A=y.dependencies;if(A!==null){k=y.child;for(var L=A.firstContext;L!==null;){if(L.context===h){if(y.tag===1){L=Lr(-1,u&-u),L.tag=2;var q=y.updateQueue;if(q!==null){q=q.shared;var re=q.pending;re===null?L.next=L:(L.next=re.next,re.next=L),q.pending=L}}y.lanes|=u,L=y.alternate,L!==null&&(L.lanes|=u),gd(y.return,u,i),A.lanes|=u;break}L=L.next}}else if(y.tag===10)k=y.type===i.type?null:y.child;else if(y.tag===18){if(k=y.return,k===null)throw Error(n(341));k.lanes|=u,A=k.alternate,A!==null&&(A.lanes|=u),gd(k,u,i),k=y.sibling}else k=y.child;if(k!==null)k.return=y;else for(k=y;k!==null;){if(k===i){k=null;break}if(y=k.sibling,y!==null){y.return=k.return,k=y;break}k=k.return}y=k}an(r,i,v.children,u),i=i.child}return i;case 9:return v=i.type,h=i.pendingProps.children,Li(i,u),v=Bn(v),h=h(v),i.flags|=1,an(r,i,h,u),i.child;case 14:return h=i.type,v=er(h,i.pendingProps),v=er(h.type,v),wv(r,i,h,v,u);case 15:return bv(r,i,i.type,i.pendingProps,u);case 17:return h=i.type,v=i.pendingProps,v=i.elementType===h?v:er(h,v),zl(r,i),i.tag=1,hn(h)?(r=!0,kl(i)):r=!1,Li(i,u),hv(i,h,v),Ad(i,h,v,u),Md(null,i,h,!0,r,u);case 19:return Tv(r,i,u);case 22:return jv(r,i,u)}throw Error(n(156,i.tag))};function Zv(r,i){return Am(r,i)}function Gk(r,i,u,h){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(r,i,u,h){return new Gk(r,i,u,h)}function nh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Yk(r){if(typeof r=="function")return nh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ue)return 11;if(r===X)return 14}return 2}function ps(r,i){var u=r.alternate;return u===null?(u=Wn(r.tag,i,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=i,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&14680064,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,i=r.dependencies,u.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u}function ec(r,i,u,h,v,y){var k=2;if(h=r,typeof r=="function")nh(r)&&(k=1);else if(typeof r=="string")k=5;else e:switch(r){case R:return Js(u.children,v,y,i);case N:k=8,v|=8;break;case H:return r=Wn(12,u,i,v|2),r.elementType=H,r.lanes=y,r;case Q:return r=Wn(13,u,i,v),r.elementType=Q,r.lanes=y,r;case Y:return r=Wn(19,u,i,v),r.elementType=Y,r.lanes=y,r;case F:return tc(u,v,y,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Z:k=10;break e;case ie:k=9;break e;case ue:k=11;break e;case X:k=14;break e;case M:k=16,h=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return i=Wn(k,u,i,v),i.elementType=r,i.type=h,i.lanes=y,i}function Js(r,i,u,h){return r=Wn(7,r,h,i),r.lanes=u,r}function tc(r,i,u,h){return r=Wn(22,r,h,i),r.elementType=F,r.lanes=u,r.stateNode={isHidden:!1},r}function rh(r,i,u){return r=Wn(6,r,null,i),r.lanes=u,r}function sh(r,i,u){return i=Wn(4,r.children!==null?r.children:[],r.key,i),i.lanes=u,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function Xk(r,i,u,h,v){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ru(0),this.expirationTimes=Ru(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ru(0),this.identifierPrefix=h,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function ih(r,i,u,h,v,y,k,A,L){return r=new Xk(r,i,u,A,L),i===1?(i=1,y===!0&&(i|=8)):i=0,y=Wn(3,null,null,i),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},yd(y),r}function Jk(r,i,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:h==null?null:""+h,children:r,containerInfo:i,implementation:u}}function ey(r){if(!r)return is;r=r._reactInternals;e:{if(Vs(r)!==r||r.tag!==1)throw Error(n(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(hn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(n(171))}if(r.tag===1){var u=r.type;if(hn(u))return Ng(r,u,i)}return i}function ty(r,i,u,h,v,y,k,A,L){return r=ih(u,h,!0,r,v,y,k,A,L),r.context=ey(null),u=r.current,h=ln(),v=hs(u),y=Lr(h,v),y.callback=i??null,ls(u,y,v),r.current.lanes=v,Do(r,v,h),mn(r,h),r}function nc(r,i,u,h){var v=i.current,y=ln(),k=hs(v);return u=ey(u),i.context===null?i.context=u:i.pendingContext=u,i=Lr(y,k),i.payload={element:r},h=h===void 0?null:h,h!==null&&(i.callback=h),r=ls(v,i,k),r!==null&&(rr(r,v,k,y),Ol(r,v,k)),k}function rc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function ny(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<i?u:i}}function oh(r,i){ny(r,i),(r=r.alternate)&&ny(r,i)}function Qk(){return null}var ry=typeof reportError=="function"?reportError:function(r){console.error(r)};function ah(r){this._internalRoot=r}sc.prototype.render=ah.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(n(409));nc(r,i,null,null)},sc.prototype.unmount=ah.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Gs(function(){nc(null,r,null,null)}),i[Ar]=null}};function sc(r){this._internalRoot=r}sc.prototype.unstable_scheduleHydration=function(r){if(r){var i=Fm();r={blockedOn:null,target:r,priority:i};for(var u=0;u<es.length&&i!==0&&i<es[u].priority;u++);es.splice(u,0,r),u===0&&zm(r)}};function lh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function ic(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function sy(){}function Zk(r,i,u,h,v){if(v){if(typeof h=="function"){var y=h;h=function(){var q=rc(k);y.call(q)}}var k=ty(i,h,r,0,null,!1,!1,"",sy);return r._reactRootContainer=k,r[Ar]=k.current,Go(r.nodeType===8?r.parentNode:r),Gs(),k}for(;v=r.lastChild;)r.removeChild(v);if(typeof h=="function"){var A=h;h=function(){var q=rc(L);A.call(q)}}var L=ih(r,0,!1,null,null,!1,!1,"",sy);return r._reactRootContainer=L,r[Ar]=L.current,Go(r.nodeType===8?r.parentNode:r),Gs(function(){nc(i,L,u,h)}),L}function oc(r,i,u,h,v){var y=u._reactRootContainer;if(y){var k=y;if(typeof v=="function"){var A=v;v=function(){var L=rc(k);A.call(L)}}nc(i,k,r,v)}else k=Zk(u,i,r,v,h);return rc(k)}$m=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var u=Oo(i.pendingLanes);u!==0&&(Au(i,u|1),mn(i,Nt()),(et&6)===0&&(Ui=Nt()+500,os()))}break;case 13:Gs(function(){var h=Mr(r,1);if(h!==null){var v=ln();rr(h,r,1,v)}}),oh(r,1)}},Ou=function(r){if(r.tag===13){var i=Mr(r,134217728);if(i!==null){var u=ln();rr(i,r,134217728,u)}oh(r,134217728)}},Vm=function(r){if(r.tag===13){var i=hs(r),u=Mr(r,i);if(u!==null){var h=ln();rr(u,r,i,h)}oh(r,i)}},Fm=function(){return ct},Bm=function(r,i){var u=ct;try{return ct=r,i()}finally{ct=u}},Je=function(r,i,u){switch(i){case"input":if(kt(r,u),i=u.name,u.type==="radio"&&i!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<u.length;i++){var h=u[i];if(h!==r&&h.form===r.form){var v=Sl(h);if(!v)throw Error(n(90));J(h),kt(h,v)}}}break;case"textarea":xi(r,u);break;case"select":i=u.value,i!=null&&Xn(r,!!u.multiple,i,!1)}},ut=Zd,dt=Gs;var eC={usingClientEntryPoint:!1,Events:[Jo,Ti,Sl,Ee,qe,Zd]},da={findFiberByHostInstance:Fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tC={bundleType:da.bundleType,version:da.version,rendererPackageName:da.rendererPackageName,rendererConfig:da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Pm(r),r===null?null:r.stateNode},findFiberByHostInstance:da.findFiberByHostInstance||Qk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{sl=ac.inject(tC),gr=ac}catch{}}return gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eC,gn.createPortal=function(r,i){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lh(i))throw Error(n(200));return Jk(r,i,null,u)},gn.createRoot=function(r,i){if(!lh(r))throw Error(n(299));var u=!1,h="",v=ry;return i!=null&&(i.unstable_strictMode===!0&&(u=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=ih(r,1,!1,null,null,u,!1,h,v),r[Ar]=i.current,Go(r.nodeType===8?r.parentNode:r),new ah(i)},gn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Pm(i),r=r===null?null:r.stateNode,r},gn.flushSync=function(r){return Gs(r)},gn.hydrate=function(r,i,u){if(!ic(i))throw Error(n(200));return oc(null,r,i,!0,u)},gn.hydrateRoot=function(r,i,u){if(!lh(r))throw Error(n(405));var h=u!=null&&u.hydratedSources||null,v=!1,y="",k=ry;if(u!=null&&(u.unstable_strictMode===!0&&(v=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),i=ty(i,null,r,1,u??null,v,!1,y,k),r[Ar]=i.current,Go(r),h)for(r=0;r<h.length;r++)u=h[r],v=u._getVersion,v=v(u._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[u,v]:i.mutableSourceEagerHydrationData.push(u,v);return new sc(i)},gn.render=function(r,i,u){if(!ic(i))throw Error(n(200));return oc(null,r,i,!1,u)},gn.unmountComponentAtNode=function(r){if(!ic(r))throw Error(n(40));return r._reactRootContainer?(Gs(function(){oc(null,null,r,!1,function(){r._reactRootContainer=null,r[Ar]=null})}),!0):!1},gn.unstable_batchedUpdates=Zd,gn.unstable_renderSubtreeIntoContainer=function(r,i,u,h){if(!ic(u))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return oc(r,i,u,!1,h)},gn.version="18.3.1-next-f1338f8080-20240426",gn}var hy;function Xx(){if(hy)return dh.exports;hy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),dh.exports=lC(),dh.exports}var fy;function cC(){if(fy)return lc;fy=1;var t=Xx();return lc.createRoot=t.createRoot,lc.hydrateRoot=t.hydrateRoot,lc}var uC=cC(),b=lp();const z=ap(b),Jx=Gx({__proto__:null,default:z},[b]);var nf=function(t,e){return nf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},nf(t,e)};function Qx(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");nf(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var qn=function(){return qn=Object.assign||function(e){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},qn.apply(this,arguments)};function Ns(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(t,s[o])&&(n[s[o]]=t[s[o]]);return n}function Zx(t,e,n,s){var o=arguments.length,l=o<3?e:s===null?s=Object.getOwnPropertyDescriptor(e,n):s,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(t,e,n,s);else for(var d=t.length-1;d>=0;d--)(c=t[d])&&(l=(o<3?c(l):o>3?c(e,n,l):c(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l}function ew(t,e){return function(n,s){e(n,s,t)}}function tw(t,e,n,s,o,l){function c(_){if(_!==void 0&&typeof _!="function")throw new TypeError("Function expected");return _}for(var d=s.kind,f=d==="getter"?"get":d==="setter"?"set":"value",p=!e&&t?s.static?t:t.prototype:null,m=e||(p?Object.getOwnPropertyDescriptor(p,s.name):{}),g,x=!1,w=n.length-1;w>=0;w--){var S={};for(var j in s)S[j]=j==="access"?{}:s[j];for(var j in s.access)S.access[j]=s.access[j];S.addInitializer=function(_){if(x)throw new TypeError("Cannot add initializers after decoration has completed");l.push(c(_||null))};var C=(0,n[w])(d==="accessor"?{get:m.get,set:m.set}:m[f],S);if(d==="accessor"){if(C===void 0)continue;if(C===null||typeof C!="object")throw new TypeError("Object expected");(g=c(C.get))&&(m.get=g),(g=c(C.set))&&(m.set=g),(g=c(C.init))&&o.unshift(g)}else(g=c(C))&&(d==="field"?o.unshift(g):m[f]=g)}p&&Object.defineProperty(p,s.name,m),x=!0}function nw(t,e,n){for(var s=arguments.length>2,o=0;o<e.length;o++)n=s?e[o].call(t,n):e[o].call(t);return s?n:void 0}function rw(t){return typeof t=="symbol"?t:"".concat(t)}function sw(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function iw(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function je(t,e,n,s){function o(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function d(m){try{p(s.next(m))}catch(g){c(g)}}function f(m){try{p(s.throw(m))}catch(g){c(g)}}function p(m){m.done?l(m.value):o(m.value).then(d,f)}p((s=s.apply(t,e||[])).next())})}function ow(t,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},s,o,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=d(0),c.throw=d(1),c.return=d(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function d(p){return function(m){return f([p,m])}}function f(p){if(s)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(s=1,o&&(l=p[0]&2?o.return:p[0]?o.throw||((l=o.return)&&l.call(o),0):o.next)&&!(l=l.call(o,p[1])).done)return l;switch(o=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,o=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(m){p=[6,m],o=0}finally{s=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var su=Object.create?(function(t,e,n,s){s===void 0&&(s=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,s,o)}):(function(t,e,n,s){s===void 0&&(s=n),t[s]=e[n]});function aw(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&su(e,t,n)}function Uc(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],s=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function cp(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var s=n.call(t),o,l=[],c;try{for(;(e===void 0||e-- >0)&&!(o=s.next()).done;)l.push(o.value)}catch(d){c={error:d}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(c)throw c.error}}return l}function lw(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(cp(arguments[e]));return t}function cw(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var s=Array(t),o=0,e=0;e<n;e++)for(var l=arguments[e],c=0,d=l.length;c<d;c++,o++)s[o]=l[c];return s}function up(t,e,n){if(n||arguments.length===2)for(var s=0,o=e.length,l;s<o;s++)(l||!(s in e))&&(l||(l=Array.prototype.slice.call(e,0,s)),l[s]=e[s]);return t.concat(l||Array.prototype.slice.call(e))}function fo(t){return this instanceof fo?(this.v=t,this):new fo(t)}function uw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(w){return function(S){return Promise.resolve(S).then(w,g)}}function d(w,S){s[w]&&(o[w]=function(j){return new Promise(function(C,_){l.push([w,j,C,_])>1||f(w,j)})},S&&(o[w]=S(o[w])))}function f(w,S){try{p(s[w](S))}catch(j){x(l[0][3],j)}}function p(w){w.value instanceof fo?Promise.resolve(w.value.v).then(m,g):x(l[0][2],w)}function m(w){f("next",w)}function g(w){f("throw",w)}function x(w,S){w(S),l.shift(),l.length&&f(l[0][0],l[0][1])}}function dw(t){var e,n;return e={},s("next"),s("throw",function(o){throw o}),s("return"),e[Symbol.iterator]=function(){return this},e;function s(o,l){e[o]=t[o]?function(c){return(n=!n)?{value:fo(t[o](c)),done:!1}:l?l(c):c}:l}}function hw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Uc=="function"?Uc(t):t[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(l){n[l]=t[l]&&function(c){return new Promise(function(d,f){c=t[l](c),o(d,f,c.done,c.value)})}}function o(l,c,d,f){Promise.resolve(f).then(function(p){l({value:p,done:d})},c)}}function fw(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var dC=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},rf=function(t){return rf=Object.getOwnPropertyNames||function(e){var n=[];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[n.length]=s);return n},rf(t)};function pw(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=rf(t),s=0;s<n.length;s++)n[s]!=="default"&&su(e,t,n[s]);return dC(e,t),e}function mw(t){return t&&t.__esModule?t:{default:t}}function gw(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)}function vw(t,e,n,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(t,n):o?o.value=n:e.set(t,n),n}function yw(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function xw(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var s,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=e[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=e[Symbol.dispose],n&&(o=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");o&&(s=function(){try{o.call(this)}catch(l){return Promise.reject(l)}}),t.stack.push({value:e,dispose:s,async:n})}else n&&t.stack.push({async:!0});return e}var hC=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var s=new Error(n);return s.name="SuppressedError",s.error=t,s.suppressed=e,s};function ww(t){function e(l){t.error=t.hasError?new hC(l,t.error,"An error was suppressed during disposal."):l,t.hasError=!0}var n,s=0;function o(){for(;n=t.stack.pop();)try{if(!n.async&&s===1)return s=0,t.stack.push(n),Promise.resolve().then(o);if(n.dispose){var l=n.dispose.call(n.value);if(n.async)return s|=2,Promise.resolve(l).then(o,function(c){return e(c),o()})}else s|=1}catch(c){e(c)}if(s===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return o()}function bw(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,s,o,l,c){return s?e?".jsx":".js":o&&(!l||!c)?n:o+l+"."+c.toLowerCase()+"js"}):t}const fC={__extends:Qx,__assign:qn,__rest:Ns,__decorate:Zx,__param:ew,__esDecorate:tw,__runInitializers:nw,__propKey:rw,__setFunctionName:sw,__metadata:iw,__awaiter:je,__generator:ow,__createBinding:su,__exportStar:aw,__values:Uc,__read:cp,__spread:lw,__spreadArrays:cw,__spreadArray:up,__await:fo,__asyncGenerator:uw,__asyncDelegator:dw,__asyncValues:hw,__makeTemplateObject:fw,__importStar:pw,__importDefault:mw,__classPrivateFieldGet:gw,__classPrivateFieldSet:vw,__classPrivateFieldIn:yw,__addDisposableResource:xw,__disposeResources:ww,__rewriteRelativeImportExtension:bw},pC=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:xw,get __assign(){return qn},__asyncDelegator:dw,__asyncGenerator:uw,__asyncValues:hw,__await:fo,__awaiter:je,__classPrivateFieldGet:gw,__classPrivateFieldIn:yw,__classPrivateFieldSet:vw,__createBinding:su,__decorate:Zx,__disposeResources:ww,__esDecorate:tw,__exportStar:aw,__extends:Qx,__generator:ow,__importDefault:mw,__importStar:pw,__makeTemplateObject:fw,__metadata:iw,__param:ew,__propKey:rw,__read:cp,__rest:Ns,__rewriteRelativeImportExtension:bw,__runInitializers:nw,__setFunctionName:sw,__spread:lw,__spreadArray:up,__spreadArrays:cw,__values:Uc,default:fC},Symbol.toStringTag,{value:"Module"})),mC="modulepreload",gC=function(t){return"/"+t},py={},wo=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let c=function(p){return Promise.all(p.map(m=>Promise.resolve(m).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=d?.nonce||d?.getAttribute("nonce");o=c(n.map(p=>{if(p=gC(p),p in py)return;py[p]=!0;const m=p.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${g}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":mC,m||(x.as="script"),x.crossOrigin="",x.href=p,f&&x.setAttribute("nonce",f),document.head.appendChild(x),m)return new Promise((w,S)=>{x.addEventListener("load",w),x.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})},vC=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>wo(async()=>{const{default:s}=await Promise.resolve().then(()=>yi);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)};class dp extends Error{constructor(e,n="FunctionsError",s){super(e),this.name=n,this.context=s}}class my extends dp{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class gy extends dp{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class vy extends dp{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var sf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(sf||(sf={}));class yC{constructor(e,{headers:n={},customFetch:s,region:o=sf.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=vC(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return je(this,arguments,void 0,function*(n,s={}){var o;try{const{headers:l,method:c,body:d,signal:f}=s;let p={},{region:m}=s;m||(m=this.region);const g=new URL(`${this.url}/${n}`);m&&m!=="any"&&(p["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let x;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",x=d):typeof d=="string"?(p["Content-Type"]="text/plain",x=d):typeof FormData<"u"&&d instanceof FormData?x=d:(p["Content-Type"]="application/json",x=JSON.stringify(d)):x=d;const w=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:x,signal:f}).catch(_=>{throw _.name==="AbortError"?_:new my(_)}),S=w.headers.get("x-relay-error");if(S&&S==="true")throw new gy(w);if(!w.ok)throw new vy(w);let j=((o=w.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),C;return j==="application/json"?C=yield w.json():j==="application/octet-stream"||j==="application/pdf"?C=yield w.blob():j==="text/event-stream"?C=w:j==="multipart/form-data"?C=yield w.formData():C=yield w.text(),{data:C,error:null,response:w}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new my(l)}:{data:null,error:l,response:l instanceof vy||l instanceof gy?l.context:void 0}}})}}var tn={};const bo=Yx(pC);var cc={},uc={},dc={},hc={},fc={},xC=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},po=xC();const wC=po.fetch,jw=po.fetch.bind(po),Sw=po.Headers,bC=po.Request,jC=po.Response,yi=Object.freeze(Object.defineProperty({__proto__:null,Headers:Sw,Request:bC,Response:jC,default:jw,fetch:wC},Symbol.toStringTag,{value:"Module"})),SC=Yx(yi);var pc={},yy;function _w(){if(yy)return pc;yy=1,Object.defineProperty(pc,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return pc.default=t,pc}var xy;function kw(){if(xy)return fc;xy=1,Object.defineProperty(fc,"__esModule",{value:!0});const t=bo,e=t.__importDefault(SC),n=t.__importDefault(_w());class s{constructor(l){var c,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(c=l.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=new Headers(this.headers),this.headers.set(l,c),this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let f=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var m,g,x,w;let S=null,j=null,C=null,_=p.status,P=p.statusText;if(p.ok){if(this.method!=="HEAD"){const V=await p.text();V===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?j=V:j=JSON.parse(V))}const T=(g=this.headers.get("Prefer"))===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),D=(x=p.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");T&&D&&D.length>1&&(C=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(S={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,C=null,_=406,P="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const T=await p.text();try{S=JSON.parse(T),Array.isArray(S)&&p.status===404&&(j=[],S=null,_=200,P="OK")}catch{p.status===404&&T===""?(_=204,P="No Content"):S={message:T}}if(S&&this.isMaybeSingle&&(!((w=S?.details)===null||w===void 0)&&w.includes("0 rows"))&&(S=null,_=200,P="OK"),S&&this.shouldThrowOnError)throw new n.default(S)}return{error:S,data:j,count:C,status:_,statusText:P}});return this.shouldThrowOnError||(f=f.catch(p=>{var m,g,x;return{error:{message:`${(m=p?.name)!==null&&m!==void 0?m:"FetchError"}: ${p?.message}`,details:`${(g=p?.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(x=p?.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),f.then(l,c)}returns(){return this}overrideTypes(){return this}}return fc.default=s,fc}var wy;function Cw(){if(wy)return hc;wy=1,Object.defineProperty(hc,"__esModule",{value:!0});const e=bo.__importDefault(kw());class n extends e.default{select(o){let l=!1;const c=(o??"*").split("").map(d=>/\s/.test(d)&&!l?"":(d==='"'&&(l=!l),d)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:l=!0,nullsFirst:c,foreignTable:d,referencedTable:f=d}={}){const p=f?`${f}.order`:"order",m=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${m?`${m},`:""}${o}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:l,referencedTable:c=l}={}){const d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,l,{foreignTable:c,referencedTable:d=c}={}){const f=typeof d>"u"?"offset":`${d}.offset`,p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${o}`),this.url.searchParams.set(p,`${l-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:l=!1,settings:c=!1,buffers:d=!1,wal:f=!1,format:p="text"}={}){var m;const g=[o?"analyze":null,l?"verbose":null,c?"settings":null,d?"buffers":null,f?"wal":null].filter(Boolean).join("|"),x=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${x}"; options=${g};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return hc.default=n,hc}var by;function hp(){if(by)return dc;by=1,Object.defineProperty(dc,"__esModule",{value:!0});const e=bo.__importDefault(Cw()),n=new RegExp("[,()]");class s extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}in(l,c){const d=Array.from(new Set(c)).map(f=>typeof f=="string"&&n.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:d,type:f}={}){let p="";f==="plain"?p="pl":f==="phrase"?p="ph":f==="websearch"&&(p="w");const m=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${p}fts${m}.${c}`),this}match(l){return Object.entries(l).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(l,c,d){return this.url.searchParams.append(l,`not.${c}.${d}`),this}or(l,{foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.or`:"or";return this.url.searchParams.append(f,`(${l})`),this}filter(l,c,d){return this.url.searchParams.append(l,`${c}.${d}`),this}}return dc.default=s,dc}var jy;function Ew(){if(jy)return uc;jy=1,Object.defineProperty(uc,"__esModule",{value:!0});const e=bo.__importDefault(hp());class n{constructor(o,{headers:l={},schema:c,fetch:d}){this.url=o,this.headers=new Headers(l),this.schema=c,this.fetch=d}select(o,l){const{head:c=!1,count:d}=l??{},f=c?"HEAD":"GET";let p=!1;const m=(o??"*").split("").map(g=>/\s/.test(g)&&!p?"":(g==='"'&&(p=!p),g)).join("");return this.url.searchParams.set("select",m),d&&this.headers.append("Prefer",`count=${d}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:l,defaultToNull:c=!0}={}){var d;const f="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(p.length>0){const m=[...new Set(p)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(o,{onConflict:l,ignoreDuplicates:c=!1,count:d,defaultToNull:f=!0}={}){var p;const m="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const g=o.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(g.length>0){const x=[...new Set(g)].map(w=>`"${w}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:l}={}){var c;const d="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:o}={}){var l;const c="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return uc.default=n,uc}var Sy;function _C(){if(Sy)return cc;Sy=1,Object.defineProperty(cc,"__esModule",{value:!0});const t=bo,e=t.__importDefault(Ew()),n=t.__importDefault(hp());class s{constructor(l,{headers:c={},schema:d,fetch:f}={}){this.url=l,this.headers=new Headers(c),this.schemaName=d,this.fetch=f}from(l){const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new s(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:d=!1,get:f=!1,count:p}={}){var m;let g;const x=new URL(`${this.url}/rpc/${l}`);let w;d||f?(g=d?"HEAD":"GET",Object.entries(c).filter(([j,C])=>C!==void 0).map(([j,C])=>[j,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([j,C])=>{x.searchParams.append(j,C)})):(g="POST",w=c);const S=new Headers(this.headers);return p&&S.set("Prefer",`count=${p}`),new n.default({method:g,url:x,headers:S,schema:this.schemaName,body:w,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return cc.default=s,cc}var _y;function kC(){if(_y)return tn;_y=1,Object.defineProperty(tn,"__esModule",{value:!0}),tn.PostgrestError=tn.PostgrestBuilder=tn.PostgrestTransformBuilder=tn.PostgrestFilterBuilder=tn.PostgrestQueryBuilder=tn.PostgrestClient=void 0;const t=bo,e=t.__importDefault(_C());tn.PostgrestClient=e.default;const n=t.__importDefault(Ew());tn.PostgrestQueryBuilder=n.default;const s=t.__importDefault(hp());tn.PostgrestFilterBuilder=s.default;const o=t.__importDefault(Cw());tn.PostgrestTransformBuilder=o.default;const l=t.__importDefault(kw());tn.PostgrestBuilder=l.default;const c=t.__importDefault(_w());return tn.PostgrestError=c.default,tn.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:l.default,PostgrestError:c.default},tn}var Nw=kC();const Tw=ap(Nw),CC=Gx({__proto__:null,default:Tw},[Nw]),{PostgrestClient:EC,PostgrestQueryBuilder:U3,PostgrestFilterBuilder:z3,PostgrestTransformBuilder:W3,PostgrestBuilder:H3,PostgrestError:K3}=Tw||CC;class NC{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const s=this.getWebSocketConstructor();return new s(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const TC="2.77.0",PC=`realtime-js/${TC}`,RC="1.0.0",of=1e4,AC=1e3,OC=100;var ja;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ja||(ja={}));var Bt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Bt||(Bt={}));var lr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(lr||(lr={}));var af;(function(t){t.websocket="websocket"})(af||(af={}));var ii;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ii||(ii={}));class DC{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,n,s)}_decodeBroadcast(e,n,s){const o=n.getUint8(1),l=n.getUint8(2);let c=this.HEADER_LENGTH+2;const d=s.decode(e.slice(c,c+o));c=c+o;const f=s.decode(e.slice(c,c+l));c=c+l;const p=JSON.parse(s.decode(e.slice(c,e.byteLength)));return{ref:null,topic:d,event:f,payload:p}}}class Pw{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(pt||(pt={}));const ky=(t,e,n={})=>{var s;const o=(s=n.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=IC(c,t,e,o),l),{}):{}},IC=(t,e,n,s)=>{const o=e.find(d=>d.name===t),l=o?.type,c=n[t];return l&&!s.includes(l)?Rw(l,c):lf(c)},Rw=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return VC(e,n)}switch(t){case pt.bool:return MC(e);case pt.float4:case pt.float8:case pt.int2:case pt.int4:case pt.int8:case pt.numeric:case pt.oid:return LC(e);case pt.json:case pt.jsonb:return $C(e);case pt.timestamp:return FC(e);case pt.abstime:case pt.date:case pt.daterange:case pt.int4range:case pt.int8range:case pt.money:case pt.reltime:case pt.text:case pt.time:case pt.timestamptz:case pt.timetz:case pt.tsrange:case pt.tstzrange:return lf(e);default:return lf(e)}},lf=t=>t,MC=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},LC=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},$C=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},VC=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let l;const c=t.slice(1,n);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(d=>Rw(e,d))}return t},FC=t=>typeof t=="string"?t.replace(" ","T"):t,Aw=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class ph{constructor(e,n,s={},o=of){this.channel=e,this.event=n,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var s;return this._hasReceived(e)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Cy;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Cy||(Cy={}));class Sa{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sa.syncState(this.state,o,l,c),this.pendingDiffs.forEach(f=>{this.state=Sa.syncDiff(this.state,f,l,c)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},o=>{const{onJoin:l,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Sa.syncDiff(this.state,o,l,c),d())}),this.onJoin((o,l,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:c})}),this.onLeave((o,l,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,s,o){const l=this.cloneDeep(e),c=this.transformState(n),d={},f={};return this.map(l,(p,m)=>{c[p]||(f[p]=m)}),this.map(c,(p,m)=>{const g=l[p];if(g){const x=m.map(C=>C.presence_ref),w=g.map(C=>C.presence_ref),S=m.filter(C=>w.indexOf(C.presence_ref)<0),j=g.filter(C=>x.indexOf(C.presence_ref)<0);S.length>0&&(d[p]=S),j.length>0&&(f[p]=j)}else d[p]=m}),this.syncDiff(l,{joins:d,leaves:f},s,o)}static syncDiff(e,n,s,o){const{joins:l,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(l,(d,f)=>{var p;const m=(p=e[d])!==null&&p!==void 0?p:[];if(e[d]=this.cloneDeep(f),m.length>0){const g=e[d].map(w=>w.presence_ref),x=m.filter(w=>g.indexOf(w.presence_ref)<0);e[d].unshift(...x)}s(d,m,f)}),this.map(c,(d,f)=>{let p=e[d];if(!p)return;const m=f.map(g=>g.presence_ref);p=p.filter(g=>m.indexOf(g.presence_ref)<0),e[d]=p,o(d,p,f),p.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(s=>n(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,s)=>{const o=e[s];return"metas"in o?n[s]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[s]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ey;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ey||(Ey={}));var _a;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(_a||(_a={}));var Br;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Br||(Br={}));class fp{constructor(e,n={config:{}},s){var o,l;if(this.topic=e,this.params=n,this.socket=s,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ph(this,lr.join,this.params,this.timeout),this.rejoinTimer=new Pw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(lr.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new Sa(this),this.broadcastEndpointURL=Aw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var s,o,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Bt.closed){const{config:{broadcast:c,presence:d,private:f}}=this.params,p=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(w=>w.filter))!==null&&o!==void 0?o:[],m=!!this.bindings[_a.PRESENCE]&&this.bindings[_a.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,g={},x={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:m}),postgres_changes:p,private:f};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(w=>e?.(Br.CHANNEL_ERROR,w)),this._onClose(()=>e?.(Br.CLOSED)),this.updateJoinPayload(Object.assign({config:x},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var S;if(this.socket.setAuth(),w===void 0){e?.(Br.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,C=(S=j?.length)!==null&&S!==void 0?S:0,_=[];for(let P=0;P<C;P++){const E=j[P],{filter:{event:T,schema:D,table:V,filter:R}}=E,N=w&&w[P];if(N&&N.event===T&&N.schema===D&&N.table===V&&N.filter===R)_.push(Object.assign(Object.assign({},E),{id:N.id}));else{this.unsubscribe(),this.state=Bt.errored,e?.(Br.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(Br.SUBSCRIBED);return}}).receive("error",w=>{this.state=Bt.errored,e?.(Br.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e?.(Br.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,s){return this.state===Bt.joined&&e===_a.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,s)}async httpSend(e,n,s={}){var o;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let f=d.statusText;try{const p=await d.json();f=p.error||p.message||f}catch{}return Promise.reject(new Error(f))}async send(e,n={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,d,f;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Bt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(lr.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new ph(this,lr.leave,{},e),s.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Bt.closed,this.bindings={}}async _fetchWithTimeout(e,n,s){const o=new AbortController,l=setTimeout(()=>o.abort(),s),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(l),c}_push(e,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new ph(this,e,n,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>OC){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,s){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,s){var o,l;const c=e.toLocaleLowerCase(),{close:d,error:f,leave:p,join:m}=lr;if(s&&[d,f,p,m].indexOf(c)>=0&&s!==this._joinRef())return;let x=this._onMessage(c,n,s);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var S,j,C;return((S=w.filter)===null||S===void 0?void 0:S.event)==="*"||((C=(j=w.filter)===null||j===void 0?void 0:j.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===c}).map(w=>w.callback(x,s)):(l=this.bindings[c])===null||l===void 0||l.filter(w=>{var S,j,C,_,P,E;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const T=w.id,D=(S=w.filter)===null||S===void 0?void 0:S.event;return T&&((j=n.ids)===null||j===void 0?void 0:j.includes(T))&&(D==="*"||D?.toLocaleLowerCase()===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const T=(P=(_=w?.filter)===null||_===void 0?void 0:_.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return T==="*"||T===((E=n?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof x=="object"&&"ids"in x){const S=x.data,{schema:j,table:C,commit_timestamp:_,type:P,errors:E}=S;x=Object.assign(Object.assign({},{schema:j,table:C,commit_timestamp:_,eventType:P,new:{},old:{},errors:E}),this._getPayloadRecords(S))}w.callback(x,s)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,s){const o=e.toLocaleLowerCase(),l={type:o,filter:n,callback:s};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(e,n){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&fp.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const s in e)if(e[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(lr.close,{},e)}_onError(e){this._on(lr.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=ky(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=ky(e.columns,e.old_record)),n}}const mh=()=>{},mc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},BC=[1e3,2e3,5e3,1e4],UC=1e4,zC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class WC{constructor(e,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=of,this.transport=null,this.heartbeatIntervalMs=mc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mh,this.ref=0,this.reconnectTimer=null,this.logger=mh,this.conn=null,this.sendBuffer=[],this.serializer=new DC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch>"u"?l=(...c)=>wo(async()=>{const{default:d}=await Promise.resolve().then(()=>yi);return{default:d}},void 0).then(({default:d})=>d(...c)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...c)=>l(...c)},!(!((s=n?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${af.websocket}`,this.httpEndpoint=Aw(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=NC.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:RC}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,s){this.logger(e,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case ja.connecting:return ii.Connecting;case ja.open:return ii.Open;case ja.closing:return ii.Closing;default:return ii.Closed}}isConnected(){return this.connectionState()===ii.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const s=`realtime:${e}`,o=this.getChannels().find(l=>l.topic===s);if(o)return o;{const l=new fp(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:s,payload:o,ref:l}=e,c=()=>{this.encode(e,d=>{var f;(f=this.conn)===null||f===void 0||f.send(d)})};this.log("push",`${n} ${s} (${l})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(AC,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},mc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:o,payload:l,ref:c}=n,d=c?`(${c})`:"",f=l.status||"";this.log("receive",`${f} ${s} ${o} ${d}`.trim(),l),this.channels.filter(p=>p._isMember(s)).forEach(p=>p._trigger(o,l,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(lr.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const s=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${s}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const s=new Blob([zC],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:PC};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(lr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Pw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,s,o,l,c,d,f,p,m;if(this.transport=(n=e?.transport)!==null&&n!==void 0?n:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:of,this.heartbeatIntervalMs=(o=e?.heartbeatIntervalMs)!==null&&o!==void 0?o:mc.HEARTBEAT_INTERVAL,this.worker=(l=e?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=e?.heartbeatCallback)!==null&&d!==void 0?d:mh,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(g=>BC[g-1]||UC),this.encode=(p=e?.encode)!==null&&p!==void 0?p:((g,x)=>x(JSON.stringify(g))),this.decode=(m=e?.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class pp extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function jt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class HC extends pp{constructor(e,n,s){super(e),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class cf extends pp{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const mp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>wo(async()=>{const{default:s}=await Promise.resolve().then(()=>yi);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},KC=()=>je(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield wo(()=>Promise.resolve().then(()=>yi),void 0)).Response:Response}),uf=t=>{if(Array.isArray(t))return t.map(n=>uf(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,s])=>{const o=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[o]=uf(s)}),e},qC=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},gh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),GC=(t,e,n)=>je(void 0,void 0,void 0,function*(){const s=yield KC();t instanceof s&&!n?.noResolveJson?t.json().then(o=>{const l=t.status||500,c=o?.statusCode||l+"";e(new HC(gh(o),l,c))}).catch(o=>{e(new cf(gh(o),o))}):e(new cf(gh(t),t))}),YC=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"||!s?o:(qC(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,e?.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))};function za(t,e,n,s,o,l){return je(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(n,YC(e,s,o,l)).then(f=>{if(!f.ok)throw f;return s?.noResolveJson?f:f.json()}).then(f=>c(f)).catch(f=>GC(f,d,s))})})}function Pa(t,e,n,s){return je(this,void 0,void 0,function*(){return za(t,"GET",e,n,s)})}function ar(t,e,n,s,o){return je(this,void 0,void 0,function*(){return za(t,"POST",e,s,o,n)})}function df(t,e,n,s,o){return je(this,void 0,void 0,function*(){return za(t,"PUT",e,s,o,n)})}function XC(t,e,n,s){return je(this,void 0,void 0,function*(){return za(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function gp(t,e,n,s,o){return je(this,void 0,void 0,function*(){return za(t,"DELETE",e,s,o,n)})}class JC{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return je(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(jt(e))return{data:null,error:e};throw e}})}}var Ow;class QC{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[Ow]="BlobDownloadBuilder",this.promise=null}asStream(){return new JC(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return je(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(jt(e))return{data:null,error:e};throw e}})}}Ow=Symbol.toStringTag;const ZC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ny={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class eE{constructor(e,n={},s,o){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=s,this.fetch=mp(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,s,o){return je(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},Ny),o);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const f=c.metadata;typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),f&&l.append("metadata",this.encodeMetadata(f)),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",c.cacheControl),f&&l.append("metadata",this.encodeMetadata(f))):(l=s,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,f&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),o?.headers&&(d=Object.assign(Object.assign({},d),o.headers));const p=this._removeEmptyFolders(n),m=this._getFinalPath(p),g=yield(e=="PUT"?df:ar)(this.fetch,`${this.url}/object/${m}`,l,Object.assign({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:g.Id,fullPath:g.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(jt(l))return{data:null,error:l};throw l}})}upload(e,n,s){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,s)})}uploadToSignedUrl(e,n,s,o){return je(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),d=new URL(this.url+`/object/upload/sign/${c}`);d.searchParams.set("token",n);try{let f;const p=Object.assign({upsert:Ny.upsert},o),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&s instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",s)):typeof FormData<"u"&&s instanceof FormData?(f=s,f.append("cacheControl",p.cacheControl)):(f=s,m["cache-control"]=`max-age=${p.cacheControl}`,m["content-type"]=p.contentType);const g=yield df(this.fetch,d.toString(),f,{headers:m});return{data:{path:l,fullPath:g.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if(jt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,n){return je(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const o=Object.assign({},this.headers);n?.upsert&&(o["x-upsert"]="true");const l=yield ar(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:o}),c=new URL(this.url+l.url),d=c.searchParams.get("token");if(!d)throw new pp("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:d},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(jt(s))return{data:null,error:s};throw s}})}update(e,n,s){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,s)})}move(e,n,s){return je(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(jt(o))return{data:null,error:o};throw o}})}copy(e,n,s){return je(this,void 0,void 0,function*(){try{return{data:{path:(yield ar(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(jt(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,s){return je(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),l=yield ar(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(jt(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,s){return je(this,void 0,void 0,function*(){try{const o=yield ar(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),l=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(jt(o))return{data:null,error:o};throw o}})}download(e,n){const o=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),c=l?`?${l}`:"",d=this._getFinalPath(e),f=()=>Pa(this.fetch,`${this.url}/${o}/${d}${c}`,{headers:this.headers,noResolveJson:!0});return new QC(f,this.shouldThrowOnError)}info(e){return je(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const s=yield Pa(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:uf(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(jt(s))return{data:null,error:s};throw s}})}exists(e){return je(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield XC(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(jt(s)&&s instanceof cf){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,n){const s=this._getFinalPath(e),o=[],l=n?.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&o.push(l);const d=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&o.push(f);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${p}`)}}}remove(e){return je(this,void 0,void 0,function*(){try{return{data:yield gp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}})}list(e,n,s){return je(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},ZC),n),{prefix:e||""});return{data:yield ar(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(jt(o))return{data:null,error:o};throw o}})}listV2(e,n){return je(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield ar(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(jt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Dw="2.77.0",Iw={"X-Client-Info":`storage-js/${Dw}`};class tE{constructor(e,n={},s,o){this.shouldThrowOnError=!1;const l=new URL(e);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Iw),n),this.fetch=mp(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return je(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Pa(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}})}getBucket(e){return je(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}})}createBucket(e){return je(this,arguments,void 0,function*(n,s={public:!1}){try{return{data:yield ar(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(jt(o))return{data:null,error:o};throw o}})}updateBucket(e,n){return je(this,void 0,void 0,function*(){try{return{data:yield df(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(jt(s))return{data:null,error:s};throw s}})}emptyBucket(e){return je(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return je(this,void 0,void 0,function*(){try{return{data:yield gp(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class nE{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Iw),n),this.fetch=mp(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return je(this,void 0,void 0,function*(){try{return{data:yield ar(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}})}listBuckets(e){return je(this,void 0,void 0,function*(){try{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const s=n.toString(),o=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield Pa(this.fetch,o,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return je(this,void 0,void 0,function*(){try{return{data:yield gp(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}})}}const vp={"X-Client-Info":`storage-js/${Dw}`,"Content-Type":"application/json"};class Mw extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Dn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class vh extends Mw{constructor(e,n,s){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class rE extends Mw{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var Ty;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Ty||(Ty={}));const yp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>wo(async()=>{const{default:s}=await Promise.resolve().then(()=>yi);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},sE=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Py=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),iE=(t,e,n)=>je(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!n?.noResolveJson){const o=t.status||500,l=t;if(typeof l.json=="function")l.json().then(c=>{const d=c?.statusCode||c?.code||o+"";e(new vh(Py(c),o,d))}).catch(()=>{const c=o+"",d=l.statusText||`HTTP ${o} error`;e(new vh(d,o,c))});else{const c=o+"",d=l.statusText||`HTTP ${o} error`;e(new vh(d,o,c))}}else e(new rE(Py(t),t))}),oE=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return s?(sE(s)?(o.headers=Object.assign({"Content-Type":"application/json"},e?.headers),o.body=JSON.stringify(s)):o.body=s,Object.assign(Object.assign({},o),n)):o};function aE(t,e,n,s,o,l){return je(this,void 0,void 0,function*(){return new Promise((c,d)=>{t(n,oE(e,s,o,l)).then(f=>{if(!f.ok)throw f;if(s?.noResolveJson)return f;const p=f.headers.get("content-type");return!p||!p.includes("application/json")?{}:f.json()}).then(f=>c(f)).catch(f=>iE(f,d,s))})})}function In(t,e,n,s,o){return je(this,void 0,void 0,function*(){return aE(t,"POST",e,s,o,n)})}class lE{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vp),n),this.fetch=yp(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return je(this,void 0,void 0,function*(){try{return{data:(yield In(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dn(n))return{data:null,error:n};throw n}})}getIndex(e,n){return je(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dn(s))return{data:null,error:s};throw s}})}listIndexes(e){return je(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dn(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return je(this,void 0,void 0,function*(){try{return{data:(yield In(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Dn(s))return{data:null,error:s};throw s}})}}class cE{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vp),n),this.fetch=yp(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return je(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield In(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dn(n))return{data:null,error:n};throw n}})}getVectors(e){return je(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dn(n))return{data:null,error:n};throw n}})}listVectors(e){return je(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield In(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dn(n))return{data:null,error:n};throw n}})}queryVectors(e){return je(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dn(n))return{data:null,error:n};throw n}})}deleteVectors(e){return je(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield In(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dn(n))return{data:null,error:n};throw n}})}}class uE{constructor(e,n={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vp),n),this.fetch=yp(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return je(this,void 0,void 0,function*(){try{return{data:(yield In(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dn(n))return{data:null,error:n};throw n}})}getBucket(e){return je(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dn(n))return{data:null,error:n};throw n}})}listBuckets(){return je(this,arguments,void 0,function*(e={}){try{return{data:yield In(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return je(this,void 0,void 0,function*(){try{return{data:(yield In(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dn(n))return{data:null,error:n};throw n}})}}class dE extends uE{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new hE(this.url,this.headers,e,this.fetch)}}class hE extends lE{constructor(e,n,s,o){super(e,n,o),this.vectorBucketName=s}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return je(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return je(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return je(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return je(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new fE(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class fE extends cE{constructor(e,n,s,o,l){super(e,n,l),this.vectorBucketName=s,this.indexName=o}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return je(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return je(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return je(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return je(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return je(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class pE extends tE{constructor(e,n={},s,o){super(e,n,s,o)}from(e){return new eE(this.url,this.headers,e,this.fetch)}get vectors(){return new dE(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new nE(this.url+"/iceberg",this.headers,this.fetch)}}const mE="2.77.0";let ya="";typeof Deno<"u"?ya="deno":typeof document<"u"?ya="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ya="react-native":ya="node";const gE={"X-Client-Info":`supabase-js-${ya}/${mE}`},vE={headers:gE},yE={schema:"public"},xE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wE={},bE=t=>{let e;return t?e=t:typeof fetch>"u"?e=jw:e=fetch,(...n)=>e(...n)},jE=()=>typeof Headers>"u"?Sw:Headers,SE=(t,e,n)=>{const s=bE(n),o=jE();return async(l,c)=>{var d;const f=(d=await e())!==null&&d!==void 0?d:t;let p=new o(c?.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),s(l,Object.assign(Object.assign({},c),{headers:p}))}};function _E(t){return t.endsWith("/")?t:t+"/"}function kE(t,e){var n,s;const{db:o,auth:l,realtime:c,global:d}=t,{db:f,auth:p,realtime:m,global:g}=e,x={db:Object.assign(Object.assign({},f),o),auth:Object.assign(Object.assign({},p),l),realtime:Object.assign(Object.assign({},m),c),storage:{},global:Object.assign(Object.assign(Object.assign({},g),d),{headers:Object.assign(Object.assign({},(n=g?.headers)!==null&&n!==void 0?n:{}),(s=d?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?x.accessToken=t.accessToken:delete x.accessToken,x}function CE(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(_E(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Lw="2.77.0",Zi=30*1e3,hf=3,yh=hf*Zi,EE="http://localhost:9999",NE="supabase.auth.token",TE={"X-Client-Info":`gotrue-js/${Lw}`},ff="X-Supabase-Api-Version",$w={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},PE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,RE=600*1e3;class Ra extends Error{constructor(e,n,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function Oe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class AE extends Ra{constructor(e,n,s){super(e,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function OE(t){return Oe(t)&&t.name==="AuthApiError"}class oi extends Ra{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Ts extends Ra{constructor(e,n,s,o){super(e,s,o),this.name=n,this.status=s}}class ys extends Ts{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function DE(t){return Oe(t)&&t.name==="AuthSessionMissingError"}class Wi extends Ts{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gc extends Ts{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class vc extends Ts{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function IE(t){return Oe(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ry extends Ts{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pf extends Ts{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function xh(t){return Oe(t)&&t.name==="AuthRetryableFetchError"}class Ay extends Ts{constructor(e,n,s){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class mf extends Ts{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const zc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Oy=` 	
\r=`.split(""),ME=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Oy.length;e+=1)t[Oy[e].charCodeAt(0)]=-2;for(let e=0;e<zc.length;e+=1)t[zc[e].charCodeAt(0)]=e;return t})();function Dy(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(zc[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;n(zc[s]),e.queuedBits-=6}}function Vw(t,e,n){const s=ME[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Iy(t){const e=[],n=c=>{e.push(String.fromCodePoint(c))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},l=c=>{VE(c,s,n)};for(let c=0;c<t.length;c+=1)Vw(t.charCodeAt(c),o,l);return e.join("")}function LE(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function $E(t,e){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}LE(s,e)}}function VE(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ao(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Vw(t.charCodeAt(o),n,s);return new Uint8Array(e)}function FE(t){const e=[];return $E(t,n=>e.push(n)),new Uint8Array(e)}function ai(t){const e=[],n={queue:0,queuedBits:0},s=o=>{e.push(o)};return t.forEach(o=>Dy(o,n,s)),Dy(null,n,s),e.join("")}function BE(t){return Math.round(Date.now()/1e3)+t}function UE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const An=()=>typeof window<"u"&&typeof document<"u",Qs={tested:!1,writable:!1},Fw=()=>{if(!An())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qs.tested)return Qs.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Qs.tested=!0,Qs.writable=!0}catch{Qs.tested=!0,Qs.writable=!1}return Qs.writable};function zE(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,l)=>{e[l]=o})}catch{}return n.searchParams.forEach((s,o)=>{e[o]=s}),e}const Bw=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>wo(async()=>{const{default:s}=await Promise.resolve().then(()=>yi);return{default:s}},void 0).then(({default:s})=>s(...n)):e=fetch,(...n)=>e(...n)},WE=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",eo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Zs=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gs=async(t,e)=>{await t.removeItem(e)};class iu{constructor(){this.promise=new iu.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}iu.promiseConstructor=Promise;function wh(t){const e=t.split(".");if(e.length!==3)throw new mf("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!PE.test(e[s]))throw new mf("JWT not in base64url format");return{header:JSON.parse(Iy(e[0])),payload:JSON.parse(Iy(e[1])),signature:ao(e[2]),raw:{header:e[0],payload:e[1]}}}async function HE(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function KE(t,e){return new Promise((s,o)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){s(c);return}}catch(c){if(!e(l,c)){o(c);return}}})()})}function qE(t){return("0"+t.toString(16)).substr(-2)}function GE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let o="";for(let l=0;l<56;l++)o+=n.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(e),Array.from(e,qE).join("")}async function YE(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(s);return Array.from(o).map(l=>String.fromCharCode(l)).join("")}async function XE(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await YE(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Hi(t,e,n=!1){const s=GE();let o=s;n&&(o+="/PASSWORD_RECOVERY"),await eo(t,`${e}-code-verifier`,o);const l=await XE(s);return[l,s===l?"plain":"s256"]}const JE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function QE(t){const e=t.headers.get(ff);if(!e||!e.match(JE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ZE(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function eN(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const tN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ki(t){if(!tN.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function bh(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function My(t){return JSON.parse(JSON.stringify(t))}const ri=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),nN=[502,503,504];async function Ly(t){var e;if(!WE(t))throw new pf(ri(t),0);if(nN.includes(t.status))throw new pf(ri(t),t.status);let n;try{n=await t.json()}catch(l){throw new oi(ri(l),l)}let s;const o=QE(t);if(o&&o.getTime()>=$w["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new Ay(ri(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new ys}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new Ay(ri(n),t.status,n.weak_password.reasons);throw new AE(ri(n),t.status||500,s)}const rN=(t,e,n,s)=>{const o={method:t,headers:e?.headers||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),n))};async function Be(t,e,n,s){var o;const l=Object.assign({},s?.headers);l[ff]||(l[ff]=$w["2024-01-01"].name),s?.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const c=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(c.redirect_to=s.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=await sN(t,e,n+d,{headers:l,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(f):{data:Object.assign({},f),error:null}}async function sN(t,e,n,s,o,l){const c=rN(e,s,o,l);let d;try{d=await t(n,Object.assign({},c))}catch(f){throw console.error(f),new pf(ri(f),0)}if(d.ok||await Ly(d),s?.noResolveJson)return d;try{return await d.json()}catch(f){await Ly(f)}}function sr(t){var e;let n=null;aN(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=BE(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:s},error:null}}function $y(t){const e=sr(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function bs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function iN(t){return{data:t,error:null}}function oN(t){const{action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l}=t,c=Ns(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l},f=Object.assign({},c);return{data:{properties:d,user:f},error:null}}function Vy(t){return t}function aN(t){return t.access_token&&t.refresh_token&&t.expires_in}const jh=["global","local","others"];class lN{constructor({url:e="",headers:n={},fetch:s}){this.url=e,this.headers=n,this.fetch=Bw(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=jh[0]){if(jh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${jh.join(", ")}`);try{return await Be(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,n={}){try{return await Be(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:bs})}catch(s){if(Oe(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:n}=e,s=Ns(e,["options"]),o=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await Be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:oN,redirectTo:n?.redirectTo})}catch(n){if(Oe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Be(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:bs})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,s,o,l,c,d,f;try{const p={nextPage:null,lastPage:0,total:0},m=await Be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Vy});if(m.error)throw m.error;const g=await m.json(),x=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(f=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(S=>{const j=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(S.split(";")[1].split("=")[1]);p[`${C}Page`]=j}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},g),p),error:null}}catch(p){if(Oe(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Ki(e);try{return await Be(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:bs})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ki(e);try{return await Be(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:bs})}catch(s){if(Oe(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,n=!1){Ki(e);try{return await Be(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:bs})}catch(s){if(Oe(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Ki(e.userId);try{const{data:n,error:s}=await Be(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:s}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ki(e.userId),Ki(e.id);try{return{data:await Be(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,s,o,l,c,d,f;try{const p={nextPage:null,lastPage:0,total:0},m=await Be(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=e?.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(l=(o=e?.perPage)===null||o===void 0?void 0:o.toString())!==null&&l!==void 0?l:""},xform:Vy});if(m.error)throw m.error;const g=await m.json(),x=(c=m.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(f=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(S=>{const j=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(S.split(";")[1].split("=")[1]);p[`${C}Page`]=j}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},g),p),error:null}}catch(p){if(Oe(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await Be(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Be(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Be(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Be(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}}function Fy(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const qi={debug:!!(globalThis&&Fw()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Uw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class cN extends Uw{}async function uN(t,e,n){qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),qi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw qi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new cN(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(qi.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function dN(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function zw(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function hN(t){return parseInt(t,16)}function fN(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function pN(t){var e;const{chainId:n,domain:s,expirationTime:o,issuedAt:l=new Date,nonce:c,notBefore:d,requestId:f,resources:p,scheme:m,uri:g,version:x}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!g)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const w=zw(t.address),S=m?`${m}://${s}`:s,j=t.statement?`${t.statement}
`:"",C=`${S} wants you to sign in with your Ethereum account:
${w}

${j}`;let _=`URI: ${g}
Version: ${x}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(o&&(_+=`
Expiration Time: ${o.toISOString()}`),d&&(_+=`
Not Before: ${d.toISOString()}`),f&&(_+=`
Request ID: ${f}`),p){let P=`
Resources:`;for(const E of p){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);P+=`
- ${E}`}_+=P}return`${C}
${_}`}class Ot extends Error{constructor({message:e,code:n,cause:s,name:o}){var l;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(l=o??(s instanceof Error?s.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class Wc extends Ot{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function mN({error:t,options:e}){var n,s,o;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((s=l.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ot({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new Ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(Ww(c)){if(l.rp.id!==c)return new Ot({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new Ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function gN({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ot({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Ww(s)){if(n.rpId!==s)return new Ot({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class vN{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const yN=new vN;function xN(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:s}=t,o=Ns(t,["challenge","user","excludeCredentials"]),l=ao(e).buffer,c=Object.assign(Object.assign({},n),{id:ao(n.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:l,user:c});if(s&&s.length>0){d.excludeCredentials=new Array(s.length);for(let f=0;f<s.length;f++){const p=s[f];d.excludeCredentials[f]=Object.assign(Object.assign({},p),{id:ao(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function wN(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,s=Ns(t,["challenge","allowCredentials"]),o=ao(e).buffer,l=Object.assign(Object.assign({},s),{challenge:o});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const d=n[c];l.allowCredentials[c]=Object.assign(Object.assign({},d),{id:ao(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function bN(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:ai(new Uint8Array(t.response.attestationObject)),clientDataJSON:ai(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function jN(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),o=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ai(new Uint8Array(o.authenticatorData)),clientDataJSON:ai(new Uint8Array(o.clientDataJSON)),signature:ai(new Uint8Array(o.signature)),userHandle:o.userHandle?ai(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ww(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function By(){var t,e;return!!(An()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function SN(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Wc("Browser returned unexpected credential type",e)}:{data:null,error:new Wc("Empty credential response",e)}}catch(e){return{data:null,error:mN({error:e,options:t})}}}async function _N(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Wc("Browser returned unexpected credential type",e)}:{data:null,error:new Wc("Empty credential response",e)}}catch(e){return{data:null,error:gN({error:e,options:t})}}}const kN={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},CN={userVerification:"preferred",hints:["security-key"]};function Hc(...t){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),n=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of t)if(o)for(const l in o){const c=o[l];if(c!==void 0)if(Array.isArray(c))s[l]=c;else if(n(c))s[l]=c;else if(e(c)){const d=s[l];e(d)?s[l]=Hc(d,c):s[l]=Hc(c)}else s[l]=c}return s}function EN(t,e){return Hc(kN,t,e||{})}function NN(t,e){return Hc(CN,t,e||{})}class TN{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:s,signal:o},l){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:d};const f=o??yN.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:p}=c.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${s}`),p.displayName||(p.displayName=p.name)}switch(c.webauthn.type){case"create":{const p=EN(c.webauthn.credential_options.publicKey,l?.create),{data:m,error:g}=await SN({publicKey:p,signal:f});return m?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}case"request":{const p=NN(c.webauthn.credential_options.publicKey,l?.request),{data:m,error:g}=await _N(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p,signal:f}));return m?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}}}catch(c){return Oe(c)?{data:null,error:c}:{data:null,error:new oi("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}},l){if(!n)return{data:null,error:new Ra("rpId is required for WebAuthn authentication")};try{if(!By())return{data:null,error:new oi("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:s},signal:o},{request:l});if(!c)return{data:null,error:d};const{webauthn:f}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:s,credential_response:f.credential_response}})}catch(c){return Oe(c)?{data:null,error:c}:{data:null,error:new oi("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o},l){if(!n)return{data:null,error:new Ra("rpId is required for WebAuthn registration")};try{if(!By())return{data:null,error:new oi("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(m=>{var g;return(g=m.data)===null||g===void 0?void 0:g.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===e&&x.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:d};const{data:f,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:o},{create:l});return f?this._verify({factorId:c.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:s,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:p}}catch(c){return Oe(c)?{data:null,error:c}:{data:null,error:new oi("Unexpected error in register",c)}}}}dN();const PN={url:EE,storageKey:NE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:TE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Uy(t,e,n){return await n()}const Gi={};class Aa{get jwks(){var e,n;return(n=(e=Gi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Gi[this.storageKey]=Object.assign(Object.assign({},Gi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Gi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Gi[this.storageKey]=Object.assign(Object.assign({},Gi[this.storageKey]),{cachedAt:e})}constructor(e){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Aa.nextInstanceID,Aa.nextInstanceID+=1,this.instanceID>0&&An()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},PN),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new lN({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Bw(o.fetch),this.lock=o.lock||Uy,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:An()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=uN:this.lock=Uy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new TN(this)},this.persistSession?(o.storage?this.storage=o.storage:Fw()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Fy(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Fy(this.memoryStorage)),An()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Lw}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=zE(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),An()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:l}=await this._getSessionFromURL(n,s);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),IE(l)){const f=(e=l.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Oe(n)?{error:n}:{error:new oi("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,s,o;try{const l=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=e?.options)===null||o===void 0?void 0:o.captchaToken}},xform:sr}),{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const f=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(l){if(Oe(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(e){var n,s,o;try{let l;if("email"in e){const{email:m,password:g,options:x}=e;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await Hi(this.storage,this.storageKey)),l=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x?.emailRedirectTo,body:{email:m,password:g,data:(n=x?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x?.captchaToken},code_challenge:w,code_challenge_method:S},xform:sr})}else if("phone"in e){const{phone:m,password:g,options:x}=e;l=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:g,data:(s=x?.data)!==null&&s!==void 0?s:{},channel:(o=x?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:x?.captchaToken}},xform:sr})}else throw new gc("You must provide either an email or phone number and a password");const{data:c,error:d}=l;if(d||!c)return{data:{user:null,session:null},error:d};const f=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(l){if(Oe(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:c,options:d}=e;n=await Be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:$y})}else if("phone"in e){const{phone:l,password:c,options:d}=e;n=await Be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:$y})}else throw new gc("You must provide either an email or phone number and a password");const{data:s,error:o}=n;return o?{data:{user:null,session:null},error:o}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Wi}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(n){if(Oe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,s,o,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,s,o,l,c,d,f,p,m,g,x;let w,S;if("message"in e)w=e.message,S=e.signature;else{const{chain:j,wallet:C,statement:_,options:P}=e;let E;if(An())if(typeof C=="object")E=C;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")E=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!P?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=C}const T=new URL((n=P?.url)!==null&&n!==void 0?n:window.location.href),D=await E.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const V=zw(D[0]);let R=(s=P?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!R){const H=await E.request({method:"eth_chainId"});R=hN(H)}const N={domain:T.host,address:V,statement:_,uri:T.href,version:"1",chainId:R,nonce:(o=P?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(l=P?.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=P?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(f=P?.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(p=P?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(m=P?.signInWithEthereum)===null||m===void 0?void 0:m.resources};w=pN(N),S=await E.request({method:"personal_sign",params:[fN(w),V]})}try{const{data:j,error:C}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:S},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:sr});if(C)throw C;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Wi}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:C})}catch(j){if(Oe(j))return{data:{user:null,session:null},error:j};throw j}}async signInWithSolana(e){var n,s,o,l,c,d,f,p,m,g,x,w;let S,j;if("message"in e)S=e.message,j=e.signature;else{const{chain:C,wallet:_,statement:P,options:E}=e;let T;if(An())if(typeof _=="object")T=_;else{const V=window;if("solana"in V&&typeof V.solana=="object"&&("signIn"in V.solana&&typeof V.solana.signIn=="function"||"signMessage"in V.solana&&typeof V.solana.signMessage=="function"))T=V.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=_}const D=new URL((n=E?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const V=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),P?{statement:P}:null));let R;if(Array.isArray(V)&&V[0]&&typeof V[0]=="object")R=V[0];else if(V&&typeof V=="object"&&"signedMessage"in V&&"signature"in V)R=V;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)S=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),j=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${D.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(o=(s=E?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((l=E?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((d=E?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((f=E?.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((p=E?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((g=(m=E?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||g===void 0)&&g.length?["Resources",...E.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const V=await T.signMessage(new TextEncoder().encode(S),"utf8");if(!V||!(V instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=V}}try{const{data:C,error:_}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:ai(j)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:sr});if(_)throw _;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new Wi}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:_})}catch(C){if(Oe(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(e){const n=await Zs(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(n??"").split("/");try{const{data:l,error:c}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:sr});if(await gs(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new Wi}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:o??null}),error:c})}catch(l){if(Oe(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(e){try{const{options:n,provider:s,token:o,access_token:l,nonce:c}=e,d=await Be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:sr}),{data:f,error:p}=d;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new Wi}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:p})}catch(n){if(Oe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,s,o,l,c;try{if("email"in e){const{email:d,options:f}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Hi(this.storage,this.storageKey));const{error:g}=await Be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=f?.data)!==null&&n!==void 0?n:{},create_user:(s=f?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:p,code_challenge_method:m},redirectTo:f?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:d,options:f}=e,{data:p,error:m}=await Be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=f?.data)!==null&&o!==void 0?o:{},create_user:(l=f?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:f?.captchaToken},channel:(c=f?.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:m}}throw new gc("You must provide either an email or phone number.")}catch(d){if(Oe(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var n,s;try{let o,l;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:c,error:d}=await Be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:o,xform:sr});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const f=c.session,p=c.user;return f?.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(o){if(Oe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var n,s,o;try{let l=null,c=null;return this.flowType==="pkce"&&([l,c]=await Hi(this.storage,this.storageKey)),await Be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=e?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:iN})}catch(l){if(Oe(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:s}=e;if(s)throw s;if(!n)throw new ys;const{error:o}=await Be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(Oe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:s,type:o,options:l}=e,{error:c}=await Be(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:s,type:o,options:l}=e,{data:c,error:d}=await Be(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:d}}throw new gc("You must provide either an email or phone number and a type")}catch(n){if(Oe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Zs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<yh:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const c=await Zs(this.userStorage,this.storageKey+"-user");c?.user?e.user=c.user:e.user=bh()}if(this.storage.isServer&&e.user){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,p,m)=>(!c&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,p,m))})}return{data:{session:e},error:null}}const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{session:null},error:l}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:bs}):await this._useSession(async n=>{var s,o,l;const{data:c,error:d}=n;if(d)throw d;return!(!((s=c.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ys}:await Be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0,xform:bs})})}catch(n){if(Oe(n))return DE(n)&&(await this._removeSession(),await gs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async s=>{const{data:o,error:l}=s;if(l)throw l;if(!o.session)throw new ys;const c=o.session;let d=null,f=null;this.flowType==="pkce"&&e.email!=null&&([d,f]=await Hi(this.storage,this.storageKey));const{data:p,error:m}=await Be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:f}),jwt:c.access_token,xform:bs});if(m)throw m;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(s){if(Oe(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ys;const n=Date.now()/1e3;let s=n,o=!0,l=null;const{payload:c}=wh(e.access_token);if(c.exp&&(s=c.exp,o=s<=n),o){const{data:d,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!d)return{data:{user:null,session:null},error:null};l=d}else{const{data:d,error:f}=await this._getUser(e.access_token);if(f)throw f;l={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(Oe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var s;if(!e){const{data:c,error:d}=n;if(d)throw d;e=(s=c.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new ys;const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);return l?{data:{user:null,session:null},error:l}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Oe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!An())throw new vc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new vc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ry("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ry("No code detected.");const{data:P,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:l,refresh_token:c,expires_in:d,expires_at:f,token_type:p}=e;if(!l||!d||!c||!p)throw new vc("No session defined in URL");const m=Math.round(Date.now()/1e3),g=parseInt(d);let x=m+g;f&&(x=parseInt(f));const w=x-m;w*1e3<=Zi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${g}s`);const S=x-g;m-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,x,m):m-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,x,m);const{data:j,error:C}=await this._getUser(l);if(C)throw C;const _={provider_token:s,provider_refresh_token:o,access_token:l,expires_in:g,expires_at:x,refresh_token:c,token_type:p,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(s){if(Oe(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Zs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return{error:l};const c=(s=o.session)===null||s===void 0?void 0:s.access_token;if(c){const{error:d}=await this.admin.signOut(c,e);if(d&&!(OE(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await gs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=UE(),s={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async n=>{var s,o;try{const{data:{session:l},error:c}=n;if(c)throw c;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Hi(this.storage,this.storageKey,!0));try{return await Be(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(Oe(l))return{data:null,error:l};throw l}}async getUserIdentities(){var e;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:s,error:o}=await this._useSession(async l=>{var c,d,f,p,m;const{data:g,error:x}=l;if(x)throw x;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Be(this.fetch,"GET",w,{headers:this.headers,jwt:(m=(p=g.session)===null||p===void 0?void 0:p.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return An()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(Oe(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var s;try{const{error:o,data:{session:l}}=n;if(o)throw o;const{options:c,provider:d,token:f,access_token:p,nonce:m}=e,g=await Be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=l?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:d,id_token:f,access_token:p,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:sr}),{data:x,error:w}=g;return w?{data:{user:null,session:null},error:w}:!x||!x.session||!x.user?{data:{user:null,session:null},error:new Wi}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),{data:x,error:w})}catch(o){if(Oe(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:c}=n;if(c)throw c;return await Be(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await KE(async o=>(o>0&&await HE(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await Be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:sr})),(o,l)=>{const c=200*Math.pow(2,o);return l&&xh(l)&&Date.now()+c-s<Zi})}catch(s){if(this._debug(n,"error",s),Oe(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",s),An()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Zs(this.storage,this.storageKey);if(o&&this.userStorage){let c=await Zs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await eo(this.userStorage,this.storageKey+"-user",c)),o.user=(e=c?.user)!==null&&e!==void 0?e:bh()}else if(o&&!o.user&&!o.user){const c=await Zs(this.storage,this.storageKey+"-user");c&&c?.user?(o.user=c.user,await gs(this.storage,this.storageKey+"-user"),await eo(this.storage,this.storageKey,o)):o.user=bh()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const l=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<yh;if(this._debug(s,`session has${l?"":" not"} expired with margin of ${yh}s`),l){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),xh(c)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(o.access_token);!d&&c?.user?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(s,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var n,s;if(!e)throw new ys;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new iu;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new ys;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const d={data:l.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(l){if(this._debug(o,"error",l),Oe(l)){const c={data:null,error:l};return xh(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(l),l}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,s=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(f){l.push(f)}});if(await Promise.all(c),l.length>0){for(let d=0;d<l.length;d+=1)console.error(l[d]);throw l[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await eo(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const l=My(o);await eo(this.storage,this.storageKey,l)}else{const o=My(n);await eo(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await gs(this.storage,this.storageKey),await gs(this.storage,this.storageKey+"-code-verifier"),await gs(this.storage,this.storageKey+"-user"),this.userStorage&&await gs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&An()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Zi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-e)/Zi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Zi}ms, refresh threshold is ${hf} ticks`),o<=hf&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Uw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!An()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,s){const o=[`provider=${encodeURIComponent(n)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[l,c]=await Hi(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(d.toString())}if(s?.queryParams){const l=new URLSearchParams(s.queryParams);o.push(l.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;return l?{data:null,error:l}:await Be(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var s,o;const{data:l,error:c}=n;if(c)return{data:null,error:c};const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:p}=await Be(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=l?.session)===null||s===void 0?void 0:s.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&f.type==="totp"&&(!((o=f?.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return{data:null,error:l};const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?bN(e.webauthn.credential_response):jN(e.webauthn.credential_response)})}:{code:e.code}),{data:d,error:f}=await Be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:f})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:o,error:l}=n;if(l)return{data:null,error:l};const c=await Be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:xN(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:wN(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n?.factors)!==null&&e!==void 0?e:[])o.all.push(l),l.status==="verified"&&o[l.factor_type].push(l);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,s;const{data:{session:o},error:l}=e;if(l)return{data:null,error:l};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=wh(o.access_token);let d=null;c.aal&&(d=c.aal);let f=d;((s=(n=o.user.factors)===null||n===void 0?void 0:n.filter(g=>g.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(f="aal2");const m=c.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(e,n={keys:[]}){let s=n.keys.find(d=>d.kid===e);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(d=>d.kid===e),s&&this.jwks_cached_at+RE>o)return s;const{data:l,error:c}=await Be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=o,s=l.keys.find(d=>d.kid===e),!s)?null:s}async getClaims(e,n={}){try{let s=e;if(!s){const{data:w,error:S}=await this.getSession();if(S||!w.session)return{data:null,error:S};s=w.session.access_token}const{header:o,payload:l,signature:c,raw:{header:d,payload:f}}=wh(s);n?.allowExpired||ZE(l.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!p){const{error:w}=await this.getUser(s);if(w)throw w;return{data:{claims:l,header:o,signature:c},error:null}}const m=eN(o.alg),g=await crypto.subtle.importKey("jwk",p,m,!0,["verify"]);if(!await crypto.subtle.verify(m,g,c,FE(`${d}.${f}`)))throw new mf("Invalid JWT signature");return{data:{claims:l,header:o,signature:c},error:null}}catch(s){if(Oe(s))return{data:null,error:s};throw s}}}Aa.nextInstanceID=0;const RN=Aa;class AN extends RN{constructor(e){super(e)}}class ON{constructor(e,n,s){var o,l,c;this.supabaseUrl=e,this.supabaseKey=n;const d=CE(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,p={db:yE,realtime:wE,auth:Object.assign(Object.assign({},xE),{storageKey:f}),global:vE},m=kE(s??{},p);this.storageKey=(o=m.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=m.global.headers)!==null&&l!==void 0?l:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(g,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=m.auth)!==null&&c!==void 0?c:{},this.headers,m.global.fetch),this.fetch=SE(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new EC(new URL("rest/v1",d).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new pE(this.storageUrl.href,this.headers,this.fetch,s?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new yC(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,s)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(n=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:o,userStorage:l,storageKey:c,flowType:d,lock:f,debug:p},m,g){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new AN({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),m),storageKey:c,autoRefreshToken:e,persistSession:n,detectSessionInUrl:s,storage:o,userStorage:l,flowType:d,lock:f,debug:p,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new WC(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s?.access_token)})}_handleTokenChanged(e,n,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const DN=(t,e,n)=>new ON(t,e,n);function IN(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}IN()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Hw="zrpxeieqewwazoxdrran",xp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpycHhlaWVxZXd3YXpveGRycmFuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwODMwNDEsImV4cCI6MjA3NTY1OTA0MX0.3Gr862g12BPvZttE5BVzdM4XR9StjUnrJmzUV1GmQUI",Kw=`https://${Hw}.supabase.co`,Sh=DN(Kw,xp),qw=b.createContext(void 0);function MN({children:t}){const[e,n]=b.useState(null),[s,o]=b.useState(!0);b.useEffect(()=>{(async()=>{try{const{data:{session:p}}=await Sh.auth.getSession();p?.access_token&&(localStorage.setItem("access_token",p.access_token),n({id:p.user.id,email:p.user.email||"",name:p.user.user_metadata?.name||"",role:p.user.user_metadata?.role||"manager"}))}catch(p){console.error("Session check error:",p)}finally{o(!1)}})()},[]);const l=async(f,p)=>{try{const{data:m,error:g}=await Sh.auth.signInWithPassword({email:f,password:p});if(g)throw g;if(!m.session)throw new Error("No session created");localStorage.setItem("access_token",m.session.access_token),n({id:m.user.id,email:m.user.email||"",name:m.user.user_metadata?.name||"",role:m.user.user_metadata?.role||"manager"})}catch(m){throw console.error("Sign in error:",m),m}},c=async()=>{try{await Sh.auth.signOut(),localStorage.removeItem("access_token"),n(null)}catch(f){throw console.error("Sign out error:",f),f}},d=async(f,p,m,g)=>{try{const x=await fetch(`${Kw}/functions/v1/make-server-7614200b/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${xp}`},body:JSON.stringify({email:f,password:p,name:m,role:g})}),w=await x.json();if(!x.ok)throw new Error(w.error||"Signup failed");await l(f,p)}catch(x){throw console.error("Sign up error:",x),x}};return a.jsx(qw.Provider,{value:{user:e,loading:s,signIn:l,signOut:c,signUp:d},children:t})}function Nr(){const t=b.useContext(qw);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function zy(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Gw(...t){return e=>{let n=!1;const s=t.map(o=>{const l=zy(o,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():zy(t[o],null)}}}}function mt(...t){return b.useCallback(Gw(...t),t)}function mo(t){const e=LN(t),n=b.forwardRef((s,o)=>{const{children:l,...c}=s,d=b.Children.toArray(l),f=d.find(VN);if(f){const p=f.props.children,m=d.map(g=>g===f?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:g);return a.jsx(e,{...c,ref:o,children:b.isValidElement(p)?b.cloneElement(p,void 0,m):null})}return a.jsx(e,{...c,ref:o,children:l})});return n.displayName=`${t}.Slot`,n}var Yw=mo("Slot");function LN(t){const e=b.forwardRef((n,s)=>{const{children:o,...l}=n;if(b.isValidElement(o)){const c=BN(o),d=FN(l,o.props);return o.type!==b.Fragment&&(d.ref=s?Gw(s,c):c),b.cloneElement(o,d)}return b.Children.count(o)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Xw=Symbol("radix.slottable");function $N(t){const e=({children:n})=>a.jsx(a.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Xw,e}function VN(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Xw}function FN(t,e){const n={...e};for(const s in e){const o=t[s],l=e[s];/^on[A-Z]/.test(s)?o&&l?n[s]=(...d)=>{const f=l(...d);return o(...d),f}:o&&(n[s]=o):s==="style"?n[s]={...o,...l}:s==="className"&&(n[s]=[o,l].filter(Boolean).join(" "))}return{...t,...n}}function BN(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Jw(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=Jw(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function Qw(){for(var t,e,n=0,s="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=Jw(t))&&(s&&(s+=" "),s+=e);return s}const Wy=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Hy=Qw,wp=(t,e)=>n=>{var s;if(e?.variants==null)return Hy(t,n?.class,n?.className);const{variants:o,defaultVariants:l}=e,c=Object.keys(o).map(p=>{const m=n?.[p],g=l?.[p];if(m===null)return null;const x=Wy(m)||Wy(g);return o[p][x]}),d=n&&Object.entries(n).reduce((p,m)=>{let[g,x]=m;return x===void 0||(p[g]=x),p},{}),f=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((p,m)=>{let{class:g,className:x,...w}=m;return Object.entries(w).every(S=>{let[j,C]=S;return Array.isArray(C)?C.includes({...l,...d}[j]):{...l,...d}[j]===C})?[...p,g,x]:p},[]);return Hy(t,c,f,n?.class,n?.className)},bp="-",UN=t=>{const e=WN(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:c=>{const d=c.split(bp);return d[0]===""&&d.length!==1&&d.shift(),Zw(d,e)||zN(c)},getConflictingClassGroupIds:(c,d)=>{const f=n[c]||[];return d&&s[c]?[...f,...s[c]]:f}}},Zw=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),o=s?Zw(t.slice(1),s):void 0;if(o)return o;if(e.validators.length===0)return;const l=t.join(bp);return e.validators.find(({validator:c})=>c(l))?.classGroupId},Ky=/^\[(.+)\]$/,zN=t=>{if(Ky.test(t)){const e=Ky.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},WN=t=>{const{theme:e,classGroups:n}=t,s={nextPart:new Map,validators:[]};for(const o in n)gf(n[o],s,o,e);return s},gf=(t,e,n,s)=>{t.forEach(o=>{if(typeof o=="string"){const l=o===""?e:qy(e,o);l.classGroupId=n;return}if(typeof o=="function"){if(HN(o)){gf(o(s),e,n,s);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([l,c])=>{gf(c,qy(e,l),n,s)})})},qy=(t,e)=>{let n=t;return e.split(bp).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},HN=t=>t.isThemeGetter,KN=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const o=(l,c)=>{n.set(l,c),e++,e>t&&(e=0,s=n,n=new Map)};return{get(l){let c=n.get(l);if(c!==void 0)return c;if((c=s.get(l))!==void 0)return o(l,c),c},set(l,c){n.has(l)?n.set(l,c):o(l,c)}}},vf="!",yf=":",qN=yf.length,GN=t=>{const{prefix:e,experimentalParseClassName:n}=t;let s=o=>{const l=[];let c=0,d=0,f=0,p;for(let S=0;S<o.length;S++){let j=o[S];if(c===0&&d===0){if(j===yf){l.push(o.slice(f,S)),f=S+qN;continue}if(j==="/"){p=S;continue}}j==="["?c++:j==="]"?c--:j==="("?d++:j===")"&&d--}const m=l.length===0?o:o.substring(f),g=YN(m),x=g!==m,w=p&&p>f?p-f:void 0;return{modifiers:l,hasImportantModifier:x,baseClassName:g,maybePostfixModifierPosition:w}};if(e){const o=e+yf,l=s;s=c=>c.startsWith(o)?l(c.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const o=s;s=l=>n({className:l,parseClassName:o})}return s},YN=t=>t.endsWith(vf)?t.substring(0,t.length-1):t.startsWith(vf)?t.substring(1):t,XN=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const o=[];let l=[];return s.forEach(c=>{c[0]==="["||e[c]?(o.push(...l.sort(),c),l=[]):l.push(c)}),o.push(...l.sort()),o}},JN=t=>({cache:KN(t.cacheSize),parseClassName:GN(t),sortModifiers:XN(t),...UN(t)}),QN=/\s+/,ZN=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:l}=e,c=[],d=t.trim().split(QN);let f="";for(let p=d.length-1;p>=0;p-=1){const m=d[p],{isExternal:g,modifiers:x,hasImportantModifier:w,baseClassName:S,maybePostfixModifierPosition:j}=n(m);if(g){f=m+(f.length>0?" "+f:f);continue}let C=!!j,_=s(C?S.substring(0,j):S);if(!_){if(!C){f=m+(f.length>0?" "+f:f);continue}if(_=s(S),!_){f=m+(f.length>0?" "+f:f);continue}C=!1}const P=l(x).join(":"),E=w?P+vf:P,T=E+_;if(c.includes(T))continue;c.push(T);const D=o(_,C);for(let V=0;V<D.length;++V){const R=D[V];c.push(E+R)}f=m+(f.length>0?" "+f:f)}return f};function eT(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=eb(e))&&(s&&(s+=" "),s+=n);return s}const eb=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=eb(t[s]))&&(n&&(n+=" "),n+=e);return n};function tT(t,...e){let n,s,o,l=c;function c(f){const p=e.reduce((m,g)=>g(m),t());return n=JN(p),s=n.cache.get,o=n.cache.set,l=d,d(f)}function d(f){const p=s(f);if(p)return p;const m=ZN(f,n);return o(f,m),m}return function(){return l(eT.apply(null,arguments))}}const Ft=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},tb=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,nb=/^\((?:(\w[\w-]*):)?(.+)\)$/i,nT=/^\d+\/\d+$/,rT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,iT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,oT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,aT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yi=t=>nT.test(t),He=t=>!!t&&!Number.isNaN(Number(t)),vs=t=>!!t&&Number.isInteger(Number(t)),_h=t=>t.endsWith("%")&&He(t.slice(0,-1)),Fr=t=>rT.test(t),lT=()=>!0,cT=t=>sT.test(t)&&!iT.test(t),rb=()=>!1,uT=t=>oT.test(t),dT=t=>aT.test(t),hT=t=>!xe(t)&&!we(t),fT=t=>jo(t,ob,rb),xe=t=>tb.test(t),ei=t=>jo(t,ab,cT),kh=t=>jo(t,yT,He),Gy=t=>jo(t,sb,rb),pT=t=>jo(t,ib,dT),yc=t=>jo(t,lb,uT),we=t=>nb.test(t),fa=t=>So(t,ab),mT=t=>So(t,xT),Yy=t=>So(t,sb),gT=t=>So(t,ob),vT=t=>So(t,ib),xc=t=>So(t,lb,!0),jo=(t,e,n)=>{const s=tb.exec(t);return s?s[1]?e(s[1]):n(s[2]):!1},So=(t,e,n=!1)=>{const s=nb.exec(t);return s?s[1]?e(s[1]):n:!1},sb=t=>t==="position"||t==="percentage",ib=t=>t==="image"||t==="url",ob=t=>t==="length"||t==="size"||t==="bg-size",ab=t=>t==="length",yT=t=>t==="number",xT=t=>t==="family-name",lb=t=>t==="shadow",wT=()=>{const t=Ft("color"),e=Ft("font"),n=Ft("text"),s=Ft("font-weight"),o=Ft("tracking"),l=Ft("leading"),c=Ft("breakpoint"),d=Ft("container"),f=Ft("spacing"),p=Ft("radius"),m=Ft("shadow"),g=Ft("inset-shadow"),x=Ft("text-shadow"),w=Ft("drop-shadow"),S=Ft("blur"),j=Ft("perspective"),C=Ft("aspect"),_=Ft("ease"),P=Ft("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...T(),we,xe],V=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],N=()=>[we,xe,f],H=()=>[Yi,"full","auto",...N()],Z=()=>[vs,"none","subgrid",we,xe],ie=()=>["auto",{span:["full",vs,we,xe]},vs,we,xe],ue=()=>[vs,"auto",we,xe],Q=()=>["auto","min","max","fr",we,xe],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],X=()=>["start","end","center","stretch","center-safe","end-safe"],M=()=>["auto",...N()],F=()=>[Yi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...N()],O=()=>[t,we,xe],K=()=>[...T(),Yy,Gy,{position:[we,xe]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],I=()=>["auto","cover","contain",gT,fT,{size:[we,xe]}],G=()=>[_h,fa,ei],te=()=>["","none","full",p,we,xe],ae=()=>["",He,fa,ei],fe=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>[He,_h,Yy,Gy],ce=()=>["","none",S,we,xe],Ne=()=>["none",He,we,xe],Te=()=>["none",He,we,xe],Ie=()=>[He,we,xe],J=()=>[Yi,"full",...N()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Fr],breakpoint:[Fr],color:[lT],container:[Fr],"drop-shadow":[Fr],ease:["in","out","in-out"],font:[hT],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Fr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Fr],shadow:[Fr],spacing:["px",He],text:[Fr],"text-shadow":[Fr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Yi,xe,we,C]}],container:["container"],columns:[{columns:[He,xe,we,d]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:H()}],"inset-x":[{"inset-x":H()}],"inset-y":[{"inset-y":H()}],start:[{start:H()}],end:[{end:H()}],top:[{top:H()}],right:[{right:H()}],bottom:[{bottom:H()}],left:[{left:H()}],visibility:["visible","invisible","collapse"],z:[{z:[vs,"auto",we,xe]}],basis:[{basis:[Yi,"full","auto",d,...N()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[He,Yi,"auto","initial","none",xe]}],grow:[{grow:["",He,we,xe]}],shrink:[{shrink:["",He,we,xe]}],order:[{order:[vs,"first","last","none",we,xe]}],"grid-cols":[{"grid-cols":Z()}],"col-start-end":[{col:ie()}],"col-start":[{"col-start":ue()}],"col-end":[{"col-end":ue()}],"grid-rows":[{"grid-rows":Z()}],"row-start-end":[{row:ie()}],"row-start":[{"row-start":ue()}],"row-end":[{"row-end":ue()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Q()}],"auto-rows":[{"auto-rows":Q()}],gap:[{gap:N()}],"gap-x":[{"gap-x":N()}],"gap-y":[{"gap-y":N()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...X(),"normal"]}],"justify-self":[{"justify-self":["auto",...X()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...X(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...X(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...X(),"baseline"]}],"place-self":[{"place-self":["auto",...X()]}],p:[{p:N()}],px:[{px:N()}],py:[{py:N()}],ps:[{ps:N()}],pe:[{pe:N()}],pt:[{pt:N()}],pr:[{pr:N()}],pb:[{pb:N()}],pl:[{pl:N()}],m:[{m:M()}],mx:[{mx:M()}],my:[{my:M()}],ms:[{ms:M()}],me:[{me:M()}],mt:[{mt:M()}],mr:[{mr:M()}],mb:[{mb:M()}],ml:[{ml:M()}],"space-x":[{"space-x":N()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":N()}],"space-y-reverse":["space-y-reverse"],size:[{size:F()}],w:[{w:[d,"screen",...F()]}],"min-w":[{"min-w":[d,"screen","none",...F()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...F()]}],h:[{h:["screen","lh",...F()]}],"min-h":[{"min-h":["screen","lh","none",...F()]}],"max-h":[{"max-h":["screen","lh",...F()]}],"font-size":[{text:["base",n,fa,ei]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,we,kh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",_h,xe]}],"font-family":[{font:[mT,xe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,we,xe]}],"line-clamp":[{"line-clamp":[He,"none",we,kh]}],leading:[{leading:[l,...N()]}],"list-image":[{"list-image":["none",we,xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",we,xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:O()}],"text-color":[{text:O()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[He,"from-font","auto",we,ei]}],"text-decoration-color":[{decoration:O()}],"underline-offset":[{"underline-offset":[He,"auto",we,xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we,xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we,xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:I()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},vs,we,xe],radial:["",we,xe],conic:[vs,we,xe]},vT,pT]}],"bg-color":[{bg:O()}],"gradient-from-pos":[{from:G()}],"gradient-via-pos":[{via:G()}],"gradient-to-pos":[{to:G()}],"gradient-from":[{from:O()}],"gradient-via":[{via:O()}],"gradient-to":[{to:O()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:O()}],"border-color-x":[{"border-x":O()}],"border-color-y":[{"border-y":O()}],"border-color-s":[{"border-s":O()}],"border-color-e":[{"border-e":O()}],"border-color-t":[{"border-t":O()}],"border-color-r":[{"border-r":O()}],"border-color-b":[{"border-b":O()}],"border-color-l":[{"border-l":O()}],"divide-color":[{divide:O()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[He,we,xe]}],"outline-w":[{outline:["",He,fa,ei]}],"outline-color":[{outline:O()}],shadow:[{shadow:["","none",m,xc,yc]}],"shadow-color":[{shadow:O()}],"inset-shadow":[{"inset-shadow":["none",g,xc,yc]}],"inset-shadow-color":[{"inset-shadow":O()}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:O()}],"ring-offset-w":[{"ring-offset":[He,ei]}],"ring-offset-color":[{"ring-offset":O()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":O()}],"text-shadow":[{"text-shadow":["none",x,xc,yc]}],"text-shadow-color":[{"text-shadow":O()}],opacity:[{opacity:[He,we,xe]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[He]}],"mask-image-linear-from-pos":[{"mask-linear-from":ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":ee()}],"mask-image-linear-from-color":[{"mask-linear-from":O()}],"mask-image-linear-to-color":[{"mask-linear-to":O()}],"mask-image-t-from-pos":[{"mask-t-from":ee()}],"mask-image-t-to-pos":[{"mask-t-to":ee()}],"mask-image-t-from-color":[{"mask-t-from":O()}],"mask-image-t-to-color":[{"mask-t-to":O()}],"mask-image-r-from-pos":[{"mask-r-from":ee()}],"mask-image-r-to-pos":[{"mask-r-to":ee()}],"mask-image-r-from-color":[{"mask-r-from":O()}],"mask-image-r-to-color":[{"mask-r-to":O()}],"mask-image-b-from-pos":[{"mask-b-from":ee()}],"mask-image-b-to-pos":[{"mask-b-to":ee()}],"mask-image-b-from-color":[{"mask-b-from":O()}],"mask-image-b-to-color":[{"mask-b-to":O()}],"mask-image-l-from-pos":[{"mask-l-from":ee()}],"mask-image-l-to-pos":[{"mask-l-to":ee()}],"mask-image-l-from-color":[{"mask-l-from":O()}],"mask-image-l-to-color":[{"mask-l-to":O()}],"mask-image-x-from-pos":[{"mask-x-from":ee()}],"mask-image-x-to-pos":[{"mask-x-to":ee()}],"mask-image-x-from-color":[{"mask-x-from":O()}],"mask-image-x-to-color":[{"mask-x-to":O()}],"mask-image-y-from-pos":[{"mask-y-from":ee()}],"mask-image-y-to-pos":[{"mask-y-to":ee()}],"mask-image-y-from-color":[{"mask-y-from":O()}],"mask-image-y-to-color":[{"mask-y-to":O()}],"mask-image-radial":[{"mask-radial":[we,xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":ee()}],"mask-image-radial-from-color":[{"mask-radial-from":O()}],"mask-image-radial-to-color":[{"mask-radial-to":O()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[He]}],"mask-image-conic-from-pos":[{"mask-conic-from":ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":ee()}],"mask-image-conic-from-color":[{"mask-conic-from":O()}],"mask-image-conic-to-color":[{"mask-conic-to":O()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:I()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",we,xe]}],filter:[{filter:["","none",we,xe]}],blur:[{blur:ce()}],brightness:[{brightness:[He,we,xe]}],contrast:[{contrast:[He,we,xe]}],"drop-shadow":[{"drop-shadow":["","none",w,xc,yc]}],"drop-shadow-color":[{"drop-shadow":O()}],grayscale:[{grayscale:["",He,we,xe]}],"hue-rotate":[{"hue-rotate":[He,we,xe]}],invert:[{invert:["",He,we,xe]}],saturate:[{saturate:[He,we,xe]}],sepia:[{sepia:["",He,we,xe]}],"backdrop-filter":[{"backdrop-filter":["","none",we,xe]}],"backdrop-blur":[{"backdrop-blur":ce()}],"backdrop-brightness":[{"backdrop-brightness":[He,we,xe]}],"backdrop-contrast":[{"backdrop-contrast":[He,we,xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",He,we,xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[He,we,xe]}],"backdrop-invert":[{"backdrop-invert":["",He,we,xe]}],"backdrop-opacity":[{"backdrop-opacity":[He,we,xe]}],"backdrop-saturate":[{"backdrop-saturate":[He,we,xe]}],"backdrop-sepia":[{"backdrop-sepia":["",He,we,xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":N()}],"border-spacing-x":[{"border-spacing-x":N()}],"border-spacing-y":[{"border-spacing-y":N()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",we,xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[He,"initial",we,xe]}],ease:[{ease:["linear","initial",_,we,xe]}],delay:[{delay:[He,we,xe]}],animate:[{animate:["none",P,we,xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,we,xe]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:Ne()}],"rotate-x":[{"rotate-x":Ne()}],"rotate-y":[{"rotate-y":Ne()}],"rotate-z":[{"rotate-z":Ne()}],scale:[{scale:Te()}],"scale-x":[{"scale-x":Te()}],"scale-y":[{"scale-y":Te()}],"scale-z":[{"scale-z":Te()}],"scale-3d":["scale-3d"],skew:[{skew:Ie()}],"skew-x":[{"skew-x":Ie()}],"skew-y":[{"skew-y":Ie()}],transform:[{transform:[we,xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:J()}],"translate-x":[{"translate-x":J()}],"translate-y":[{"translate-y":J()}],"translate-z":[{"translate-z":J()}],"translate-none":["translate-none"],accent:[{accent:O()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:O()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we,xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we,xe]}],fill:[{fill:["none",...O()]}],"stroke-w":[{stroke:[He,fa,ei,kh]}],stroke:[{stroke:["none",...O()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},bT=tT(wT);function Ve(...t){return bT(Qw(t))}const jT=wp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Se({className:t,variant:e,size:n,asChild:s=!1,...o}){const l=s?Yw:"button";return a.jsx(l,{"data-slot":"button",className:Ve(jT({variant:e,size:n,className:t})),...o})}function Fe({className:t,type:e,...n}){return a.jsx("input",{type:e,"data-slot":"input",className:Ve("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var Wa=Xx();const cb=ap(Wa);var ST=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ze=ST.reduce((t,e)=>{const n=mo(`Primitive.${e}`),s=b.forwardRef((o,l)=>{const{asChild:c,...d}=o,f=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(f,{...d,ref:l})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function _T(t,e){t&&Wa.flushSync(()=>t.dispatchEvent(e))}var kT="Label",ub=b.forwardRef((t,e)=>a.jsx(Ze.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));ub.displayName=kT;var CT=ub;function he({className:t,...e}){return a.jsx(CT,{"data-slot":"label",className:Ve("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function Ge({className:t,...e}){return a.jsx("div",{"data-slot":"card",className:Ve("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...e})}function tt({className:t,...e}){return a.jsx("div",{"data-slot":"card-header",className:Ve("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function nt({className:t,...e}){return a.jsx("h4",{"data-slot":"card-title",className:Ve("leading-none",t),...e})}function to({className:t,...e}){return a.jsx("p",{"data-slot":"card-description",className:Ve("text-muted-foreground",t),...e})}function Ye({className:t,...e}){return a.jsx("div",{"data-slot":"card-content",className:Ve("px-6 [&:last-child]:pb-6",t),...e})}function Xe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t?.(o),n===!1||!o.defaultPrevented)return e?.(o)}}function ET(t,e){const n=b.createContext(e),s=l=>{const{children:c,...d}=l,f=b.useMemo(()=>d,Object.values(d));return a.jsx(n.Provider,{value:f,children:c})};s.displayName=t+"Provider";function o(l){const c=b.useContext(n);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${l}\` must be used within \`${t}\``)}return[s,o]}function Ps(t,e=[]){let n=[];function s(l,c){const d=b.createContext(c),f=n.length;n=[...n,c];const p=g=>{const{scope:x,children:w,...S}=g,j=x?.[t]?.[f]||d,C=b.useMemo(()=>S,Object.values(S));return a.jsx(j.Provider,{value:C,children:w})};p.displayName=l+"Provider";function m(g,x){const w=x?.[t]?.[f]||d,S=b.useContext(w);if(S)return S;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${l}\``)}return[p,m]}const o=()=>{const l=n.map(c=>b.createContext(c));return function(d){const f=d?.[t]||l;return b.useMemo(()=>({[`__scope${t}`]:{...d,[t]:f}}),[d,f])}};return o.scopeName=t,[s,NT(o,...e)]}function NT(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const c=s.reduce((d,{useScope:f,scopeName:p})=>{const g=f(l)[`__scope${p}`];return{...d,...g}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}function db(t){const e=t+"CollectionProvider",[n,s]=Ps(e),[o,l]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=j=>{const{scope:C,children:_}=j,P=z.useRef(null),E=z.useRef(new Map).current;return a.jsx(o,{scope:C,itemMap:E,collectionRef:P,children:_})};c.displayName=e;const d=t+"CollectionSlot",f=mo(d),p=z.forwardRef((j,C)=>{const{scope:_,children:P}=j,E=l(d,_),T=mt(C,E.collectionRef);return a.jsx(f,{ref:T,children:P})});p.displayName=d;const m=t+"CollectionItemSlot",g="data-radix-collection-item",x=mo(m),w=z.forwardRef((j,C)=>{const{scope:_,children:P,...E}=j,T=z.useRef(null),D=mt(C,T),V=l(m,_);return z.useEffect(()=>(V.itemMap.set(T,{ref:T,...E}),()=>void V.itemMap.delete(T))),a.jsx(x,{[g]:"",ref:D,children:P})});w.displayName=m;function S(j){const C=l(t+"CollectionConsumer",j);return z.useCallback(()=>{const P=C.collectionRef.current;if(!P)return[];const E=Array.from(P.querySelectorAll(`[${g}]`));return Array.from(C.itemMap.values()).sort((V,R)=>E.indexOf(V.ref.current)-E.indexOf(R.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:c,Slot:p,ItemSlot:w},S,s]}var rn=globalThis?.document?b.useLayoutEffect:()=>{},TT=Jx[" useId ".trim().toString()]||(()=>{}),PT=0;function js(t){const[e,n]=b.useState(TT());return rn(()=>{n(s=>s??String(PT++))},[t]),t||(e?`radix-${e}`:"")}function Ss(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>e.current?.(...n),[])}var RT=Jx[" useInsertionEffect ".trim().toString()]||rn;function go({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[o,l,c]=AT({defaultProp:e,onChange:n}),d=t!==void 0,f=d?t:o;{const m=b.useRef(t!==void 0);b.useEffect(()=>{const g=m.current;g!==d&&console.warn(`${s} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=d},[d,s])}const p=b.useCallback(m=>{if(d){const g=OT(m)?m(t):m;g!==t&&c.current?.(g)}else l(m)},[d,t,l,c]);return[f,p]}function AT({defaultProp:t,onChange:e}){const[n,s]=b.useState(t),o=b.useRef(n),l=b.useRef(e);return RT(()=>{l.current=e},[e]),b.useEffect(()=>{o.current!==n&&(l.current?.(n),o.current=n)},[n,o]),[n,s,l]}function OT(t){return typeof t=="function"}var DT=b.createContext(void 0);function jp(t){const e=b.useContext(DT);return t||e||"ltr"}var Ch="rovingFocusGroup.onEntryFocus",IT={bubbles:!1,cancelable:!0},Ha="RovingFocusGroup",[xf,hb,MT]=db(Ha),[LT,fb]=Ps(Ha,[MT]),[$T,VT]=LT(Ha),pb=b.forwardRef((t,e)=>a.jsx(xf.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(xf.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(FT,{...t,ref:e})})}));pb.displayName=Ha;var FT=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:o=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:p,preventScrollOnEntryFocus:m=!1,...g}=t,x=b.useRef(null),w=mt(e,x),S=jp(l),[j,C]=go({prop:c,defaultProp:d??null,onChange:f,caller:Ha}),[_,P]=b.useState(!1),E=Ss(p),T=hb(n),D=b.useRef(!1),[V,R]=b.useState(0);return b.useEffect(()=>{const N=x.current;if(N)return N.addEventListener(Ch,E),()=>N.removeEventListener(Ch,E)},[E]),a.jsx($T,{scope:n,orientation:s,dir:S,loop:o,currentTabStopId:j,onItemFocus:b.useCallback(N=>C(N),[C]),onItemShiftTab:b.useCallback(()=>P(!0),[]),onFocusableItemAdd:b.useCallback(()=>R(N=>N+1),[]),onFocusableItemRemove:b.useCallback(()=>R(N=>N-1),[]),children:a.jsx(Ze.div,{tabIndex:_||V===0?-1:0,"data-orientation":s,...g,ref:w,style:{outline:"none",...t.style},onMouseDown:Xe(t.onMouseDown,()=>{D.current=!0}),onFocus:Xe(t.onFocus,N=>{const H=!D.current;if(N.target===N.currentTarget&&H&&!_){const Z=new CustomEvent(Ch,IT);if(N.currentTarget.dispatchEvent(Z),!Z.defaultPrevented){const ie=T().filter(M=>M.focusable),ue=ie.find(M=>M.active),Q=ie.find(M=>M.id===j),X=[ue,Q,...ie].filter(Boolean).map(M=>M.ref.current);vb(X,m)}}D.current=!1}),onBlur:Xe(t.onBlur,()=>P(!1))})})}),mb="RovingFocusGroupItem",gb=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:o=!1,tabStopId:l,children:c,...d}=t,f=js(),p=l||f,m=VT(mb,n),g=m.currentTabStopId===p,x=hb(n),{onFocusableItemAdd:w,onFocusableItemRemove:S,currentTabStopId:j}=m;return b.useEffect(()=>{if(s)return w(),()=>S()},[s,w,S]),a.jsx(xf.ItemSlot,{scope:n,id:p,focusable:s,active:o,children:a.jsx(Ze.span,{tabIndex:g?0:-1,"data-orientation":m.orientation,...d,ref:e,onMouseDown:Xe(t.onMouseDown,C=>{s?m.onItemFocus(p):C.preventDefault()}),onFocus:Xe(t.onFocus,()=>m.onItemFocus(p)),onKeyDown:Xe(t.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){m.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const _=zT(C,m.orientation,m.dir);if(_!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let E=x().filter(T=>T.focusable).map(T=>T.ref.current);if(_==="last")E.reverse();else if(_==="prev"||_==="next"){_==="prev"&&E.reverse();const T=E.indexOf(C.currentTarget);E=m.loop?WT(E,T+1):E.slice(T+1)}setTimeout(()=>vb(E))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:j!=null}):c})})});gb.displayName=mb;var BT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function UT(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function zT(t,e,n){const s=UT(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return BT[s]}function vb(t,e=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:e}),document.activeElement!==n))return}function WT(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var HT=pb,KT=gb;function qT(t,e){return b.useReducer((n,s)=>e[n][s]??n,t)}var Ka=t=>{const{present:e,children:n}=t,s=GT(e),o=typeof n=="function"?n({present:s.isPresent}):b.Children.only(n),l=mt(s.ref,YT(o));return typeof n=="function"||s.isPresent?b.cloneElement(o,{ref:l}):null};Ka.displayName="Presence";function GT(t){const[e,n]=b.useState(),s=b.useRef(null),o=b.useRef(t),l=b.useRef("none"),c=t?"mounted":"unmounted",[d,f]=qT(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const p=wc(s.current);l.current=d==="mounted"?p:"none"},[d]),rn(()=>{const p=s.current,m=o.current;if(m!==t){const x=l.current,w=wc(p);t?f("MOUNT"):w==="none"||p?.display==="none"?f("UNMOUNT"):f(m&&x!==w?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,f]),rn(()=>{if(e){let p;const m=e.ownerDocument.defaultView??window,g=w=>{const j=wc(s.current).includes(CSS.escape(w.animationName));if(w.target===e&&j&&(f("ANIMATION_END"),!o.current)){const C=e.style.animationFillMode;e.style.animationFillMode="forwards",p=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=C)})}},x=w=>{w.target===e&&(l.current=wc(s.current))};return e.addEventListener("animationstart",x),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{m.clearTimeout(p),e.removeEventListener("animationstart",x),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:b.useCallback(p=>{s.current=p?getComputedStyle(p):null,n(p)},[])}}function wc(t){return t?.animationName||"none"}function YT(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var ou="Tabs",[XT]=Ps(ou,[fb]),yb=fb(),[JT,Sp]=XT(ou),xb=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,onValueChange:o,defaultValue:l,orientation:c="horizontal",dir:d,activationMode:f="automatic",...p}=t,m=jp(d),[g,x]=go({prop:s,onChange:o,defaultProp:l??"",caller:ou});return a.jsx(JT,{scope:n,baseId:js(),value:g,onValueChange:x,orientation:c,dir:m,activationMode:f,children:a.jsx(Ze.div,{dir:m,"data-orientation":c,...p,ref:e})})});xb.displayName=ou;var wb="TabsList",bb=b.forwardRef((t,e)=>{const{__scopeTabs:n,loop:s=!0,...o}=t,l=Sp(wb,n),c=yb(n);return a.jsx(HT,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:s,children:a.jsx(Ze.div,{role:"tablist","aria-orientation":l.orientation,...o,ref:e})})});bb.displayName=wb;var jb="TabsTrigger",Sb=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,disabled:o=!1,...l}=t,c=Sp(jb,n),d=yb(n),f=Cb(c.baseId,s),p=Eb(c.baseId,s),m=s===c.value;return a.jsx(KT,{asChild:!0,...d,focusable:!o,active:m,children:a.jsx(Ze.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":p,"data-state":m?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:f,...l,ref:e,onMouseDown:Xe(t.onMouseDown,g=>{!o&&g.button===0&&g.ctrlKey===!1?c.onValueChange(s):g.preventDefault()}),onKeyDown:Xe(t.onKeyDown,g=>{[" ","Enter"].includes(g.key)&&c.onValueChange(s)}),onFocus:Xe(t.onFocus,()=>{const g=c.activationMode!=="manual";!m&&!o&&g&&c.onValueChange(s)})})})});Sb.displayName=jb;var _b="TabsContent",kb=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,forceMount:o,children:l,...c}=t,d=Sp(_b,n),f=Cb(d.baseId,s),p=Eb(d.baseId,s),m=s===d.value,g=b.useRef(m);return b.useEffect(()=>{const x=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(x)},[]),a.jsx(Ka,{present:o||m,children:({present:x})=>a.jsx(Ze.div,{"data-state":m?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":f,hidden:!x,id:p,tabIndex:0,...c,ref:e,style:{...t.style,animationDuration:g.current?"0s":void 0},children:x&&l})})});kb.displayName=_b;function Cb(t,e){return`${t}-trigger-${e}`}function Eb(t,e){return`${t}-content-${e}`}var QT=xb,ZT=bb,eP=Sb,tP=kb;function au({className:t,...e}){return a.jsx(QT,{"data-slot":"tabs",className:Ve("flex flex-col gap-2",t),...e})}function lu({className:t,...e}){return a.jsx(ZT,{"data-slot":"tabs-list",className:Ve("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function jn({className:t,...e}){return a.jsx(eP,{"data-slot":"tabs-trigger",className:Ve("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function Sn({className:t,...e}){return a.jsx(tP,{"data-slot":"tabs-content",className:Ve("flex-1 outline-none",t),...e})}const nP=wp("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Xy({className:t,variant:e,...n}){return a.jsx("div",{"data-slot":"alert",role:"alert",className:Ve(nP({variant:e}),t),...n})}function Jy({className:t,...e}){return a.jsx("div",{"data-slot":"alert-description",className:Ve("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),sP=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Qy=t=>{const e=sP(t);return e.charAt(0).toUpperCase()+e.slice(1)},Nb=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:c,...d},f)=>b.createElement("svg",{ref:f,...iP,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:Nb("lucide",o),...d},[...c.map(([p,m])=>b.createElement(p,m)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(t,e)=>{const n=b.forwardRef(({className:s,...o},l)=>b.createElement(oP,{ref:l,iconNode:e,className:Nb(`lucide-${rP(Qy(t))}`,`lucide-${t}`,s),...o}));return n.displayName=Qy(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aP=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],wf=$e("arrow-left",aP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lP=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],cP=$e("bell",lP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ui=$e("calendar",uP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dP=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],hP=$e("camera",dP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],pP=$e("chart-column",fP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gP=$e("check",mP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Tb=$e("chevron-down",vP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],xP=$e("chevron-up",yP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bf=$e("circle-alert",wP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Dc=$e("circle-check-big",bP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Zy=$e("circle-x",jP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Oa=$e("clock",SP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],kP=$e("credit-card",_P);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],EP=$e("database",CP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],TP=$e("dollar-sign",NP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],xa=$e("download",PP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],AP=$e("ellipsis",RP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],DP=$e("eye",OP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],MP=$e("file-text",IP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],$P=$e("layers",LP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],FP=$e("layout-dashboard",VP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],UP=$e("list",BP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],kn=$e("loader-circle",zP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],HP=$e("lock",WP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],jf=$e("log-out",KP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Sf=$e("map-pin",qP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],YP=$e("menu",GP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],JP=$e("message-square",XP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],e0=$e("navigation",QP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ur=$e("package",ZP);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Kc=$e("phone",e2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_o=$e("plus",t2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],r2=$e("save",n2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],cu=$e("search",s2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],o2=$e("settings",i2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],uu=$e("shopping-cart",a2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],_p=$e("square-pen",l2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],fi=$e("trash-2",c2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Pb=$e("trending-up",u2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],t0=$e("triangle-alert",d2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Rb=$e("truck",h2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],p2=$e("user-plus",f2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_f=$e("user",m2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],v2=$e("users",g2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],x2=$e("wifi-off",y2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],b2=$e("wifi",w2);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kp=$e("x",j2);function S2(){const{signIn:t,signUp:e}=Nr(),[n,s]=b.useState(!1),[o,l]=b.useState(""),[c,d]=b.useState({email:"",password:""}),[f,p]=b.useState({email:"",password:"",name:"",role:"manager"}),m=async x=>{x.preventDefault(),l(""),s(!0);try{await t(c.email,c.password)}catch(w){l(w.message||"Ошибка входа")}finally{s(!1)}},g=async x=>{x.preventDefault(),l(""),s(!0);try{await e(f.email,f.password,f.name,f.role)}catch(w){l(w.message||"Ошибка регистрации")}finally{s(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:a.jsxs(Ge,{className:"w-full max-w-md",children:[a.jsxs(tt,{children:[a.jsx(nt,{children:"CRM Система"}),a.jsx(to,{children:"Управление складом и заказами"})]}),a.jsx(Ye,{children:a.jsxs(au,{defaultValue:"login",children:[a.jsxs(lu,{className:"grid w-full grid-cols-2",children:[a.jsx(jn,{value:"login",children:"Вход"}),a.jsx(jn,{value:"signup",children:"Регистрация"})]}),a.jsx(Sn,{value:"login",children:a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"login-email",children:"Email"}),a.jsx(Fe,{id:"login-email",type:"email",value:c.email,onChange:x=>d({...c,email:x.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"login-password",children:"Пароль"}),a.jsx(Fe,{id:"login-password",type:"password",value:c.password,onChange:x=>d({...c,password:x.target.value}),required:!0})]}),o&&a.jsx(Xy,{variant:"destructive",children:a.jsx(Jy,{children:o})}),a.jsxs(Se,{type:"submit",className:"w-full",disabled:n,children:[n&&a.jsx(kn,{className:"mr-2 h-4 w-4 animate-spin"}),"Войти"]})]})}),a.jsx(Sn,{value:"signup",children:a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"signup-name",children:"ФИО"}),a.jsx(Fe,{id:"signup-name",value:f.name,onChange:x=>p({...f,name:x.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"signup-email",children:"Email"}),a.jsx(Fe,{id:"signup-email",type:"email",value:f.email,onChange:x=>p({...f,email:x.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"signup-password",children:"Пароль"}),a.jsx(Fe,{id:"signup-password",type:"password",value:f.password,onChange:x=>p({...f,password:x.target.value}),required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"signup-role",children:"Роль"}),a.jsxs("select",{id:"signup-role",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",value:f.role,onChange:x=>p({...f,role:x.target.value}),children:[a.jsx("option",{value:"admin",children:"Админ"}),a.jsx("option",{value:"manager",children:"Менеджер продаж"}),a.jsx("option",{value:"warehouse",children:"Кладовщик"}),a.jsx("option",{value:"accountant",children:"Бухгалтер"}),a.jsx("option",{value:"courier",children:"Курьер"})]})]}),o&&a.jsx(Xy,{variant:"destructive",children:a.jsx(Jy,{children:o})}),a.jsxs(Se,{type:"submit",className:"w-full",disabled:n,children:[n&&a.jsx(kn,{className:"mr-2 h-4 w-4 animate-spin"}),"Зарегистрироваться"]})]})})]})})]})})}function kf(t){const n=["admin","sales_manager","warehouse","accountant","courier"].includes(t)?t:"courier";return{admin:{canViewOrders:!0,canViewCalendar:!0,canViewProducts:!0,canViewCustomers:!0,canViewReports:!0,canViewSettings:!0,canViewGroups:!0,canViewDashboard:!0,canCreateOrder:!0,canEditOrder:!0,canDeleteOrder:!0,canAssignCourier:!0,canUpdateDeliveryStatus:!1,canCreateProduct:!0,canEditProduct:!0,canDeleteProduct:!0,canManageStock:!0,canViewPurchasePrice:!0,canCreateCustomer:!0,canEditCustomer:!0,canDeleteCustomer:!0,canViewSalesReports:!0,canViewMarginReports:!0,canViewCourierReports:!0,canViewAudit:!0,canManageUsers:!0,isCourierMode:!1},sales_manager:{canViewOrders:!0,canViewCalendar:!0,canViewProducts:!0,canViewCustomers:!0,canViewReports:!0,canViewSettings:!0,canViewGroups:!1,canViewDashboard:!0,canCreateOrder:!0,canEditOrder:!0,canDeleteOrder:!1,canAssignCourier:!0,canUpdateDeliveryStatus:!1,canCreateProduct:!1,canEditProduct:!1,canDeleteProduct:!1,canManageStock:!1,canViewPurchasePrice:!1,canCreateCustomer:!0,canEditCustomer:!0,canDeleteCustomer:!1,canViewSalesReports:!0,canViewMarginReports:!1,canViewCourierReports:!0,canViewAudit:!0,canManageUsers:!1,isCourierMode:!1},warehouse:{canViewOrders:!0,canViewCalendar:!1,canViewProducts:!0,canViewCustomers:!1,canViewReports:!1,canViewSettings:!0,canViewGroups:!0,canViewDashboard:!1,canCreateOrder:!1,canEditOrder:!1,canDeleteOrder:!1,canAssignCourier:!1,canUpdateDeliveryStatus:!1,canCreateProduct:!0,canEditProduct:!0,canDeleteProduct:!1,canManageStock:!0,canViewPurchasePrice:!0,canCreateCustomer:!1,canEditCustomer:!1,canDeleteCustomer:!1,canViewSalesReports:!1,canViewMarginReports:!1,canViewCourierReports:!1,canViewAudit:!0,canManageUsers:!1,isCourierMode:!1},accountant:{canViewOrders:!0,canViewCalendar:!1,canViewProducts:!0,canViewCustomers:!0,canViewReports:!0,canViewSettings:!0,canViewGroups:!1,canViewDashboard:!0,canCreateOrder:!1,canEditOrder:!1,canDeleteOrder:!1,canAssignCourier:!1,canUpdateDeliveryStatus:!1,canCreateProduct:!1,canEditProduct:!0,canDeleteProduct:!1,canManageStock:!1,canViewPurchasePrice:!0,canCreateCustomer:!1,canEditCustomer:!1,canDeleteCustomer:!1,canViewSalesReports:!0,canViewMarginReports:!0,canViewCourierReports:!0,canViewAudit:!0,canManageUsers:!1,isCourierMode:!1},courier:{canViewOrders:!0,canViewCalendar:!0,canViewProducts:!1,canViewCustomers:!1,canViewReports:!1,canViewSettings:!0,canViewGroups:!1,canViewDashboard:!1,canCreateOrder:!1,canEditOrder:!1,canDeleteOrder:!1,canAssignCourier:!1,canUpdateDeliveryStatus:!0,canCreateProduct:!1,canEditProduct:!1,canDeleteProduct:!1,canManageStock:!1,canViewPurchasePrice:!1,canCreateCustomer:!1,canEditCustomer:!1,canDeleteCustomer:!1,canViewSalesReports:!1,canViewMarginReports:!1,canViewCourierReports:!1,canViewAudit:!1,canManageUsers:!1,isCourierMode:!0}}[n]}function Rs(t){return kf(t?t.role:"courier")}function bc(t,e){if(!t)return!1;const n=kf(t.role),o={orders:"canViewOrders",calendar:"canViewCalendar",products:"canViewProducts",customers:"canViewCustomers",reports:"canViewReports",settings:"canViewSettings",groups:"canViewGroups",dashboard:"canViewDashboard",audit:"canViewAudit"}[e];return o?n[o]:!1}function _2({children:t,currentPage:e,onNavigate:n}){const{user:s,signOut:o}=Nr(),l=Rs(s),d=[{id:"dashboard",label:"Дашборд",icon:FP,permission:"canViewDashboard"},{id:"orders",label:l.isCourierMode?"Мои доставки":"Заказы",icon:l.isCourierMode?Rb:uu,permission:"canViewOrders"},{id:"calendar",label:"Календарь",icon:ui,permission:"canViewCalendar"},{id:"products",label:"Склад",icon:Ur,permission:"canViewProducts"},{id:"groups",label:"Группы товаров",icon:$P,permission:"canViewGroups"},{id:"customers",label:"Клиенты",icon:v2,permission:"canViewCustomers"},{id:"reports",label:"Отчёты",icon:pP,permission:"canViewReports"},{id:"audit",label:"Аудит",icon:MP,permission:"canViewAudit"},{id:"settings",label:"Настройки",icon:o2,permission:"canViewSettings"}].filter(p=>l[p.permission]),f=p=>({admin:"Администратор",sales_manager:"Менеджер продаж",warehouse:"Кладовщик",accountant:"Бухгалтер",courier:"Курьер"})[p]||p;return a.jsxs("div",{className:"flex h-screen bg-gray-50",children:[a.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsx("h1",{className:"text-xl mb-3",children:"CRM Система"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white",children:s?.name?.charAt(0).toUpperCase()||"U"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm truncate",children:s?.name}),a.jsx("p",{className:"text-xs text-gray-500 truncate",children:f(s?.role||"")})]})]})]}),a.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:d.map(p=>{const m=p.icon;return a.jsxs("button",{onClick:()=>n(p.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${e===p.id?"bg-blue-50 text-blue-700":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx(m,{className:"h-5 w-5"}),a.jsx("span",{children:p.label})]},p.id)})}),a.jsx("div",{className:"p-4 border-t border-gray-200",children:a.jsxs(Se,{variant:"outline",className:"w-full justify-start",onClick:()=>o(),children:[a.jsx(jf,{className:"h-4 w-4 mr-2"}),"Выйти"]})})]}),a.jsx("div",{className:"flex-1 overflow-auto",children:t})]})}const k2=`https://${Hw}.supabase.co/functions/v1/make-server-7614200b`;async function We(t,e={}){const n=localStorage.getItem("access_token")||xp,s=await fetch(`${k2}${t}`,{...e,headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`,...e.headers}});if(!s.ok){const o=await s.json().catch(()=>({error:"Network error"}));throw new Error(o.error||`HTTP ${s.status}`)}return s.json()}function C2(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const E2=t=>{switch(t){case"success":return P2;case"info":return A2;case"warning":return R2;case"error":return O2;default:return null}},N2=Array(12).fill(0),T2=({visible:t,className:e})=>z.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},z.createElement("div",{className:"sonner-spinner"},N2.map((n,s)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),P2=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),R2=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),A2=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),O2=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),D2=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),I2=()=>{const[t,e]=z.useState(document.hidden);return z.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Cf=1;class M2{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:s,...o}=e,l=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Cf++,c=this.toasts.find(f=>f.id===l),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),c?this.toasts=this.toasts.map(f=>f.id===l?(this.publish({...f,...e,id:l,title:s}),{...f,...e,id:l,dismissible:d,title:s}):f):this.addToast({title:s,...o,dismissible:d,id:l}),l},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let l=s!==void 0,c;const d=o.then(async p=>{if(c=["resolve",p],z.isValidElement(p))l=!1,this.create({id:s,type:"default",message:p});else if($2(p)&&!p.ok){l=!1;const g=typeof n.error=="function"?await n.error(`HTTP error! status: ${p.status}`):n.error,x=typeof n.description=="function"?await n.description(`HTTP error! status: ${p.status}`):n.description,S=typeof g=="object"&&!z.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:x,...S})}else if(p instanceof Error){l=!1;const g=typeof n.error=="function"?await n.error(p):n.error,x=typeof n.description=="function"?await n.description(p):n.description,S=typeof g=="object"&&!z.isValidElement(g)?g:{message:g};this.create({id:s,type:"error",description:x,...S})}else if(n.success!==void 0){l=!1;const g=typeof n.success=="function"?await n.success(p):n.success,x=typeof n.description=="function"?await n.description(p):n.description,S=typeof g=="object"&&!z.isValidElement(g)?g:{message:g};this.create({id:s,type:"success",description:x,...S})}}).catch(async p=>{if(c=["reject",p],n.error!==void 0){l=!1;const m=typeof n.error=="function"?await n.error(p):n.error,g=typeof n.description=="function"?await n.description(p):n.description,w=typeof m=="object"&&!z.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:g,...w})}}).finally(()=>{l&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),f=()=>new Promise((p,m)=>d.then(()=>c[0]==="reject"?m(c[1]):p(c[1])).catch(m));return typeof s!="string"&&typeof s!="number"?{unwrap:f}:Object.assign(s,{unwrap:f})},this.custom=(e,n)=>{const s=n?.id||Cf++;return this.create({jsx:e(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const vn=new M2,L2=(t,e)=>{const n=e?.id||Cf++;return vn.addToast({title:t,...e,id:n}),n},$2=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",V2=L2,F2=()=>vn.toasts,B2=()=>vn.getActiveToasts(),Ce=Object.assign(V2,{success:vn.success,info:vn.info,warning:vn.warning,error:vn.error,custom:vn.custom,message:vn.message,promise:vn.promise,dismiss:vn.dismiss,loading:vn.loading},{getHistory:F2,getToasts:B2});C2("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function jc(t){return t.label!==void 0}const U2=3,z2="24px",W2="16px",n0=4e3,H2=356,K2=14,q2=45,G2=200;function br(...t){return t.filter(Boolean).join(" ")}function Y2(t){const[e,n]=t.split("-"),s=[];return e&&s.push(e),n&&s.push(n),s}const X2=t=>{var e,n,s,o,l,c,d,f,p;const{invert:m,toast:g,unstyled:x,interacting:w,setHeights:S,visibleToasts:j,heights:C,index:_,toasts:P,expanded:E,removeToast:T,defaultRichColors:D,closeButton:V,style:R,cancelButtonStyle:N,actionButtonStyle:H,className:Z="",descriptionClassName:ie="",duration:ue,position:Q,gap:Y,expandByDefault:X,classNames:M,icons:F,closeButtonAriaLabel:O="Close toast"}=t,[K,B]=z.useState(null),[I,G]=z.useState(null),[te,ae]=z.useState(!1),[fe,ge]=z.useState(!1),[ee,ce]=z.useState(!1),[Ne,Te]=z.useState(!1),[Ie,J]=z.useState(!1),[Pe,oe]=z.useState(0),[ot,Ue]=z.useState(0),kt=z.useRef(g.duration||ue||n0),Mt=z.useRef(null),Kt=z.useRef(null),rt=_===0,Xn=_+1<=j,Lt=g.type,sn=g.dismissible!==!1,xi=g.className||"",Is=g.descriptionClassName||"",Pr=z.useMemo(()=>C.findIndex(Ee=>Ee.toastId===g.id)||0,[C,g.id]),Ms=z.useMemo(()=>{var Ee;return(Ee=g.closeButton)!=null?Ee:V},[g.closeButton,V]),Ln=z.useMemo(()=>g.duration||ue||n0,[g.duration,ue]),Gr=z.useRef(0),on=z.useRef(0),mr=z.useRef(0),un=z.useRef(null),[Ls,wi]=Q.split("-"),bi=z.useMemo(()=>C.reduce((Ee,qe,ut)=>ut>=Pr?Ee:Ee+qe.height,0),[C,Pr]),Yr=I2(),$s=g.invert||m,Rr=Lt==="loading";on.current=z.useMemo(()=>Pr*Y+bi,[Pr,bi]),z.useEffect(()=>{kt.current=Ln},[Ln]),z.useEffect(()=>{ae(!0)},[]),z.useEffect(()=>{const Ee=Kt.current;if(Ee){const qe=Ee.getBoundingClientRect().height;return Ue(qe),S(ut=>[{toastId:g.id,height:qe,position:g.position},...ut]),()=>S(ut=>ut.filter(dt=>dt.toastId!==g.id))}},[S,g.id]),z.useLayoutEffect(()=>{if(!te)return;const Ee=Kt.current,qe=Ee.style.height;Ee.style.height="auto";const ut=Ee.getBoundingClientRect().height;Ee.style.height=qe,Ue(ut),S(dt=>dt.find(at=>at.toastId===g.id)?dt.map(at=>at.toastId===g.id?{...at,height:ut}:at):[{toastId:g.id,height:ut,position:g.position},...dt])},[te,g.title,g.description,S,g.id,g.jsx,g.action,g.cancel]);const _e=z.useCallback(()=>{ge(!0),oe(on.current),S(Ee=>Ee.filter(qe=>qe.toastId!==g.id)),setTimeout(()=>{T(g)},G2)},[g,T,S,on]);z.useEffect(()=>{if(g.promise&&Lt==="loading"||g.duration===1/0||g.type==="loading")return;let Ee;return E||w||Yr?(()=>{if(mr.current<Gr.current){const dt=new Date().getTime()-Gr.current;kt.current=kt.current-dt}mr.current=new Date().getTime()})():(()=>{kt.current!==1/0&&(Gr.current=new Date().getTime(),Ee=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),_e()},kt.current))})(),()=>clearTimeout(Ee)},[E,w,g,Lt,Yr,_e]),z.useEffect(()=>{g.delete&&(_e(),g.onDismiss==null||g.onDismiss.call(g,g))},[_e,g.delete]);function Je(){var Ee;if(F?.loading){var qe;return z.createElement("div",{className:br(M?.loader,g==null||(qe=g.classNames)==null?void 0:qe.loader,"sonner-loader"),"data-visible":Lt==="loading"},F.loading)}return z.createElement(T2,{className:br(M?.loader,g==null||(Ee=g.classNames)==null?void 0:Ee.loader),visible:Lt==="loading"})}const Qe=g.icon||F?.[Lt]||E2(Lt);var ze,ht;return z.createElement("li",{tabIndex:0,ref:Kt,className:br(Z,xi,M?.toast,g==null||(e=g.classNames)==null?void 0:e.toast,M?.default,M?.[Lt],g==null||(n=g.classNames)==null?void 0:n[Lt]),"data-sonner-toast":"","data-rich-colors":(ze=g.richColors)!=null?ze:D,"data-styled":!(g.jsx||g.unstyled||x),"data-mounted":te,"data-promise":!!g.promise,"data-swiped":Ie,"data-removed":fe,"data-visible":Xn,"data-y-position":Ls,"data-x-position":wi,"data-index":_,"data-front":rt,"data-swiping":ee,"data-dismissible":sn,"data-type":Lt,"data-invert":$s,"data-swipe-out":Ne,"data-swipe-direction":I,"data-expanded":!!(E||X&&te),"data-testid":g.testId,style:{"--index":_,"--toasts-before":_,"--z-index":P.length-_,"--offset":`${fe?Pe:on.current}px`,"--initial-height":X?"auto":`${ot}px`,...R,...g.style},onDragEnd:()=>{ce(!1),B(null),un.current=null},onPointerDown:Ee=>{Ee.button!==2&&(Rr||!sn||(Mt.current=new Date,oe(on.current),Ee.target.setPointerCapture(Ee.pointerId),Ee.target.tagName!=="BUTTON"&&(ce(!0),un.current={x:Ee.clientX,y:Ee.clientY})))},onPointerUp:()=>{var Ee,qe,ut;if(Ne||!sn)return;un.current=null;const dt=Number(((Ee=Kt.current)==null?void 0:Ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Xt=Number(((qe=Kt.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),at=new Date().getTime()-((ut=Mt.current)==null?void 0:ut.getTime()),lt=K==="x"?dt:Xt,Cn=Math.abs(lt)/at;if(Math.abs(lt)>=q2||Cn>.11){oe(on.current),g.onDismiss==null||g.onDismiss.call(g,g),G(K==="x"?dt>0?"right":"left":Xt>0?"down":"up"),_e(),Te(!0);return}else{var Rt,En;(Rt=Kt.current)==null||Rt.style.setProperty("--swipe-amount-x","0px"),(En=Kt.current)==null||En.style.setProperty("--swipe-amount-y","0px")}J(!1),ce(!1),B(null)},onPointerMove:Ee=>{var qe,ut,dt;if(!un.current||!sn||((qe=window.getSelection())==null?void 0:qe.toString().length)>0)return;const at=Ee.clientY-un.current.y,lt=Ee.clientX-un.current.x;var Cn;const Rt=(Cn=t.swipeDirections)!=null?Cn:Y2(Q);!K&&(Math.abs(lt)>1||Math.abs(at)>1)&&B(Math.abs(lt)>Math.abs(at)?"x":"y");let En={x:0,y:0};const Xr=$n=>1/(1.5+Math.abs($n)/20);if(K==="y"){if(Rt.includes("top")||Rt.includes("bottom"))if(Rt.includes("top")&&at<0||Rt.includes("bottom")&&at>0)En.y=at;else{const $n=at*Xr(at);En.y=Math.abs($n)<Math.abs(at)?$n:at}}else if(K==="x"&&(Rt.includes("left")||Rt.includes("right")))if(Rt.includes("left")&&lt<0||Rt.includes("right")&&lt>0)En.x=lt;else{const $n=lt*Xr(lt);En.x=Math.abs($n)<Math.abs(lt)?$n:lt}(Math.abs(En.x)>0||Math.abs(En.y)>0)&&J(!0),(ut=Kt.current)==null||ut.style.setProperty("--swipe-amount-x",`${En.x}px`),(dt=Kt.current)==null||dt.style.setProperty("--swipe-amount-y",`${En.y}px`)}},Ms&&!g.jsx&&Lt!=="loading"?z.createElement("button",{"aria-label":O,"data-disabled":Rr,"data-close-button":!0,onClick:Rr||!sn?()=>{}:()=>{_e(),g.onDismiss==null||g.onDismiss.call(g,g)},className:br(M?.closeButton,g==null||(s=g.classNames)==null?void 0:s.closeButton)},(ht=F?.close)!=null?ht:D2):null,(Lt||g.icon||g.promise)&&g.icon!==null&&(F?.[Lt]!==null||g.icon)?z.createElement("div",{"data-icon":"",className:br(M?.icon,g==null||(o=g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Je():null,g.type!=="loading"?Qe:null):null,z.createElement("div",{"data-content":"",className:br(M?.content,g==null||(l=g.classNames)==null?void 0:l.content)},z.createElement("div",{"data-title":"",className:br(M?.title,g==null||(c=g.classNames)==null?void 0:c.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?z.createElement("div",{"data-description":"",className:br(ie,Is,M?.description,g==null||(d=g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),z.isValidElement(g.cancel)?g.cancel:g.cancel&&jc(g.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||N,onClick:Ee=>{jc(g.cancel)&&sn&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Ee),_e())},className:br(M?.cancelButton,g==null||(f=g.classNames)==null?void 0:f.cancelButton)},g.cancel.label):null,z.isValidElement(g.action)?g.action:g.action&&jc(g.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||H,onClick:Ee=>{jc(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Ee),!Ee.defaultPrevented&&_e())},className:br(M?.actionButton,g==null||(p=g.classNames)==null?void 0:p.actionButton)},g.action.label):null)};function r0(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function J2(t,e){const n={};return[t,e].forEach((s,o)=>{const l=o===1,c=l?"--mobile-offset":"--offset",d=l?W2:z2;function f(p){["top","right","bottom","left"].forEach(m=>{n[`${c}-${m}`]=typeof p=="number"?`${p}px`:p})}typeof s=="number"||typeof s=="string"?f(s):typeof s=="object"?["top","right","bottom","left"].forEach(p=>{s[p]===void 0?n[`${c}-${p}`]=d:n[`${c}-${p}`]=typeof s[p]=="number"?`${s[p]}px`:s[p]}):f(d)}),n}const Q2=z.forwardRef(function(e,n){const{id:s,invert:o,position:l="bottom-right",hotkey:c=["altKey","KeyT"],expand:d,closeButton:f,className:p,offset:m,mobileOffset:g,theme:x="light",richColors:w,duration:S,style:j,visibleToasts:C=U2,toastOptions:_,dir:P=r0(),gap:E=K2,icons:T,containerAriaLabel:D="Notifications"}=e,[V,R]=z.useState([]),N=z.useMemo(()=>s?V.filter(te=>te.toasterId===s):V.filter(te=>!te.toasterId),[V,s]),H=z.useMemo(()=>Array.from(new Set([l].concat(N.filter(te=>te.position).map(te=>te.position)))),[N,l]),[Z,ie]=z.useState([]),[ue,Q]=z.useState(!1),[Y,X]=z.useState(!1),[M,F]=z.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=z.useRef(null),K=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=z.useRef(null),I=z.useRef(!1),G=z.useCallback(te=>{R(ae=>{var fe;return(fe=ae.find(ge=>ge.id===te.id))!=null&&fe.delete||vn.dismiss(te.id),ae.filter(({id:ge})=>ge!==te.id)})},[]);return z.useEffect(()=>vn.subscribe(te=>{if(te.dismiss){requestAnimationFrame(()=>{R(ae=>ae.map(fe=>fe.id===te.id?{...fe,delete:!0}:fe))});return}setTimeout(()=>{cb.flushSync(()=>{R(ae=>{const fe=ae.findIndex(ge=>ge.id===te.id);return fe!==-1?[...ae.slice(0,fe),{...ae[fe],...te},...ae.slice(fe+1)]:[te,...ae]})})})}),[V]),z.useEffect(()=>{if(x!=="system"){F(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?F("dark"):F("light")),typeof window>"u")return;const te=window.matchMedia("(prefers-color-scheme: dark)");try{te.addEventListener("change",({matches:ae})=>{F(ae?"dark":"light")})}catch{te.addListener(({matches:fe})=>{try{F(fe?"dark":"light")}catch(ge){console.error(ge)}})}},[x]),z.useEffect(()=>{V.length<=1&&Q(!1)},[V]),z.useEffect(()=>{const te=ae=>{var fe;if(c.every(ce=>ae[ce]||ae.code===ce)){var ee;Q(!0),(ee=O.current)==null||ee.focus()}ae.code==="Escape"&&(document.activeElement===O.current||(fe=O.current)!=null&&fe.contains(document.activeElement))&&Q(!1)};return document.addEventListener("keydown",te),()=>document.removeEventListener("keydown",te)},[c]),z.useEffect(()=>{if(O.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,I.current=!1)}},[O.current]),z.createElement("section",{ref:n,"aria-label":`${D} ${K}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},H.map((te,ae)=>{var fe;const[ge,ee]=te.split("-");return N.length?z.createElement("ol",{key:te,dir:P==="auto"?r0():P,tabIndex:-1,ref:O,className:p,"data-sonner-toaster":!0,"data-sonner-theme":M,"data-y-position":ge,"data-x-position":ee,style:{"--front-toast-height":`${((fe=Z[0])==null?void 0:fe.height)||0}px`,"--width":`${H2}px`,"--gap":`${E}px`,...j,...J2(m,g)},onBlur:ce=>{I.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(I.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||I.current||(I.current=!0,B.current=ce.relatedTarget)},onMouseEnter:()=>Q(!0),onMouseMove:()=>Q(!0),onMouseLeave:()=>{Y||Q(!1)},onDragEnd:()=>Q(!1),onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||X(!0)},onPointerUp:()=>X(!1)},N.filter(ce=>!ce.position&&ae===0||ce.position===te).map((ce,Ne)=>{var Te,Ie;return z.createElement(X2,{key:ce.id,icons:T,index:Ne,toast:ce,defaultRichColors:w,duration:(Te=_?.duration)!=null?Te:S,className:_?.className,descriptionClassName:_?.descriptionClassName,invert:o,visibleToasts:C,closeButton:(Ie=_?.closeButton)!=null?Ie:f,interacting:Y,position:te,style:_?.style,unstyled:_?.unstyled,classNames:_?.classNames,cancelButtonStyle:_?.cancelButtonStyle,actionButtonStyle:_?.actionButtonStyle,closeButtonAriaLabel:_?.closeButtonAriaLabel,removeToast:G,toasts:N.filter(J=>J.position==ce.position),heights:Z.filter(J=>J.position==ce.position),setHeights:ie,expandByDefault:d,gap:E,expanded:ue,swipeDirections:e.swipeDirections})})):null}))});function s0(){const{user:t}=Nr(),[e,n]=b.useState(null),[s,o]=b.useState(!0),[l,c]=b.useState(!1);b.useEffect(()=>{d()},[]);const d=async()=>{try{const m=await We("/stats/dashboard");n(m.stats)}catch(m){console.error("Failed to load stats:",m)}finally{o(!1)}},f=async()=>{if(confirm("Создать демо-данные? (Группы товаров, платформы и образцы товаров)"))try{c(!0);const m=await We("/init-demo",{method:"POST"});Ce.success(m.message),d()}catch(m){Ce.error("Ошибка: "+m.message)}finally{c(!1)}};if(s)return a.jsx("div",{className:"p-4 md:p-8",children:a.jsxs("div",{className:"animate-pulse space-y-4",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2 md:w-1/4"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:[...Array(4)].map((m,g)=>a.jsx("div",{className:"h-32 bg-gray-200 rounded"},g))})]})});const p=[{title:"Всего заказов",value:e?.totalOrders||0,icon:uu,color:"text-blue-600",bgColor:"bg-blue-50"},{title:"Сегодня заказов",value:e?.todayOrders||0,icon:Oa,color:"text-green-600",bgColor:"bg-green-50"},{title:"Новые заказы",value:e?.newOrders||0,icon:bf,color:"text-orange-600",bgColor:"bg-orange-50"},{title:"В работе",value:e?.inProgressOrders||0,icon:Pb,color:"text-purple-600",bgColor:"bg-purple-50"},{title:"Товаров в каталоге",value:e?.totalProducts||0,icon:Ur,color:"text-indigo-600",bgColor:"bg-indigo-50"},{title:"На складе",value:e?.totalStock||0,icon:Dc,color:"text-teal-600",bgColor:"bg-teal-50"},{title:"Низкие остатки",value:e?.lowStock||0,icon:bf,color:"text-red-600",bgColor:"bg-red-50"}];return a.jsxs("div",{className:"p-4 md:p-8",children:[a.jsxs("div",{className:"mb-4 md:mb-8 flex flex-col md:flex-row md:justify-between md:items-start gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl mb-2",children:"Дашборд"}),a.jsx("p",{className:"text-gray-600",children:"Обзор основных показателей"})]}),t?.role==="admin"&&e?.totalProducts===0&&a.jsxs(Se,{onClick:f,disabled:l,className:"w-full md:w-auto",children:[a.jsx(EP,{className:"h-4 w-4 mr-2"}),l?"Создание...":"Создать демо-данные"]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:p.map((m,g)=>{const x=m.icon;return a.jsxs(Ge,{children:[a.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(nt,{className:"text-sm",children:m.title}),a.jsx("div",{className:`p-2 rounded-lg ${m.bgColor}`,children:a.jsx(x,{className:`h-5 w-5 ${m.color}`})})]}),a.jsx(Ye,{children:a.jsx("div",{className:"text-3xl",children:m.value})})]},g)})}),a.jsxs("div",{className:"mt-8 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(Ge,{children:[a.jsx(tt,{children:a.jsx(nt,{children:"Быстрые действия"})}),a.jsxs(Ye,{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"• Создать новый заказ"}),a.jsx("p",{className:"text-sm text-gray-600",children:"• Добавить товар на склад"}),a.jsx("p",{className:"text-sm text-gray-600",children:"• Посмотреть календарь доставок"}),a.jsx("p",{className:"text-sm text-gray-600",children:"• Сформировать отчёт"})]})]}),a.jsxs(Ge,{children:[a.jsx(tt,{children:a.jsx(nt,{children:"Требуют внимания"})}),a.jsxs(Ye,{className:"space-y-2",children:[e?.newOrders?a.jsxs("p",{className:"text-sm text-orange-600",children:["• ",e.newOrders," новых заказов"]}):null,e?.lowStock?a.jsxs("p",{className:"text-sm text-red-600",children:["• ",e.lowStock," товаров с низким остатком"]}):null,!e?.newOrders&&!e?.lowStock&&a.jsx("p",{className:"text-sm text-gray-600",children:"Всё в порядке ✓"})]})]})]}),e?.totalProducts===0&&a.jsxs(Ge,{className:"mt-6 bg-blue-50 border-blue-200",children:[a.jsx(tt,{children:a.jsx(nt,{children:"👋 Добро пожаловать в CRM систему!"})}),a.jsxs(Ye,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"mb-2",children:"Быстрый старт:"}),a.jsxs("ol",{className:"text-sm space-y-2 ml-5 list-decimal",children:[a.jsxs("li",{children:["Нажмите кнопку ",a.jsx("strong",{children:'"Создать демо-данные"'})," выше для загрузки образцов"]}),a.jsxs("li",{children:["Перейдите в ",a.jsx("strong",{children:"Склад"})," и добавьте товары на склад с серийными номерами"]}),a.jsxs("li",{children:["Создайте первый заказ в разделе ",a.jsx("strong",{children:"Заказы"})]}),a.jsxs("li",{children:["Настройте платформы продаж в ",a.jsx("strong",{children:"Настройках"})]})]})]}),a.jsxs("div",{className:"pt-4 border-t border-blue-200",children:[a.jsx("h3",{className:"mb-2",children:"Основные возможности:"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsx("div",{children:"✓ Серийный учёт товаров"}),a.jsx("div",{children:"✓ Управление заказами"}),a.jsx("div",{children:"✓ Календарь доставок"}),a.jsx("div",{children:"✓ Отчёты и аналитика"}),a.jsx("div",{children:"✓ Журнал аудита"}),a.jsx("div",{children:"✓ Роли и права доступа"})]})]})]})]})]})}function Da({className:t,...e}){return a.jsx("textarea",{"data-slot":"textarea",className:Ve("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function cr({className:t,...e}){return a.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:a.jsx("table",{"data-slot":"table",className:Ve("w-full caption-bottom text-sm",t),...e})})}function ur({className:t,...e}){return a.jsx("thead",{"data-slot":"table-header",className:Ve("[&_tr]:border-b",t),...e})}function dr({className:t,...e}){return a.jsx("tbody",{"data-slot":"table-body",className:Ve("[&_tr:last-child]:border-0",t),...e})}function it({className:t,...e}){return a.jsx("tr",{"data-slot":"table-row",className:Ve("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function pe({className:t,...e}){return a.jsx("th",{"data-slot":"table-head",className:Ve("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function de({className:t,...e}){return a.jsx("td",{"data-slot":"table-cell",className:Ve("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function Z2(t,e=globalThis?.document){const n=Ss(t);b.useEffect(()=>{const s=o=>{o.key==="Escape"&&n(o)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var eR="DismissableLayer",Ef="dismissableLayer.update",tR="dismissableLayer.pointerDownOutside",nR="dismissableLayer.focusOutside",i0,Ab=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Cp=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...f}=t,p=b.useContext(Ab),[m,g]=b.useState(null),x=m?.ownerDocument??globalThis?.document,[,w]=b.useState({}),S=mt(e,R=>g(R)),j=Array.from(p.layers),[C]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),_=j.indexOf(C),P=m?j.indexOf(m):-1,E=p.layersWithOutsidePointerEventsDisabled.size>0,T=P>=_,D=iR(R=>{const N=R.target,H=[...p.branches].some(Z=>Z.contains(N));!T||H||(o?.(R),c?.(R),R.defaultPrevented||d?.())},x),V=oR(R=>{const N=R.target;[...p.branches].some(Z=>Z.contains(N))||(l?.(R),c?.(R),R.defaultPrevented||d?.())},x);return Z2(R=>{P===p.layers.size-1&&(s?.(R),!R.defaultPrevented&&d&&(R.preventDefault(),d()))},x),b.useEffect(()=>{if(m)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(i0=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(m)),p.layers.add(m),o0(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=i0)}},[m,x,n,p]),b.useEffect(()=>()=>{m&&(p.layers.delete(m),p.layersWithOutsidePointerEventsDisabled.delete(m),o0())},[m,p]),b.useEffect(()=>{const R=()=>w({});return document.addEventListener(Ef,R),()=>document.removeEventListener(Ef,R)},[]),a.jsx(Ze.div,{...f,ref:S,style:{pointerEvents:E?T?"auto":"none":void 0,...t.style},onFocusCapture:Xe(t.onFocusCapture,V.onFocusCapture),onBlurCapture:Xe(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:Xe(t.onPointerDownCapture,D.onPointerDownCapture)})});Cp.displayName=eR;var rR="DismissableLayerBranch",sR=b.forwardRef((t,e)=>{const n=b.useContext(Ab),s=b.useRef(null),o=mt(e,s);return b.useEffect(()=>{const l=s.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),a.jsx(Ze.div,{...t,ref:o})});sR.displayName=rR;function iR(t,e=globalThis?.document){const n=Ss(t),s=b.useRef(!1),o=b.useRef(()=>{});return b.useEffect(()=>{const l=d=>{if(d.target&&!s.current){let f=function(){Ob(tR,n,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=f,e.addEventListener("click",o.current,{once:!0})):f()}else e.removeEventListener("click",o.current);s.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",o.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function oR(t,e=globalThis?.document){const n=Ss(t),s=b.useRef(!1);return b.useEffect(()=>{const o=l=>{l.target&&!s.current&&Ob(nR,n,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function o0(){const t=new CustomEvent(Ef);document.dispatchEvent(t)}function Ob(t,e,n,{discrete:s}){const o=n.originalEvent.target,l=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&o.addEventListener(t,e,{once:!0}),s?_T(o,l):o.dispatchEvent(l)}var Eh="focusScope.autoFocusOnMount",Nh="focusScope.autoFocusOnUnmount",a0={bubbles:!1,cancelable:!0},aR="FocusScope",Ep=b.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...c}=t,[d,f]=b.useState(null),p=Ss(o),m=Ss(l),g=b.useRef(null),x=mt(e,j=>f(j)),w=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(s){let j=function(E){if(w.paused||!d)return;const T=E.target;d.contains(T)?g.current=T:xs(g.current,{select:!0})},C=function(E){if(w.paused||!d)return;const T=E.relatedTarget;T!==null&&(d.contains(T)||xs(g.current,{select:!0}))},_=function(E){if(document.activeElement===document.body)for(const D of E)D.removedNodes.length>0&&xs(d)};document.addEventListener("focusin",j),document.addEventListener("focusout",C);const P=new MutationObserver(_);return d&&P.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",C),P.disconnect()}}},[s,d,w.paused]),b.useEffect(()=>{if(d){c0.add(w);const j=document.activeElement;if(!d.contains(j)){const _=new CustomEvent(Eh,a0);d.addEventListener(Eh,p),d.dispatchEvent(_),_.defaultPrevented||(lR(fR(Db(d)),{select:!0}),document.activeElement===j&&xs(d))}return()=>{d.removeEventListener(Eh,p),setTimeout(()=>{const _=new CustomEvent(Nh,a0);d.addEventListener(Nh,m),d.dispatchEvent(_),_.defaultPrevented||xs(j??document.body,{select:!0}),d.removeEventListener(Nh,m),c0.remove(w)},0)}}},[d,p,m,w]);const S=b.useCallback(j=>{if(!n&&!s||w.paused)return;const C=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,_=document.activeElement;if(C&&_){const P=j.currentTarget,[E,T]=cR(P);E&&T?!j.shiftKey&&_===T?(j.preventDefault(),n&&xs(E,{select:!0})):j.shiftKey&&_===E&&(j.preventDefault(),n&&xs(T,{select:!0})):_===P&&j.preventDefault()}},[n,s,w.paused]);return a.jsx(Ze.div,{tabIndex:-1,...c,ref:x,onKeyDown:S})});Ep.displayName=aR;function lR(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(xs(s,{select:e}),document.activeElement!==n)return}function cR(t){const e=Db(t),n=l0(e,t),s=l0(e.reverse(),t);return[n,s]}function Db(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function l0(t,e){for(const n of t)if(!uR(n,{upTo:e}))return n}function uR(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function dR(t){return t instanceof HTMLInputElement&&"select"in t}function xs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&dR(t)&&e&&t.select()}}var c0=hR();function hR(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=u0(t,e),t.unshift(e)},remove(e){t=u0(t,e),t[0]?.resume()}}}function u0(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function fR(t){return t.filter(e=>e.tagName!=="A")}var pR="Portal",Np=b.forwardRef((t,e)=>{const{container:n,...s}=t,[o,l]=b.useState(!1);rn(()=>l(!0),[]);const c=n||o&&globalThis?.document?.body;return c?cb.createPortal(a.jsx(Ze.div,{...s,ref:e}),c):null});Np.displayName=pR;var Th=0;function Ib(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??d0()),document.body.insertAdjacentElement("beforeend",t[1]??d0()),Th++,()=>{Th===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Th--}},[])}function d0(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ic="right-scroll-bar-position",Mc="width-before-scroll-bar",mR="with-scroll-bars-hidden",gR="--removed-body-scroll-bar-size";function Ph(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function vR(t,e){var n=b.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var o=n.value;o!==s&&(n.value=s,n.callback(s,o))}}}})[0];return n.callback=e,n.facade}var yR=typeof window<"u"?b.useLayoutEffect:b.useEffect,h0=new WeakMap;function xR(t,e){var n=vR(null,function(s){return t.forEach(function(o){return Ph(o,s)})});return yR(function(){var s=h0.get(n);if(s){var o=new Set(s),l=new Set(t),c=n.current;o.forEach(function(d){l.has(d)||Ph(d,null)}),l.forEach(function(d){o.has(d)||Ph(d,c)})}h0.set(n,t)},[t]),n}function wR(t){return t}function bR(t,e){e===void 0&&(e=wR);var n=[],s=!1,o={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(l){var c=e(l,s);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(l){for(s=!0;n.length;){var c=n;n=[],c.forEach(l)}n={push:function(d){return l(d)},filter:function(){return n}}},assignMedium:function(l){s=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(l),c=n}var f=function(){var m=c;c=[],m.forEach(l)},p=function(){return Promise.resolve().then(f)};p(),n={push:function(m){c.push(m),p()},filter:function(m){return c=c.filter(m),n}}}};return o}function jR(t){t===void 0&&(t={});var e=bR(null);return e.options=qn({async:!0,ssr:!1},t),e}var Mb=function(t){var e=t.sideCar,n=Ns(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return b.createElement(s,qn({},n))};Mb.isSideCarExport=!0;function SR(t,e){return t.useMedium(e),Mb}var Lb=jR(),Rh=function(){},du=b.forwardRef(function(t,e){var n=b.useRef(null),s=b.useState({onScrollCapture:Rh,onWheelCapture:Rh,onTouchMoveCapture:Rh}),o=s[0],l=s[1],c=t.forwardProps,d=t.children,f=t.className,p=t.removeScrollBar,m=t.enabled,g=t.shards,x=t.sideCar,w=t.noRelative,S=t.noIsolation,j=t.inert,C=t.allowPinchZoom,_=t.as,P=_===void 0?"div":_,E=t.gapMode,T=Ns(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=x,V=xR([n,e]),R=qn(qn({},T),o);return b.createElement(b.Fragment,null,m&&b.createElement(D,{sideCar:Lb,removeScrollBar:p,shards:g,noRelative:w,noIsolation:S,inert:j,setCallbacks:l,allowPinchZoom:!!C,lockRef:n,gapMode:E}),c?b.cloneElement(b.Children.only(d),qn(qn({},R),{ref:V})):b.createElement(P,qn({},R,{className:f,ref:V}),d))});du.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};du.classNames={fullWidth:Mc,zeroRight:Ic};var _R=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function kR(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=_R();return e&&t.setAttribute("nonce",e),t}function CR(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function ER(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var NR=function(){var t=0,e=null;return{add:function(n){t==0&&(e=kR())&&(CR(e,n),ER(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},TR=function(){var t=NR();return function(e,n){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},$b=function(){var t=TR(),e=function(n){var s=n.styles,o=n.dynamic;return t(s,o),null};return e},PR={left:0,top:0,right:0,gap:0},Ah=function(t){return parseInt(t||"",10)||0},RR=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],o=e[t==="padding"?"paddingRight":"marginRight"];return[Ah(n),Ah(s),Ah(o)]},AR=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return PR;var e=RR(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},OR=$b(),lo="data-scroll-locked",DR=function(t,e,n,s){var o=t.left,l=t.top,c=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(mR,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(lo,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ic,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(Mc,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(Ic," .").concat(Ic,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Mc," .").concat(Mc,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(lo,`] {
    `).concat(gR,": ").concat(d,`px;
  }
`)},f0=function(){var t=parseInt(document.body.getAttribute(lo)||"0",10);return isFinite(t)?t:0},IR=function(){b.useEffect(function(){return document.body.setAttribute(lo,(f0()+1).toString()),function(){var t=f0()-1;t<=0?document.body.removeAttribute(lo):document.body.setAttribute(lo,t.toString())}},[])},MR=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,o=s===void 0?"margin":s;IR();var l=b.useMemo(function(){return AR(o)},[o]);return b.createElement(OR,{styles:DR(l,!e,o,n?"":"!important")})},Nf=!1;if(typeof window<"u")try{var Sc=Object.defineProperty({},"passive",{get:function(){return Nf=!0,!0}});window.addEventListener("test",Sc,Sc),window.removeEventListener("test",Sc,Sc)}catch{Nf=!1}var Xi=Nf?{passive:!1}:!1,LR=function(t){return t.tagName==="TEXTAREA"},Vb=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!LR(t)&&n[e]==="visible")},$R=function(t){return Vb(t,"overflowY")},VR=function(t){return Vb(t,"overflowX")},p0=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var o=Fb(t,s);if(o){var l=Bb(t,s),c=l[1],d=l[2];if(c>d)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},FR=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},BR=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},Fb=function(t,e){return t==="v"?$R(e):VR(e)},Bb=function(t,e){return t==="v"?FR(e):BR(e)},UR=function(t,e){return t==="h"&&e==="rtl"?-1:1},zR=function(t,e,n,s,o){var l=UR(t,window.getComputedStyle(e).direction),c=l*s,d=n.target,f=e.contains(d),p=!1,m=c>0,g=0,x=0;do{if(!d)break;var w=Bb(t,d),S=w[0],j=w[1],C=w[2],_=j-C-l*S;(S||_)&&Fb(t,d)&&(g+=_,x+=S);var P=d.parentNode;d=P&&P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?P.host:P}while(!f&&d!==document.body||f&&(e.contains(d)||e===d));return(m&&Math.abs(g)<1||!m&&Math.abs(x)<1)&&(p=!0),p},_c=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},m0=function(t){return[t.deltaX,t.deltaY]},g0=function(t){return t&&"current"in t?t.current:t},WR=function(t,e){return t[0]===e[0]&&t[1]===e[1]},HR=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},KR=0,Ji=[];function qR(t){var e=b.useRef([]),n=b.useRef([0,0]),s=b.useRef(),o=b.useState(KR++)[0],l=b.useState($b)[0],c=b.useRef(t);b.useEffect(function(){c.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(o));var j=up([t.lockRef.current],(t.shards||[]).map(g0),!0).filter(Boolean);return j.forEach(function(C){return C.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),j.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(o))})}}},[t.inert,t.lockRef.current,t.shards]);var d=b.useCallback(function(j,C){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!c.current.allowPinchZoom;var _=_c(j),P=n.current,E="deltaX"in j?j.deltaX:P[0]-_[0],T="deltaY"in j?j.deltaY:P[1]-_[1],D,V=j.target,R=Math.abs(E)>Math.abs(T)?"h":"v";if("touches"in j&&R==="h"&&V.type==="range")return!1;var N=p0(R,V);if(!N)return!0;if(N?D=R:(D=R==="v"?"h":"v",N=p0(R,V)),!N)return!1;if(!s.current&&"changedTouches"in j&&(E||T)&&(s.current=D),!D)return!0;var H=s.current||D;return zR(H,C,j,H==="h"?E:T)},[]),f=b.useCallback(function(j){var C=j;if(!(!Ji.length||Ji[Ji.length-1]!==l)){var _="deltaY"in C?m0(C):_c(C),P=e.current.filter(function(D){return D.name===C.type&&(D.target===C.target||C.target===D.shadowParent)&&WR(D.delta,_)})[0];if(P&&P.should){C.cancelable&&C.preventDefault();return}if(!P){var E=(c.current.shards||[]).map(g0).filter(Boolean).filter(function(D){return D.contains(C.target)}),T=E.length>0?d(C,E[0]):!c.current.noIsolation;T&&C.cancelable&&C.preventDefault()}}},[]),p=b.useCallback(function(j,C,_,P){var E={name:j,delta:C,target:_,should:P,shadowParent:GR(_)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(T){return T!==E})},1)},[]),m=b.useCallback(function(j){n.current=_c(j),s.current=void 0},[]),g=b.useCallback(function(j){p(j.type,m0(j),j.target,d(j,t.lockRef.current))},[]),x=b.useCallback(function(j){p(j.type,_c(j),j.target,d(j,t.lockRef.current))},[]);b.useEffect(function(){return Ji.push(l),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:x}),document.addEventListener("wheel",f,Xi),document.addEventListener("touchmove",f,Xi),document.addEventListener("touchstart",m,Xi),function(){Ji=Ji.filter(function(j){return j!==l}),document.removeEventListener("wheel",f,Xi),document.removeEventListener("touchmove",f,Xi),document.removeEventListener("touchstart",m,Xi)}},[]);var w=t.removeScrollBar,S=t.inert;return b.createElement(b.Fragment,null,S?b.createElement(l,{styles:HR(o)}):null,w?b.createElement(MR,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function GR(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const YR=SR(Lb,qR);var Tp=b.forwardRef(function(t,e){return b.createElement(du,qn({},t,{ref:e,sideCar:YR}))});Tp.classNames=du.classNames;var XR=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Qi=new WeakMap,kc=new WeakMap,Cc={},Oh=0,Ub=function(t){return t&&(t.host||Ub(t.parentNode))},JR=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=Ub(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},QR=function(t,e,n,s){var o=JR(e,Array.isArray(t)?t:[t]);Cc[n]||(Cc[n]=new WeakMap);var l=Cc[n],c=[],d=new Set,f=new Set(o),p=function(g){!g||d.has(g)||(d.add(g),p(g.parentNode))};o.forEach(p);var m=function(g){!g||f.has(g)||Array.prototype.forEach.call(g.children,function(x){if(d.has(x))m(x);else try{var w=x.getAttribute(s),S=w!==null&&w!=="false",j=(Qi.get(x)||0)+1,C=(l.get(x)||0)+1;Qi.set(x,j),l.set(x,C),c.push(x),j===1&&S&&kc.set(x,!0),C===1&&x.setAttribute(n,"true"),S||x.setAttribute(s,"true")}catch(_){console.error("aria-hidden: cannot operate on ",x,_)}})};return m(e),d.clear(),Oh++,function(){c.forEach(function(g){var x=Qi.get(g)-1,w=l.get(g)-1;Qi.set(g,x),l.set(g,w),x||(kc.has(g)||g.removeAttribute(s),kc.delete(g)),w||g.removeAttribute(n)}),Oh--,Oh||(Qi=new WeakMap,Qi=new WeakMap,kc=new WeakMap,Cc={})}},zb=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),o=XR(t);return o?(s.push.apply(s,Array.from(o.querySelectorAll("[aria-live], script"))),QR(s,o,n,"aria-hidden")):function(){return null}},hu="Dialog",[Wb,Hb]=Ps(hu),[ZR,pr]=Wb(hu),Kb=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:o,onOpenChange:l,modal:c=!0}=t,d=b.useRef(null),f=b.useRef(null),[p,m]=go({prop:s,defaultProp:o??!1,onChange:l,caller:hu});return a.jsx(ZR,{scope:e,triggerRef:d,contentRef:f,contentId:js(),titleId:js(),descriptionId:js(),open:p,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(g=>!g),[m]),modal:c,children:n})};Kb.displayName=hu;var qb="DialogTrigger",Gb=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=pr(qb,n),l=mt(e,o.triggerRef);return a.jsx(Ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Ap(o.open),...s,ref:l,onClick:Xe(t.onClick,o.onOpenToggle)})});Gb.displayName=qb;var Pp="DialogPortal",[eA,Yb]=Wb(Pp,{forceMount:void 0}),Xb=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:o}=t,l=pr(Pp,e);return a.jsx(eA,{scope:e,forceMount:n,children:b.Children.map(s,c=>a.jsx(Ka,{present:n||l.open,children:a.jsx(Np,{asChild:!0,container:o,children:c})}))})};Xb.displayName=Pp;var qc="DialogOverlay",Jb=b.forwardRef((t,e)=>{const n=Yb(qc,t.__scopeDialog),{forceMount:s=n.forceMount,...o}=t,l=pr(qc,t.__scopeDialog);return l.modal?a.jsx(Ka,{present:s||l.open,children:a.jsx(nA,{...o,ref:e})}):null});Jb.displayName=qc;var tA=mo("DialogOverlay.RemoveScroll"),nA=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=pr(qc,n);return a.jsx(Tp,{as:tA,allowPinchZoom:!0,shards:[o.contentRef],children:a.jsx(Ze.div,{"data-state":Ap(o.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),pi="DialogContent",Qb=b.forwardRef((t,e)=>{const n=Yb(pi,t.__scopeDialog),{forceMount:s=n.forceMount,...o}=t,l=pr(pi,t.__scopeDialog);return a.jsx(Ka,{present:s||l.open,children:l.modal?a.jsx(rA,{...o,ref:e}):a.jsx(sA,{...o,ref:e})})});Qb.displayName=pi;var rA=b.forwardRef((t,e)=>{const n=pr(pi,t.__scopeDialog),s=b.useRef(null),o=mt(e,n.contentRef,s);return b.useEffect(()=>{const l=s.current;if(l)return zb(l)},[]),a.jsx(Zb,{...t,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Xe(t.onCloseAutoFocus,l=>{l.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Xe(t.onPointerDownOutside,l=>{const c=l.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&l.preventDefault()}),onFocusOutside:Xe(t.onFocusOutside,l=>l.preventDefault())})}),sA=b.forwardRef((t,e)=>{const n=pr(pi,t.__scopeDialog),s=b.useRef(!1),o=b.useRef(!1);return a.jsx(Zb,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(s.current||n.triggerRef.current?.focus(),l.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(s.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=l.target;n.triggerRef.current?.contains(c)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),Zb=b.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:l,...c}=t,d=pr(pi,n),f=b.useRef(null),p=mt(e,f);return Ib(),a.jsxs(a.Fragment,{children:[a.jsx(Ep,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:o,onUnmountAutoFocus:l,children:a.jsx(Cp,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Ap(d.open),...c,ref:p,onDismiss:()=>d.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(oA,{titleId:d.titleId}),a.jsx(lA,{contentRef:f,descriptionId:d.descriptionId})]})]})}),Rp="DialogTitle",ej=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=pr(Rp,n);return a.jsx(Ze.h2,{id:o.titleId,...s,ref:e})});ej.displayName=Rp;var tj="DialogDescription",nj=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=pr(tj,n);return a.jsx(Ze.p,{id:o.descriptionId,...s,ref:e})});nj.displayName=tj;var rj="DialogClose",sj=b.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,o=pr(rj,n);return a.jsx(Ze.button,{type:"button",...s,ref:e,onClick:Xe(t.onClick,()=>o.onOpenChange(!1))})});sj.displayName=rj;function Ap(t){return t?"open":"closed"}var ij="DialogTitleWarning",[iA,oj]=ET(ij,{contentName:pi,titleName:Rp,docsSlug:"dialog"}),oA=({titleId:t})=>{const e=oj(ij),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},aA="DialogDescriptionWarning",lA=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${oj(aA).contentName}}.`;return b.useEffect(()=>{const o=t.current?.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},Op=Kb,cA=Gb,Dp=Xb,Ip=Jb,Mp=Qb,Lp=ej,aj=nj,fu=sj;function qa({...t}){return a.jsx(Op,{"data-slot":"dialog",...t})}function uA({...t}){return a.jsx(Dp,{"data-slot":"dialog-portal",...t})}function dA({className:t,...e}){return a.jsx(Ip,{"data-slot":"dialog-overlay",className:Ve("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function Ga({className:t,children:e,...n}){return a.jsxs(uA,{"data-slot":"dialog-portal",children:[a.jsx(dA,{}),a.jsxs(Mp,{"data-slot":"dialog-content",className:Ve("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,a.jsxs(fu,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(kp,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Ya({className:t,...e}){return a.jsx("div",{"data-slot":"dialog-header",className:Ve("flex flex-col gap-2 text-center sm:text-left",t),...e})}function pu({className:t,...e}){return a.jsx("div",{"data-slot":"dialog-footer",className:Ve("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function Xa({className:t,...e}){return a.jsx(Lp,{"data-slot":"dialog-title",className:Ve("text-lg leading-none font-semibold",t),...e})}function mu({className:t,...e}){return a.jsx(aj,{"data-slot":"dialog-description",className:Ve("text-muted-foreground text-sm",t),...e})}const hA=wp("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function jr({className:t,variant:e,asChild:n=!1,...s}){const o=n?Yw:"span";return a.jsx(o,{"data-slot":"badge",className:Ve(hA({variant:e}),t),...s})}function fA(){const[t,e]=b.useState([]),[n,s]=b.useState(!0),[o,l]=b.useState(!1),[c,d]=b.useState(null),[f,p]=b.useState({name:"",description:"",active:!0});b.useEffect(()=>{m()},[]);const m=async()=>{try{const S=await We("/groups");e(S.groups)}catch(S){Ce.error("Ошибка загрузки групп: "+S.message)}finally{s(!1)}},g=S=>{S?(d(S),p({name:S.name,description:S.description,active:S.active})):(d(null),p({name:"",description:"",active:!0})),l(!0)},x=async()=>{try{c?(await We(`/groups/${c.id}`,{method:"PUT",body:JSON.stringify(f)}),Ce.success("Группа обновлена")):(await We("/groups",{method:"POST",body:JSON.stringify(f)}),Ce.success("Группа создана")),l(!1),m()}catch(S){Ce.error("Ошибка сохранения: "+S.message)}},w=async S=>{if(confirm("Удалить эту группу?"))try{await We(`/groups/${S}`,{method:"DELETE"}),Ce.success("Группа удалена"),m()}catch(j){Ce.error("Ошибка удаления: "+j.message)}};return n?a.jsx("div",{className:"p-4 md:p-8 flex items-center justify-center",children:a.jsx(kn,{className:"h-8 w-8 animate-spin text-gray-400"})}):a.jsxs("div",{className:"p-4 md:p-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-4 md:mb-8 gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl mb-2",children:"Группы товаров"}),a.jsx("p",{className:"text-gray-600",children:"Управление категориями товаров"})]}),a.jsxs(Se,{onClick:()=>g(),className:"w-full md:w-auto",children:[a.jsx(_o,{className:"h-4 w-4 mr-2"}),"Создать группу"]})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-x-auto",children:a.jsxs(cr,{children:[a.jsx(ur,{children:a.jsxs(it,{children:[a.jsx(pe,{children:"ID"}),a.jsx(pe,{children:"Название"}),a.jsx(pe,{children:"Описание"}),a.jsx(pe,{children:"Статус"}),a.jsx(pe,{children:"Создана"}),a.jsx(pe,{className:"text-right",children:"Действия"})]})}),a.jsx(dr,{children:t.length===0?a.jsx(it,{children:a.jsx(de,{colSpan:6,className:"text-center text-gray-500 py-8",children:"Нет групп товаров"})}):t.map(S=>a.jsxs(it,{children:[a.jsx(de,{children:S.id}),a.jsx(de,{children:S.name}),a.jsx(de,{className:"max-w-xs truncate",children:S.description}),a.jsx(de,{children:a.jsx(jr,{variant:S.active?"default":"secondary",children:S.active?"Активна":"Неактивна"})}),a.jsx(de,{children:new Date(S.createdAt).toLocaleDateString("ru-RU")}),a.jsxs(de,{className:"text-right",children:[a.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>g(S),children:a.jsx(_p,{className:"h-4 w-4"})}),a.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>w(S.id),children:a.jsx(fi,{className:"h-4 w-4 text-red-600"})})]})]},S.id))})]})}),a.jsx(qa,{open:o,onOpenChange:l,children:a.jsxs(Ga,{children:[a.jsxs(Ya,{children:[a.jsx(Xa,{children:c?"Редактировать группу":"Создать группу"}),a.jsx(mu,{children:"Заполните информацию о группе товаров"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"name",children:"Название *"}),a.jsx(Fe,{id:"name",value:f.name,onChange:S=>p({...f,name:S.target.value}),placeholder:"Например: Смартфоны"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"description",children:"Описание"}),a.jsx(Da,{id:"description",value:f.description,onChange:S=>p({...f,description:S.target.value}),placeholder:"Краткое описание группы"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"active",checked:f.active,onChange:S=>p({...f,active:S.target.checked}),className:"h-4 w-4 rounded border-gray-300"}),a.jsx(he,{htmlFor:"active",children:"Активна"})]})]}),a.jsxs(pu,{children:[a.jsx(Se,{variant:"outline",onClick:()=>l(!1),children:"Отмена"}),a.jsx(Se,{onClick:x,disabled:!f.name,children:"Сохранить"})]})]})})]})}function v0(t,[e,n]){return Math.min(n,Math.max(e,t))}const pA=["top","right","bottom","left"],_s=Math.min,On=Math.max,Gc=Math.round,Ec=Math.floor,_r=t=>({x:t,y:t}),mA={left:"right",right:"left",bottom:"top",top:"bottom"},gA={start:"end",end:"start"};function Tf(t,e,n){return On(t,_s(e,n))}function zr(t,e){return typeof t=="function"?t(e):t}function Wr(t){return t.split("-")[0]}function ko(t){return t.split("-")[1]}function $p(t){return t==="x"?"y":"x"}function Vp(t){return t==="y"?"height":"width"}const vA=new Set(["top","bottom"]);function Sr(t){return vA.has(Wr(t))?"y":"x"}function Fp(t){return $p(Sr(t))}function yA(t,e,n){n===void 0&&(n=!1);const s=ko(t),o=Fp(t),l=Vp(o);let c=o==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(c=Yc(c)),[c,Yc(c)]}function xA(t){const e=Yc(t);return[Pf(t),e,Pf(e)]}function Pf(t){return t.replace(/start|end/g,e=>gA[e])}const y0=["left","right"],x0=["right","left"],wA=["top","bottom"],bA=["bottom","top"];function jA(t,e,n){switch(t){case"top":case"bottom":return n?e?x0:y0:e?y0:x0;case"left":case"right":return e?wA:bA;default:return[]}}function SA(t,e,n,s){const o=ko(t);let l=jA(Wr(t),n==="start",s);return o&&(l=l.map(c=>c+"-"+o),e&&(l=l.concat(l.map(Pf)))),l}function Yc(t){return t.replace(/left|right|bottom|top/g,e=>mA[e])}function _A(t){return{top:0,right:0,bottom:0,left:0,...t}}function lj(t){return typeof t!="number"?_A(t):{top:t,right:t,bottom:t,left:t}}function Xc(t){const{x:e,y:n,width:s,height:o}=t;return{width:s,height:o,top:n,left:e,right:e+s,bottom:n+o,x:e,y:n}}function w0(t,e,n){let{reference:s,floating:o}=t;const l=Sr(e),c=Fp(e),d=Vp(c),f=Wr(e),p=l==="y",m=s.x+s.width/2-o.width/2,g=s.y+s.height/2-o.height/2,x=s[d]/2-o[d]/2;let w;switch(f){case"top":w={x:m,y:s.y-o.height};break;case"bottom":w={x:m,y:s.y+s.height};break;case"right":w={x:s.x+s.width,y:g};break;case"left":w={x:s.x-o.width,y:g};break;default:w={x:s.x,y:s.y}}switch(ko(e)){case"start":w[c]-=x*(n&&p?-1:1);break;case"end":w[c]+=x*(n&&p?-1:1);break}return w}const kA=async(t,e,n)=>{const{placement:s="bottom",strategy:o="absolute",middleware:l=[],platform:c}=n,d=l.filter(Boolean),f=await(c.isRTL==null?void 0:c.isRTL(e));let p=await c.getElementRects({reference:t,floating:e,strategy:o}),{x:m,y:g}=w0(p,s,f),x=s,w={},S=0;for(let j=0;j<d.length;j++){const{name:C,fn:_}=d[j],{x:P,y:E,data:T,reset:D}=await _({x:m,y:g,initialPlacement:s,placement:x,strategy:o,middlewareData:w,rects:p,platform:c,elements:{reference:t,floating:e}});m=P??m,g=E??g,w={...w,[C]:{...w[C],...T}},D&&S<=50&&(S++,typeof D=="object"&&(D.placement&&(x=D.placement),D.rects&&(p=D.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:o}):D.rects),{x:m,y:g}=w0(p,x,f)),j=-1)}return{x:m,y:g,placement:x,strategy:o,middlewareData:w}};async function Ia(t,e){var n;e===void 0&&(e={});const{x:s,y:o,platform:l,rects:c,elements:d,strategy:f}=t,{boundary:p="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:x=!1,padding:w=0}=zr(e,t),S=lj(w),C=d[x?g==="floating"?"reference":"floating":g],_=Xc(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(C)))==null||n?C:C.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:p,rootBoundary:m,strategy:f})),P=g==="floating"?{x:s,y:o,width:c.floating.width,height:c.floating.height}:c.reference,E=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),T=await(l.isElement==null?void 0:l.isElement(E))?await(l.getScale==null?void 0:l.getScale(E))||{x:1,y:1}:{x:1,y:1},D=Xc(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:P,offsetParent:E,strategy:f}):P);return{top:(_.top-D.top+S.top)/T.y,bottom:(D.bottom-_.bottom+S.bottom)/T.y,left:(_.left-D.left+S.left)/T.x,right:(D.right-_.right+S.right)/T.x}}const CA=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:o,rects:l,platform:c,elements:d,middlewareData:f}=e,{element:p,padding:m=0}=zr(t,e)||{};if(p==null)return{};const g=lj(m),x={x:n,y:s},w=Fp(o),S=Vp(w),j=await c.getDimensions(p),C=w==="y",_=C?"top":"left",P=C?"bottom":"right",E=C?"clientHeight":"clientWidth",T=l.reference[S]+l.reference[w]-x[w]-l.floating[S],D=x[w]-l.reference[w],V=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let R=V?V[E]:0;(!R||!await(c.isElement==null?void 0:c.isElement(V)))&&(R=d.floating[E]||l.floating[S]);const N=T/2-D/2,H=R/2-j[S]/2-1,Z=_s(g[_],H),ie=_s(g[P],H),ue=Z,Q=R-j[S]-ie,Y=R/2-j[S]/2+N,X=Tf(ue,Y,Q),M=!f.arrow&&ko(o)!=null&&Y!==X&&l.reference[S]/2-(Y<ue?Z:ie)-j[S]/2<0,F=M?Y<ue?Y-ue:Y-Q:0;return{[w]:x[w]+F,data:{[w]:X,centerOffset:Y-X-F,...M&&{alignmentOffset:F}},reset:M}}}),EA=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:o,middlewareData:l,rects:c,initialPlacement:d,platform:f,elements:p}=e,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:x,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:j=!0,...C}=zr(t,e);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const _=Wr(o),P=Sr(d),E=Wr(d)===d,T=await(f.isRTL==null?void 0:f.isRTL(p.floating)),D=x||(E||!j?[Yc(d)]:xA(d)),V=S!=="none";!x&&V&&D.push(...SA(d,j,S,T));const R=[d,...D],N=await Ia(e,C),H=[];let Z=((s=l.flip)==null?void 0:s.overflows)||[];if(m&&H.push(N[_]),g){const Y=yA(o,c,T);H.push(N[Y[0]],N[Y[1]])}if(Z=[...Z,{placement:o,overflows:H}],!H.every(Y=>Y<=0)){var ie,ue;const Y=(((ie=l.flip)==null?void 0:ie.index)||0)+1,X=R[Y];if(X&&(!(g==="alignment"?P!==Sr(X):!1)||Z.every(O=>Sr(O.placement)===P?O.overflows[0]>0:!0)))return{data:{index:Y,overflows:Z},reset:{placement:X}};let M=(ue=Z.filter(F=>F.overflows[0]<=0).sort((F,O)=>F.overflows[1]-O.overflows[1])[0])==null?void 0:ue.placement;if(!M)switch(w){case"bestFit":{var Q;const F=(Q=Z.filter(O=>{if(V){const K=Sr(O.placement);return K===P||K==="y"}return!0}).map(O=>[O.placement,O.overflows.filter(K=>K>0).reduce((K,B)=>K+B,0)]).sort((O,K)=>O[1]-K[1])[0])==null?void 0:Q[0];F&&(M=F);break}case"initialPlacement":M=d;break}if(o!==M)return{reset:{placement:M}}}return{}}}};function b0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function j0(t){return pA.some(e=>t[e]>=0)}const NA=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...o}=zr(t,e);switch(s){case"referenceHidden":{const l=await Ia(e,{...o,elementContext:"reference"}),c=b0(l,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:j0(c)}}}case"escaped":{const l=await Ia(e,{...o,altBoundary:!0}),c=b0(l,n.floating);return{data:{escapedOffsets:c,escaped:j0(c)}}}default:return{}}}}},cj=new Set(["left","top"]);async function TA(t,e){const{placement:n,platform:s,elements:o}=t,l=await(s.isRTL==null?void 0:s.isRTL(o.floating)),c=Wr(n),d=ko(n),f=Sr(n)==="y",p=cj.has(c)?-1:1,m=l&&f?-1:1,g=zr(e,t);let{mainAxis:x,crossAxis:w,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof S=="number"&&(w=d==="end"?S*-1:S),f?{x:w*m,y:x*p}:{x:x*p,y:w*m}}const PA=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:o,y:l,placement:c,middlewareData:d}=e,f=await TA(e,t);return c===((n=d.offset)==null?void 0:n.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:o+f.x,y:l+f.y,data:{...f,placement:c}}}}},RA=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:o}=e,{mainAxis:l=!0,crossAxis:c=!1,limiter:d={fn:C=>{let{x:_,y:P}=C;return{x:_,y:P}}},...f}=zr(t,e),p={x:n,y:s},m=await Ia(e,f),g=Sr(Wr(o)),x=$p(g);let w=p[x],S=p[g];if(l){const C=x==="y"?"top":"left",_=x==="y"?"bottom":"right",P=w+m[C],E=w-m[_];w=Tf(P,w,E)}if(c){const C=g==="y"?"top":"left",_=g==="y"?"bottom":"right",P=S+m[C],E=S-m[_];S=Tf(P,S,E)}const j=d.fn({...e,[x]:w,[g]:S});return{...j,data:{x:j.x-n,y:j.y-s,enabled:{[x]:l,[g]:c}}}}}},AA=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:o,rects:l,middlewareData:c}=e,{offset:d=0,mainAxis:f=!0,crossAxis:p=!0}=zr(t,e),m={x:n,y:s},g=Sr(o),x=$p(g);let w=m[x],S=m[g];const j=zr(d,e),C=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(f){const E=x==="y"?"height":"width",T=l.reference[x]-l.floating[E]+C.mainAxis,D=l.reference[x]+l.reference[E]-C.mainAxis;w<T?w=T:w>D&&(w=D)}if(p){var _,P;const E=x==="y"?"width":"height",T=cj.has(Wr(o)),D=l.reference[g]-l.floating[E]+(T&&((_=c.offset)==null?void 0:_[g])||0)+(T?0:C.crossAxis),V=l.reference[g]+l.reference[E]+(T?0:((P=c.offset)==null?void 0:P[g])||0)-(T?C.crossAxis:0);S<D?S=D:S>V&&(S=V)}return{[x]:w,[g]:S}}}},OA=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:o,rects:l,platform:c,elements:d}=e,{apply:f=()=>{},...p}=zr(t,e),m=await Ia(e,p),g=Wr(o),x=ko(o),w=Sr(o)==="y",{width:S,height:j}=l.floating;let C,_;g==="top"||g==="bottom"?(C=g,_=x===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(_=g,C=x==="end"?"top":"bottom");const P=j-m.top-m.bottom,E=S-m.left-m.right,T=_s(j-m[C],P),D=_s(S-m[_],E),V=!e.middlewareData.shift;let R=T,N=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(N=E),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(R=P),V&&!x){const Z=On(m.left,0),ie=On(m.right,0),ue=On(m.top,0),Q=On(m.bottom,0);w?N=S-2*(Z!==0||ie!==0?Z+ie:On(m.left,m.right)):R=j-2*(ue!==0||Q!==0?ue+Q:On(m.top,m.bottom))}await f({...e,availableWidth:N,availableHeight:R});const H=await c.getDimensions(d.floating);return S!==H.width||j!==H.height?{reset:{rects:!0}}:{}}}};function gu(){return typeof window<"u"}function Co(t){return uj(t)?(t.nodeName||"").toLowerCase():"#document"}function Mn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Tr(t){var e;return(e=(uj(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function uj(t){return gu()?t instanceof Node||t instanceof Mn(t).Node:!1}function hr(t){return gu()?t instanceof Element||t instanceof Mn(t).Element:!1}function Er(t){return gu()?t instanceof HTMLElement||t instanceof Mn(t).HTMLElement:!1}function S0(t){return!gu()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Mn(t).ShadowRoot}const DA=new Set(["inline","contents"]);function Ja(t){const{overflow:e,overflowX:n,overflowY:s,display:o}=fr(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!DA.has(o)}const IA=new Set(["table","td","th"]);function MA(t){return IA.has(Co(t))}const LA=[":popover-open",":modal"];function vu(t){return LA.some(e=>{try{return t.matches(e)}catch{return!1}})}const $A=["transform","translate","scale","rotate","perspective"],VA=["transform","translate","scale","rotate","perspective","filter"],FA=["paint","layout","strict","content"];function Bp(t){const e=Up(),n=hr(t)?fr(t):t;return $A.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||VA.some(s=>(n.willChange||"").includes(s))||FA.some(s=>(n.contain||"").includes(s))}function BA(t){let e=ks(t);for(;Er(e)&&!vo(e);){if(Bp(e))return e;if(vu(e))return null;e=ks(e)}return null}function Up(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const UA=new Set(["html","body","#document"]);function vo(t){return UA.has(Co(t))}function fr(t){return Mn(t).getComputedStyle(t)}function yu(t){return hr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ks(t){if(Co(t)==="html")return t;const e=t.assignedSlot||t.parentNode||S0(t)&&t.host||Tr(t);return S0(e)?e.host:e}function dj(t){const e=ks(t);return vo(e)?t.ownerDocument?t.ownerDocument.body:t.body:Er(e)&&Ja(e)?e:dj(e)}function Ma(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const o=dj(t),l=o===((s=t.ownerDocument)==null?void 0:s.body),c=Mn(o);if(l){const d=Rf(c);return e.concat(c,c.visualViewport||[],Ja(o)?o:[],d&&n?Ma(d):[])}return e.concat(o,Ma(o,[],n))}function Rf(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function hj(t){const e=fr(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const o=Er(t),l=o?t.offsetWidth:n,c=o?t.offsetHeight:s,d=Gc(n)!==l||Gc(s)!==c;return d&&(n=l,s=c),{width:n,height:s,$:d}}function zp(t){return hr(t)?t:t.contextElement}function co(t){const e=zp(t);if(!Er(e))return _r(1);const n=e.getBoundingClientRect(),{width:s,height:o,$:l}=hj(e);let c=(l?Gc(n.width):n.width)/s,d=(l?Gc(n.height):n.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const zA=_r(0);function fj(t){const e=Mn(t);return!Up()||!e.visualViewport?zA:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function WA(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Mn(t)?!1:e}function mi(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const o=t.getBoundingClientRect(),l=zp(t);let c=_r(1);e&&(s?hr(s)&&(c=co(s)):c=co(t));const d=WA(l,n,s)?fj(l):_r(0);let f=(o.left+d.x)/c.x,p=(o.top+d.y)/c.y,m=o.width/c.x,g=o.height/c.y;if(l){const x=Mn(l),w=s&&hr(s)?Mn(s):s;let S=x,j=Rf(S);for(;j&&s&&w!==S;){const C=co(j),_=j.getBoundingClientRect(),P=fr(j),E=_.left+(j.clientLeft+parseFloat(P.paddingLeft))*C.x,T=_.top+(j.clientTop+parseFloat(P.paddingTop))*C.y;f*=C.x,p*=C.y,m*=C.x,g*=C.y,f+=E,p+=T,S=Mn(j),j=Rf(S)}}return Xc({width:m,height:g,x:f,y:p})}function xu(t,e){const n=yu(t).scrollLeft;return e?e.left+n:mi(Tr(t)).left+n}function pj(t,e){const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-xu(t,n),o=n.top+e.scrollTop;return{x:s,y:o}}function HA(t){let{elements:e,rect:n,offsetParent:s,strategy:o}=t;const l=o==="fixed",c=Tr(s),d=e?vu(e.floating):!1;if(s===c||d&&l)return n;let f={scrollLeft:0,scrollTop:0},p=_r(1);const m=_r(0),g=Er(s);if((g||!g&&!l)&&((Co(s)!=="body"||Ja(c))&&(f=yu(s)),Er(s))){const w=mi(s);p=co(s),m.x=w.x+s.clientLeft,m.y=w.y+s.clientTop}const x=c&&!g&&!l?pj(c,f):_r(0);return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-f.scrollLeft*p.x+m.x+x.x,y:n.y*p.y-f.scrollTop*p.y+m.y+x.y}}function KA(t){return Array.from(t.getClientRects())}function qA(t){const e=Tr(t),n=yu(t),s=t.ownerDocument.body,o=On(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),l=On(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let c=-n.scrollLeft+xu(t);const d=-n.scrollTop;return fr(s).direction==="rtl"&&(c+=On(e.clientWidth,s.clientWidth)-o),{width:o,height:l,x:c,y:d}}const _0=25;function GA(t,e){const n=Mn(t),s=Tr(t),o=n.visualViewport;let l=s.clientWidth,c=s.clientHeight,d=0,f=0;if(o){l=o.width,c=o.height;const m=Up();(!m||m&&e==="fixed")&&(d=o.offsetLeft,f=o.offsetTop)}const p=xu(s);if(p<=0){const m=s.ownerDocument,g=m.body,x=getComputedStyle(g),w=m.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,S=Math.abs(s.clientWidth-g.clientWidth-w);S<=_0&&(l-=S)}else p<=_0&&(l+=p);return{width:l,height:c,x:d,y:f}}const YA=new Set(["absolute","fixed"]);function XA(t,e){const n=mi(t,!0,e==="fixed"),s=n.top+t.clientTop,o=n.left+t.clientLeft,l=Er(t)?co(t):_r(1),c=t.clientWidth*l.x,d=t.clientHeight*l.y,f=o*l.x,p=s*l.y;return{width:c,height:d,x:f,y:p}}function k0(t,e,n){let s;if(e==="viewport")s=GA(t,n);else if(e==="document")s=qA(Tr(t));else if(hr(e))s=XA(e,n);else{const o=fj(t);s={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Xc(s)}function mj(t,e){const n=ks(t);return n===e||!hr(n)||vo(n)?!1:fr(n).position==="fixed"||mj(n,e)}function JA(t,e){const n=e.get(t);if(n)return n;let s=Ma(t,[],!1).filter(d=>hr(d)&&Co(d)!=="body"),o=null;const l=fr(t).position==="fixed";let c=l?ks(t):t;for(;hr(c)&&!vo(c);){const d=fr(c),f=Bp(c);!f&&d.position==="fixed"&&(o=null),(l?!f&&!o:!f&&d.position==="static"&&!!o&&YA.has(o.position)||Ja(c)&&!f&&mj(t,c))?s=s.filter(m=>m!==c):o=d,c=ks(c)}return e.set(t,s),s}function QA(t){let{element:e,boundary:n,rootBoundary:s,strategy:o}=t;const c=[...n==="clippingAncestors"?vu(e)?[]:JA(e,this._c):[].concat(n),s],d=c[0],f=c.reduce((p,m)=>{const g=k0(e,m,o);return p.top=On(g.top,p.top),p.right=_s(g.right,p.right),p.bottom=_s(g.bottom,p.bottom),p.left=On(g.left,p.left),p},k0(e,d,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function ZA(t){const{width:e,height:n}=hj(t);return{width:e,height:n}}function eO(t,e,n){const s=Er(e),o=Tr(e),l=n==="fixed",c=mi(t,!0,l,e);let d={scrollLeft:0,scrollTop:0};const f=_r(0);function p(){f.x=xu(o)}if(s||!s&&!l)if((Co(e)!=="body"||Ja(o))&&(d=yu(e)),s){const w=mi(e,!0,l,e);f.x=w.x+e.clientLeft,f.y=w.y+e.clientTop}else o&&p();l&&!s&&o&&p();const m=o&&!s&&!l?pj(o,d):_r(0),g=c.left+d.scrollLeft-f.x-m.x,x=c.top+d.scrollTop-f.y-m.y;return{x:g,y:x,width:c.width,height:c.height}}function Dh(t){return fr(t).position==="static"}function C0(t,e){if(!Er(t)||fr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Tr(t)===n&&(n=n.ownerDocument.body),n}function gj(t,e){const n=Mn(t);if(vu(t))return n;if(!Er(t)){let o=ks(t);for(;o&&!vo(o);){if(hr(o)&&!Dh(o))return o;o=ks(o)}return n}let s=C0(t,e);for(;s&&MA(s)&&Dh(s);)s=C0(s,e);return s&&vo(s)&&Dh(s)&&!Bp(s)?n:s||BA(t)||n}const tO=async function(t){const e=this.getOffsetParent||gj,n=this.getDimensions,s=await n(t.floating);return{reference:eO(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function nO(t){return fr(t).direction==="rtl"}const rO={convertOffsetParentRelativeRectToViewportRelativeRect:HA,getDocumentElement:Tr,getClippingRect:QA,getOffsetParent:gj,getElementRects:tO,getClientRects:KA,getDimensions:ZA,getScale:co,isElement:hr,isRTL:nO};function vj(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function sO(t,e){let n=null,s;const o=Tr(t);function l(){var d;clearTimeout(s),(d=n)==null||d.disconnect(),n=null}function c(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),l();const p=t.getBoundingClientRect(),{left:m,top:g,width:x,height:w}=p;if(d||e(),!x||!w)return;const S=Ec(g),j=Ec(o.clientWidth-(m+x)),C=Ec(o.clientHeight-(g+w)),_=Ec(m),E={rootMargin:-S+"px "+-j+"px "+-C+"px "+-_+"px",threshold:On(0,_s(1,f))||1};let T=!0;function D(V){const R=V[0].intersectionRatio;if(R!==f){if(!T)return c();R?c(!1,R):s=setTimeout(()=>{c(!1,1e-7)},1e3)}R===1&&!vj(p,t.getBoundingClientRect())&&c(),T=!1}try{n=new IntersectionObserver(D,{...E,root:o.ownerDocument})}catch{n=new IntersectionObserver(D,E)}n.observe(t)}return c(!0),l}function iO(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=s,p=zp(t),m=o||l?[...p?Ma(p):[],...Ma(e)]:[];m.forEach(_=>{o&&_.addEventListener("scroll",n,{passive:!0}),l&&_.addEventListener("resize",n)});const g=p&&d?sO(p,n):null;let x=-1,w=null;c&&(w=new ResizeObserver(_=>{let[P]=_;P&&P.target===p&&w&&(w.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var E;(E=w)==null||E.observe(e)})),n()}),p&&!f&&w.observe(p),w.observe(e));let S,j=f?mi(t):null;f&&C();function C(){const _=mi(t);j&&!vj(j,_)&&n(),j=_,S=requestAnimationFrame(C)}return n(),()=>{var _;m.forEach(P=>{o&&P.removeEventListener("scroll",n),l&&P.removeEventListener("resize",n)}),g?.(),(_=w)==null||_.disconnect(),w=null,f&&cancelAnimationFrame(S)}}const oO=PA,aO=RA,lO=EA,cO=OA,uO=NA,E0=CA,dO=AA,hO=(t,e,n)=>{const s=new Map,o={platform:rO,...n},l={...o.platform,_c:s};return kA(t,e,{...o,platform:l})};var fO=typeof document<"u",pO=function(){},Lc=fO?b.useLayoutEffect:pO;function Jc(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!Jc(t[s],e[s]))return!1;return!0}if(o=Object.keys(t),n=o.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,o[s]))return!1;for(s=n;s--!==0;){const l=o[s];if(!(l==="_owner"&&t.$$typeof)&&!Jc(t[l],e[l]))return!1}return!0}return t!==t&&e!==e}function yj(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function N0(t,e){const n=yj(t);return Math.round(e*n)/n}function Ih(t){const e=b.useRef(t);return Lc(()=>{e.current=t}),e}function mO(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:o,elements:{reference:l,floating:c}={},transform:d=!0,whileElementsMounted:f,open:p}=t,[m,g]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[x,w]=b.useState(s);Jc(x,s)||w(s);const[S,j]=b.useState(null),[C,_]=b.useState(null),P=b.useCallback(O=>{O!==V.current&&(V.current=O,j(O))},[]),E=b.useCallback(O=>{O!==R.current&&(R.current=O,_(O))},[]),T=l||S,D=c||C,V=b.useRef(null),R=b.useRef(null),N=b.useRef(m),H=f!=null,Z=Ih(f),ie=Ih(o),ue=Ih(p),Q=b.useCallback(()=>{if(!V.current||!R.current)return;const O={placement:e,strategy:n,middleware:x};ie.current&&(O.platform=ie.current),hO(V.current,R.current,O).then(K=>{const B={...K,isPositioned:ue.current!==!1};Y.current&&!Jc(N.current,B)&&(N.current=B,Wa.flushSync(()=>{g(B)}))})},[x,e,n,ie,ue]);Lc(()=>{p===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,g(O=>({...O,isPositioned:!1})))},[p]);const Y=b.useRef(!1);Lc(()=>(Y.current=!0,()=>{Y.current=!1}),[]),Lc(()=>{if(T&&(V.current=T),D&&(R.current=D),T&&D){if(Z.current)return Z.current(T,D,Q);Q()}},[T,D,Q,Z,H]);const X=b.useMemo(()=>({reference:V,floating:R,setReference:P,setFloating:E}),[P,E]),M=b.useMemo(()=>({reference:T,floating:D}),[T,D]),F=b.useMemo(()=>{const O={position:n,left:0,top:0};if(!M.floating)return O;const K=N0(M.floating,m.x),B=N0(M.floating,m.y);return d?{...O,transform:"translate("+K+"px, "+B+"px)",...yj(M.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:B}},[n,d,M.floating,m.x,m.y]);return b.useMemo(()=>({...m,update:Q,refs:X,elements:M,floatingStyles:F}),[m,Q,X,M,F])}const gO=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:o}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?E0({element:s.current,padding:o}).fn(n):{}:s?E0({element:s,padding:o}).fn(n):{}}}},vO=(t,e)=>({...oO(t),options:[t,e]}),yO=(t,e)=>({...aO(t),options:[t,e]}),xO=(t,e)=>({...dO(t),options:[t,e]}),wO=(t,e)=>({...lO(t),options:[t,e]}),bO=(t,e)=>({...cO(t),options:[t,e]}),jO=(t,e)=>({...uO(t),options:[t,e]}),SO=(t,e)=>({...gO(t),options:[t,e]});var _O="Arrow",xj=b.forwardRef((t,e)=>{const{children:n,width:s=10,height:o=5,...l}=t;return a.jsx(Ze.svg,{...l,ref:e,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});xj.displayName=_O;var kO=xj;function wj(t){const[e,n]=b.useState(void 0);return rn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let c,d;if("borderBoxSize"in l){const f=l.borderBoxSize,p=Array.isArray(f)?f[0]:f;c=p.inlineSize,d=p.blockSize}else c=t.offsetWidth,d=t.offsetHeight;n({width:c,height:d})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var Wp="Popper",[bj,jj]=Ps(Wp),[CO,Sj]=bj(Wp),_j=t=>{const{__scopePopper:e,children:n}=t,[s,o]=b.useState(null);return a.jsx(CO,{scope:e,anchor:s,onAnchorChange:o,children:n})};_j.displayName=Wp;var kj="PopperAnchor",Cj=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...o}=t,l=Sj(kj,n),c=b.useRef(null),d=mt(e,c),f=b.useRef(null);return b.useEffect(()=>{const p=f.current;f.current=s?.current||c.current,p!==f.current&&l.onAnchorChange(f.current)}),s?null:a.jsx(Ze.div,{...o,ref:d})});Cj.displayName=kj;var Hp="PopperContent",[EO,NO]=bj(Hp),Ej=b.forwardRef((t,e)=>{const{__scopePopper:n,side:s="bottom",sideOffset:o=0,align:l="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:f=!0,collisionBoundary:p=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:x=!1,updatePositionStrategy:w="optimized",onPlaced:S,...j}=t,C=Sj(Hp,n),[_,P]=b.useState(null),E=mt(e,ee=>P(ee)),[T,D]=b.useState(null),V=wj(T),R=V?.width??0,N=V?.height??0,H=s+(l!=="center"?"-"+l:""),Z=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},ie=Array.isArray(p)?p:[p],ue=ie.length>0,Q={padding:Z,boundary:ie.filter(PO),altBoundary:ue},{refs:Y,floatingStyles:X,placement:M,isPositioned:F,middlewareData:O}=mO({strategy:"fixed",placement:H,whileElementsMounted:(...ee)=>iO(...ee,{animationFrame:w==="always"}),elements:{reference:C.anchor},middleware:[vO({mainAxis:o+N,alignmentAxis:c}),f&&yO({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?xO():void 0,...Q}),f&&wO({...Q}),bO({...Q,apply:({elements:ee,rects:ce,availableWidth:Ne,availableHeight:Te})=>{const{width:Ie,height:J}=ce.reference,Pe=ee.floating.style;Pe.setProperty("--radix-popper-available-width",`${Ne}px`),Pe.setProperty("--radix-popper-available-height",`${Te}px`),Pe.setProperty("--radix-popper-anchor-width",`${Ie}px`),Pe.setProperty("--radix-popper-anchor-height",`${J}px`)}}),T&&SO({element:T,padding:d}),RO({arrowWidth:R,arrowHeight:N}),x&&jO({strategy:"referenceHidden",...Q})]}),[K,B]=Pj(M),I=Ss(S);rn(()=>{F&&I?.()},[F,I]);const G=O.arrow?.x,te=O.arrow?.y,ae=O.arrow?.centerOffset!==0,[fe,ge]=b.useState();return rn(()=>{_&&ge(window.getComputedStyle(_).zIndex)},[_]),a.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:F?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[O.transformOrigin?.x,O.transformOrigin?.y].join(" "),...O.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(EO,{scope:n,placedSide:K,onArrowChange:D,arrowX:G,arrowY:te,shouldHideArrow:ae,children:a.jsx(Ze.div,{"data-side":K,"data-align":B,...j,ref:E,style:{...j.style,animation:F?void 0:"none"}})})})});Ej.displayName=Hp;var Nj="PopperArrow",TO={top:"bottom",right:"left",bottom:"top",left:"right"},Tj=b.forwardRef(function(e,n){const{__scopePopper:s,...o}=e,l=NO(Nj,s),c=TO[l.placedSide];return a.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:a.jsx(kO,{...o,ref:n,style:{...o.style,display:"block"}})})});Tj.displayName=Nj;function PO(t){return t!==null}var RO=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:s,middlewareData:o}=e,c=o.arrow?.centerOffset!==0,d=c?0:t.arrowWidth,f=c?0:t.arrowHeight,[p,m]=Pj(n),g={start:"0%",center:"50%",end:"100%"}[m],x=(o.arrow?.x??0)+d/2,w=(o.arrow?.y??0)+f/2;let S="",j="";return p==="bottom"?(S=c?g:`${x}px`,j=`${-f}px`):p==="top"?(S=c?g:`${x}px`,j=`${s.floating.height+f}px`):p==="right"?(S=`${-f}px`,j=c?g:`${w}px`):p==="left"&&(S=`${s.floating.width+f}px`,j=c?g:`${w}px`),{data:{x:S,y:j}}}});function Pj(t){const[e,n="center"]=t.split("-");return[e,n]}var AO=_j,OO=Cj,DO=Ej,IO=Tj;function Rj(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Aj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),MO="VisuallyHidden",LO=b.forwardRef((t,e)=>a.jsx(Ze.span,{...t,ref:e,style:{...Aj,...t.style}}));LO.displayName=MO;var $O=[" ","Enter","ArrowUp","ArrowDown"],VO=[" ","Enter"],gi="Select",[wu,bu,FO]=db(gi),[Eo]=Ps(gi,[FO,jj]),ju=jj(),[BO,As]=Eo(gi),[UO,zO]=Eo(gi),Oj=t=>{const{__scopeSelect:e,children:n,open:s,defaultOpen:o,onOpenChange:l,value:c,defaultValue:d,onValueChange:f,dir:p,name:m,autoComplete:g,disabled:x,required:w,form:S}=t,j=ju(e),[C,_]=b.useState(null),[P,E]=b.useState(null),[T,D]=b.useState(!1),V=jp(p),[R,N]=go({prop:s,defaultProp:o??!1,onChange:l,caller:gi}),[H,Z]=go({prop:c,defaultProp:d,onChange:f,caller:gi}),ie=b.useRef(null),ue=C?S||!!C.closest("form"):!0,[Q,Y]=b.useState(new Set),X=Array.from(Q).map(M=>M.props.value).join(";");return a.jsx(AO,{...j,children:a.jsxs(BO,{required:w,scope:e,trigger:C,onTriggerChange:_,valueNode:P,onValueNodeChange:E,valueNodeHasChildren:T,onValueNodeHasChildrenChange:D,contentId:js(),value:H,onValueChange:Z,open:R,onOpenChange:N,dir:V,triggerPointerDownPosRef:ie,disabled:x,children:[a.jsx(wu.Provider,{scope:e,children:a.jsx(UO,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(M=>{Y(F=>new Set(F).add(M))},[]),onNativeOptionRemove:b.useCallback(M=>{Y(F=>{const O=new Set(F);return O.delete(M),O})},[]),children:n})}),ue?a.jsxs(tS,{"aria-hidden":!0,required:w,tabIndex:-1,name:m,autoComplete:g,value:H,onChange:M=>Z(M.target.value),disabled:x,form:S,children:[H===void 0?a.jsx("option",{value:""}):null,Array.from(Q)]},X):null]})})};Oj.displayName=gi;var Dj="SelectTrigger",Ij=b.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:s=!1,...o}=t,l=ju(n),c=As(Dj,n),d=c.disabled||s,f=mt(e,c.onTriggerChange),p=bu(n),m=b.useRef("touch"),[g,x,w]=rS(j=>{const C=p().filter(E=>!E.disabled),_=C.find(E=>E.value===c.value),P=sS(C,j,_);P!==void 0&&c.onValueChange(P.value)}),S=j=>{d||(c.onOpenChange(!0),w()),j&&(c.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return a.jsx(OO,{asChild:!0,...l,children:a.jsx(Ze.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":nS(c.value)?"":void 0,...o,ref:f,onClick:Xe(o.onClick,j=>{j.currentTarget.focus(),m.current!=="mouse"&&S(j)}),onPointerDown:Xe(o.onPointerDown,j=>{m.current=j.pointerType;const C=j.target;C.hasPointerCapture(j.pointerId)&&C.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(S(j),j.preventDefault())}),onKeyDown:Xe(o.onKeyDown,j=>{const C=g.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&x(j.key),!(C&&j.key===" ")&&$O.includes(j.key)&&(S(),j.preventDefault())})})})});Ij.displayName=Dj;var Mj="SelectValue",Lj=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:o,children:l,placeholder:c="",...d}=t,f=As(Mj,n),{onValueNodeHasChildrenChange:p}=f,m=l!==void 0,g=mt(e,f.onValueNodeChange);return rn(()=>{p(m)},[p,m]),a.jsx(Ze.span,{...d,ref:g,style:{pointerEvents:"none"},children:nS(f.value)?a.jsx(a.Fragment,{children:c}):l})});Lj.displayName=Mj;var WO="SelectIcon",$j=b.forwardRef((t,e)=>{const{__scopeSelect:n,children:s,...o}=t;return a.jsx(Ze.span,{"aria-hidden":!0,...o,ref:e,children:s||"▼"})});$j.displayName=WO;var HO="SelectPortal",Vj=t=>a.jsx(Np,{asChild:!0,...t});Vj.displayName=HO;var vi="SelectContent",Fj=b.forwardRef((t,e)=>{const n=As(vi,t.__scopeSelect),[s,o]=b.useState();if(rn(()=>{o(new DocumentFragment)},[]),!n.open){const l=s;return l?Wa.createPortal(a.jsx(Bj,{scope:t.__scopeSelect,children:a.jsx(wu.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),l):null}return a.jsx(Uj,{...t,ref:e})});Fj.displayName=vi;var ir=10,[Bj,Os]=Eo(vi),KO="SelectContentImpl",qO=mo("SelectContent.RemoveScroll"),Uj=b.forwardRef((t,e)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:c,side:d,sideOffset:f,align:p,alignOffset:m,arrowPadding:g,collisionBoundary:x,collisionPadding:w,sticky:S,hideWhenDetached:j,avoidCollisions:C,..._}=t,P=As(vi,n),[E,T]=b.useState(null),[D,V]=b.useState(null),R=mt(e,ee=>T(ee)),[N,H]=b.useState(null),[Z,ie]=b.useState(null),ue=bu(n),[Q,Y]=b.useState(!1),X=b.useRef(!1);b.useEffect(()=>{if(E)return zb(E)},[E]),Ib();const M=b.useCallback(ee=>{const[ce,...Ne]=ue().map(J=>J.ref.current),[Te]=Ne.slice(-1),Ie=document.activeElement;for(const J of ee)if(J===Ie||(J?.scrollIntoView({block:"nearest"}),J===ce&&D&&(D.scrollTop=0),J===Te&&D&&(D.scrollTop=D.scrollHeight),J?.focus(),document.activeElement!==Ie))return},[ue,D]),F=b.useCallback(()=>M([N,E]),[M,N,E]);b.useEffect(()=>{Q&&F()},[Q,F]);const{onOpenChange:O,triggerPointerDownPosRef:K}=P;b.useEffect(()=>{if(E){let ee={x:0,y:0};const ce=Te=>{ee={x:Math.abs(Math.round(Te.pageX)-(K.current?.x??0)),y:Math.abs(Math.round(Te.pageY)-(K.current?.y??0))}},Ne=Te=>{ee.x<=10&&ee.y<=10?Te.preventDefault():E.contains(Te.target)||O(!1),document.removeEventListener("pointermove",ce),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",ce),document.addEventListener("pointerup",Ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ce),document.removeEventListener("pointerup",Ne,{capture:!0})}}},[E,O,K]),b.useEffect(()=>{const ee=()=>O(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[O]);const[B,I]=rS(ee=>{const ce=ue().filter(Ie=>!Ie.disabled),Ne=ce.find(Ie=>Ie.ref.current===document.activeElement),Te=sS(ce,ee,Ne);Te&&setTimeout(()=>Te.ref.current.focus())}),G=b.useCallback((ee,ce,Ne)=>{const Te=!X.current&&!Ne;(P.value!==void 0&&P.value===ce||Te)&&(H(ee),Te&&(X.current=!0))},[P.value]),te=b.useCallback(()=>E?.focus(),[E]),ae=b.useCallback((ee,ce,Ne)=>{const Te=!X.current&&!Ne;(P.value!==void 0&&P.value===ce||Te)&&ie(ee)},[P.value]),fe=s==="popper"?Af:zj,ge=fe===Af?{side:d,sideOffset:f,align:p,alignOffset:m,arrowPadding:g,collisionBoundary:x,collisionPadding:w,sticky:S,hideWhenDetached:j,avoidCollisions:C}:{};return a.jsx(Bj,{scope:n,content:E,viewport:D,onViewportChange:V,itemRefCallback:G,selectedItem:N,onItemLeave:te,itemTextRefCallback:ae,focusSelectedItem:F,selectedItemText:Z,position:s,isPositioned:Q,searchRef:B,children:a.jsx(Tp,{as:qO,allowPinchZoom:!0,children:a.jsx(Ep,{asChild:!0,trapped:P.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:Xe(o,ee=>{P.trigger?.focus({preventScroll:!0}),ee.preventDefault()}),children:a.jsx(Cp,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>P.onOpenChange(!1),children:a.jsx(fe,{role:"listbox",id:P.contentId,"data-state":P.open?"open":"closed",dir:P.dir,onContextMenu:ee=>ee.preventDefault(),..._,...ge,onPlaced:()=>Y(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Xe(_.onKeyDown,ee=>{const ce=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!ce&&ee.key.length===1&&I(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let Te=ue().filter(Ie=>!Ie.disabled).map(Ie=>Ie.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(Te=Te.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const Ie=ee.target,J=Te.indexOf(Ie);Te=Te.slice(J+1)}setTimeout(()=>M(Te)),ee.preventDefault()}})})})})})})});Uj.displayName=KO;var GO="SelectItemAlignedPosition",zj=b.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:s,...o}=t,l=As(vi,n),c=Os(vi,n),[d,f]=b.useState(null),[p,m]=b.useState(null),g=mt(e,R=>m(R)),x=bu(n),w=b.useRef(!1),S=b.useRef(!0),{viewport:j,selectedItem:C,selectedItemText:_,focusSelectedItem:P}=c,E=b.useCallback(()=>{if(l.trigger&&l.valueNode&&d&&p&&j&&C&&_){const R=l.trigger.getBoundingClientRect(),N=p.getBoundingClientRect(),H=l.valueNode.getBoundingClientRect(),Z=_.getBoundingClientRect();if(l.dir!=="rtl"){const Ie=Z.left-N.left,J=H.left-Ie,Pe=R.left-J,oe=R.width+Pe,ot=Math.max(oe,N.width),Ue=window.innerWidth-ir,kt=v0(J,[ir,Math.max(ir,Ue-ot)]);d.style.minWidth=oe+"px",d.style.left=kt+"px"}else{const Ie=N.right-Z.right,J=window.innerWidth-H.right-Ie,Pe=window.innerWidth-R.right-J,oe=R.width+Pe,ot=Math.max(oe,N.width),Ue=window.innerWidth-ir,kt=v0(J,[ir,Math.max(ir,Ue-ot)]);d.style.minWidth=oe+"px",d.style.right=kt+"px"}const ie=x(),ue=window.innerHeight-ir*2,Q=j.scrollHeight,Y=window.getComputedStyle(p),X=parseInt(Y.borderTopWidth,10),M=parseInt(Y.paddingTop,10),F=parseInt(Y.borderBottomWidth,10),O=parseInt(Y.paddingBottom,10),K=X+M+Q+O+F,B=Math.min(C.offsetHeight*5,K),I=window.getComputedStyle(j),G=parseInt(I.paddingTop,10),te=parseInt(I.paddingBottom,10),ae=R.top+R.height/2-ir,fe=ue-ae,ge=C.offsetHeight/2,ee=C.offsetTop+ge,ce=X+M+ee,Ne=K-ce;if(ce<=ae){const Ie=ie.length>0&&C===ie[ie.length-1].ref.current;d.style.bottom="0px";const J=p.clientHeight-j.offsetTop-j.offsetHeight,Pe=Math.max(fe,ge+(Ie?te:0)+J+F),oe=ce+Pe;d.style.height=oe+"px"}else{const Ie=ie.length>0&&C===ie[0].ref.current;d.style.top="0px";const Pe=Math.max(ae,X+j.offsetTop+(Ie?G:0)+ge)+Ne;d.style.height=Pe+"px",j.scrollTop=ce-ae+j.offsetTop}d.style.margin=`${ir}px 0`,d.style.minHeight=B+"px",d.style.maxHeight=ue+"px",s?.(),requestAnimationFrame(()=>w.current=!0)}},[x,l.trigger,l.valueNode,d,p,j,C,_,l.dir,s]);rn(()=>E(),[E]);const[T,D]=b.useState();rn(()=>{p&&D(window.getComputedStyle(p).zIndex)},[p]);const V=b.useCallback(R=>{R&&S.current===!0&&(E(),P?.(),S.current=!1)},[E,P]);return a.jsx(XO,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:w,onScrollButtonChange:V,children:a.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:a.jsx(Ze.div,{...o,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});zj.displayName=GO;var YO="SelectPopperPosition",Af=b.forwardRef((t,e)=>{const{__scopeSelect:n,align:s="start",collisionPadding:o=ir,...l}=t,c=ju(n);return a.jsx(DO,{...c,...l,ref:e,align:s,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Af.displayName=YO;var[XO,Kp]=Eo(vi,{}),Of="SelectViewport",Wj=b.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:s,...o}=t,l=Os(Of,n),c=Kp(Of,n),d=mt(e,l.onViewportChange),f=b.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(wu.Slot,{scope:n,children:a.jsx(Ze.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Xe(o.onScroll,p=>{const m=p.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:x}=c;if(x?.current&&g){const w=Math.abs(f.current-m.scrollTop);if(w>0){const S=window.innerHeight-ir*2,j=parseFloat(g.style.minHeight),C=parseFloat(g.style.height),_=Math.max(j,C);if(_<S){const P=_+w,E=Math.min(S,P),T=P-E;g.style.height=E+"px",g.style.bottom==="0px"&&(m.scrollTop=T>0?T:0,g.style.justifyContent="flex-end")}}}f.current=m.scrollTop})})})]})});Wj.displayName=Of;var Hj="SelectGroup",[JO,QO]=Eo(Hj),ZO=b.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,o=js();return a.jsx(JO,{scope:n,id:o,children:a.jsx(Ze.div,{role:"group","aria-labelledby":o,...s,ref:e})})});ZO.displayName=Hj;var Kj="SelectLabel",eD=b.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,o=QO(Kj,n);return a.jsx(Ze.div,{id:o.id,...s,ref:e})});eD.displayName=Kj;var Qc="SelectItem",[tD,qj]=Eo(Qc),Gj=b.forwardRef((t,e)=>{const{__scopeSelect:n,value:s,disabled:o=!1,textValue:l,...c}=t,d=As(Qc,n),f=Os(Qc,n),p=d.value===s,[m,g]=b.useState(l??""),[x,w]=b.useState(!1),S=mt(e,P=>f.itemRefCallback?.(P,s,o)),j=js(),C=b.useRef("touch"),_=()=>{o||(d.onValueChange(s),d.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(tD,{scope:n,value:s,disabled:o,textId:j,isSelected:p,onItemTextChange:b.useCallback(P=>{g(E=>E||(P?.textContent??"").trim())},[]),children:a.jsx(wu.ItemSlot,{scope:n,value:s,disabled:o,textValue:m,children:a.jsx(Ze.div,{role:"option","aria-labelledby":j,"data-highlighted":x?"":void 0,"aria-selected":p&&x,"data-state":p?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:S,onFocus:Xe(c.onFocus,()=>w(!0)),onBlur:Xe(c.onBlur,()=>w(!1)),onClick:Xe(c.onClick,()=>{C.current!=="mouse"&&_()}),onPointerUp:Xe(c.onPointerUp,()=>{C.current==="mouse"&&_()}),onPointerDown:Xe(c.onPointerDown,P=>{C.current=P.pointerType}),onPointerMove:Xe(c.onPointerMove,P=>{C.current=P.pointerType,o?f.onItemLeave?.():C.current==="mouse"&&P.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Xe(c.onPointerLeave,P=>{P.currentTarget===document.activeElement&&f.onItemLeave?.()}),onKeyDown:Xe(c.onKeyDown,P=>{f.searchRef?.current!==""&&P.key===" "||(VO.includes(P.key)&&_(),P.key===" "&&P.preventDefault())})})})})});Gj.displayName=Qc;var wa="SelectItemText",Yj=b.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:o,...l}=t,c=As(wa,n),d=Os(wa,n),f=qj(wa,n),p=zO(wa,n),[m,g]=b.useState(null),x=mt(e,_=>g(_),f.onItemTextChange,_=>d.itemTextRefCallback?.(_,f.value,f.disabled)),w=m?.textContent,S=b.useMemo(()=>a.jsx("option",{value:f.value,disabled:f.disabled,children:w},f.value),[f.disabled,f.value,w]),{onNativeOptionAdd:j,onNativeOptionRemove:C}=p;return rn(()=>(j(S),()=>C(S)),[j,C,S]),a.jsxs(a.Fragment,{children:[a.jsx(Ze.span,{id:f.textId,...l,ref:x}),f.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Wa.createPortal(l.children,c.valueNode):null]})});Yj.displayName=wa;var Xj="SelectItemIndicator",Jj=b.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return qj(Xj,n).isSelected?a.jsx(Ze.span,{"aria-hidden":!0,...s,ref:e}):null});Jj.displayName=Xj;var Df="SelectScrollUpButton",Qj=b.forwardRef((t,e)=>{const n=Os(Df,t.__scopeSelect),s=Kp(Df,t.__scopeSelect),[o,l]=b.useState(!1),c=mt(e,s.onScrollButtonChange);return rn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=f.scrollTop>0;l(p)};const f=n.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),o?a.jsx(eS,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=n;d&&f&&(d.scrollTop=d.scrollTop-f.offsetHeight)}}):null});Qj.displayName=Df;var If="SelectScrollDownButton",Zj=b.forwardRef((t,e)=>{const n=Os(If,t.__scopeSelect),s=Kp(If,t.__scopeSelect),[o,l]=b.useState(!1),c=mt(e,s.onScrollButtonChange);return rn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const p=f.scrollHeight-f.clientHeight,m=Math.ceil(f.scrollTop)<p;l(m)};const f=n.viewport;return d(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),o?a.jsx(eS,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:f}=n;d&&f&&(d.scrollTop=d.scrollTop+f.offsetHeight)}}):null});Zj.displayName=If;var eS=b.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:s,...o}=t,l=Os("SelectScrollButton",n),c=b.useRef(null),d=bu(n),f=b.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return b.useEffect(()=>()=>f(),[f]),rn(()=>{d().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),a.jsx(Ze.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:Xe(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(s,50))}),onPointerMove:Xe(o.onPointerMove,()=>{l.onItemLeave?.(),c.current===null&&(c.current=window.setInterval(s,50))}),onPointerLeave:Xe(o.onPointerLeave,()=>{f()})})}),nD="SelectSeparator",rD=b.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return a.jsx(Ze.div,{"aria-hidden":!0,...s,ref:e})});rD.displayName=nD;var Mf="SelectArrow",sD=b.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,o=ju(n),l=As(Mf,n),c=Os(Mf,n);return l.open&&c.position==="popper"?a.jsx(IO,{...o,...s,ref:e}):null});sD.displayName=Mf;var iD="SelectBubbleInput",tS=b.forwardRef(({__scopeSelect:t,value:e,...n},s)=>{const o=b.useRef(null),l=mt(s,o),c=Rj(e);return b.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(f,"value").set;if(c!==e&&m){const g=new Event("change",{bubbles:!0});m.call(d,e),d.dispatchEvent(g)}},[c,e]),a.jsx(Ze.select,{...n,style:{...Aj,...n.style},ref:l,defaultValue:e})});tS.displayName=iD;function nS(t){return t===""||t===void 0}function rS(t){const e=Ss(t),n=b.useRef(""),s=b.useRef(0),o=b.useCallback(c=>{const d=n.current+c;e(d),(function f(p){n.current=p,window.clearTimeout(s.current),p!==""&&(s.current=window.setTimeout(()=>f(""),1e3))})(d)},[e]),l=b.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,o,l]}function sS(t,e,n){const o=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,l=n?t.indexOf(n):-1;let c=oD(t,Math.max(l,0));o.length===1&&(c=c.filter(p=>p!==n));const f=c.find(p=>p.textValue.toLowerCase().startsWith(o.toLowerCase()));return f!==n?f:void 0}function oD(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var aD=Oj,lD=Ij,cD=Lj,uD=$j,dD=Vj,hD=Fj,fD=Wj,pD=Gj,mD=Yj,gD=Jj,vD=Qj,yD=Zj;function yn({...t}){return a.jsx(aD,{"data-slot":"select",...t})}function xn({...t}){return a.jsx(cD,{"data-slot":"select-value",...t})}function wn({className:t,size:e="default",children:n,...s}){return a.jsxs(lD,{"data-slot":"select-trigger","data-size":e,className:Ve("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s,children:[n,a.jsx(uD,{asChild:!0,children:a.jsx(Tb,{className:"size-4 opacity-50"})})]})}function bn({className:t,children:e,position:n="popper",...s}){return a.jsx(dD,{children:a.jsxs(hD,{"data-slot":"select-content",className:Ve("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...s,children:[a.jsx(xD,{}),a.jsx(fD,{className:Ve("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),a.jsx(wD,{})]})})}function Le({className:t,children:e,...n}){return a.jsxs(pD,{"data-slot":"select-item",className:Ve("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[a.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:a.jsx(gD,{children:a.jsx(gP,{className:"size-4"})})}),a.jsx(mD,{children:e})]})}function xD({className:t,...e}){return a.jsx(vD,{"data-slot":"select-scroll-up-button",className:Ve("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(xP,{className:"size-4"})})}function wD({className:t,...e}){return a.jsx(yD,{"data-slot":"select-scroll-down-button",className:Ve("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(Tb,{className:"size-4"})})}function bD({onViewProduct:t}){const{user:e}=Nr(),n=Rs(e),[s,o]=b.useState([]),[l,c]=b.useState([]),[d,f]=b.useState(!0),[p,m]=b.useState(!1),[g,x]=b.useState(null),[w,S]=b.useState(""),[j,C]=b.useState("all"),[_,P]=b.useState({sku:"",groupId:0,brand:"",model:"",description:"",priceBuy:0,priceSell:0,currency:"BYN",unit:"шт",minStock:0,location:"",hasSerial:!1});b.useEffect(()=>{E()},[]);const E=async()=>{try{const[N,H]=await Promise.all([We("/products"),We("/groups")]);o(N.products),c(H.groups.filter(Z=>Z.active))}catch(N){Ce.error("Ошибка загрузки: "+N.message)}finally{f(!1)}},T=N=>{N?(x(N),P({sku:N.sku,groupId:N.groupId,brand:N.brand,model:N.model,description:N.description||"",priceBuy:N.priceBuy,priceSell:N.priceSell,currency:N.currency||"BYN",unit:N.unit||"шт",minStock:N.minStock||0,location:N.location||"",hasSerial:N.hasSerial||!1})):(x(null),P({sku:"",groupId:l[0]?.id||0,brand:"",model:"",description:"",priceBuy:0,priceSell:0,currency:"BYN",unit:"шт",minStock:0,location:"",hasSerial:!1})),m(!0)},D=async()=>{try{if(!_.sku||!_.brand||!_.model){Ce.error("Заполните обязательные поля");return}g?(await We(`/products/${g.id}`,{method:"PUT",body:JSON.stringify(_)}),Ce.success("Товар обновлён")):(await We("/products",{method:"POST",body:JSON.stringify(_)}),Ce.success("Товар создан")),m(!1),E()}catch(N){Ce.error("Ошибка сохранения: "+N.message)}},V=async N=>{if(confirm("Удалить этот товар? Это действие необратимо."))try{await We(`/products/${N}`,{method:"DELETE"}),Ce.success("Товар удалён"),E()}catch(H){Ce.error("Ошибка удаления: "+H.message)}},R=s.filter(N=>{const H=N.sku.toLowerCase().includes(w.toLowerCase())||N.brand.toLowerCase().includes(w.toLowerCase())||N.model.toLowerCase().includes(w.toLowerCase()),Z=j==="all"||N.groupId===parseInt(j);return H&&Z});return d?a.jsx("div",{className:"p-8 flex items-center justify-center",children:a.jsx(kn,{className:"h-8 w-8 animate-spin text-gray-400"})}):a.jsxs("div",{className:"p-4 md:p-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start mb-4 md:mb-8 gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl mb-2",children:"Склад"}),a.jsx("p",{className:"text-gray-600",children:"Управление товарами и остатками"})]}),n.canCreateProduct&&a.jsxs(Se,{onClick:()=>T(),className:"w-full md:w-auto",children:[a.jsx(_o,{className:"h-4 w-4 mr-2"}),"Добавить товар"]})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-4 md:mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(he,{children:"Поиск"}),a.jsx(Fe,{placeholder:"SKU, бренд, модель...",value:w,onChange:N=>S(N.target.value)})]}),a.jsxs("div",{children:[a.jsx(he,{children:"Группа"}),a.jsxs(yn,{value:j,onValueChange:C,children:[a.jsx(wn,{children:a.jsx(xn,{})}),a.jsxs(bn,{children:[a.jsx(Le,{value:"all",children:"Все группы"}),l.map(N=>a.jsx(Le,{value:N.id.toString(),children:N.name},N.id))]})]})]})]})}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-x-auto",children:a.jsxs(cr,{children:[a.jsx(ur,{children:a.jsxs(it,{children:[a.jsx(pe,{children:"SKU"}),a.jsx(pe,{children:"Группа"}),a.jsx(pe,{children:"Бренд / Модель"}),a.jsx(pe,{children:"Цена продажи"}),a.jsx(pe,{children:"Остаток"}),a.jsx(pe,{children:"Зарезервировано"}),a.jsx(pe,{children:"Мин. остаток"}),a.jsx(pe,{className:"text-right",children:"Действия"})]})}),a.jsx(dr,{children:R.length===0?a.jsx(it,{children:a.jsx(de,{colSpan:8,className:"text-center text-gray-500 py-8",children:"Нет товаров"})}):R.map(N=>{const H=l.find(ie=>ie.id===N.groupId),Z=(N.stockCount||0)<N.minStock;return a.jsxs(it,{className:"cursor-pointer hover:bg-gray-50",children:[a.jsx(de,{onClick:()=>t?.(N.id),children:a.jsxs("div",{className:"flex items-center gap-2",children:[N.hasSerial&&a.jsx(Ur,{className:"h-4 w-4 text-blue-600"}),N.sku]})}),a.jsx(de,{onClick:()=>t?.(N.id),children:H?.name||"—"}),a.jsx(de,{onClick:()=>t?.(N.id),children:a.jsxs("div",{children:[a.jsx("div",{children:N.brand}),a.jsx("div",{className:"text-sm text-gray-600",children:N.model})]})}),a.jsxs(de,{onClick:()=>t?.(N.id),children:[N.priceSell," ",N.currency]}),a.jsx(de,{onClick:()=>t?.(N.id),children:a.jsxs("div",{className:"flex items-center gap-2",children:[N.stockCount||0,Z&&a.jsx(bf,{className:"h-4 w-4 text-red-600"})]})}),a.jsx(de,{onClick:()=>t?.(N.id),children:N.reservedCount||0}),a.jsx(de,{onClick:()=>t?.(N.id),children:N.minStock}),a.jsxs(de,{className:"text-right",children:[n.canEditProduct&&a.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>T(N),children:a.jsx(_p,{className:"h-4 w-4"})}),n.canDeleteProduct&&a.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>V(N.id),children:a.jsx(fi,{className:"h-4 w-4 text-red-600"})})]})]},N.id)})})]})}),a.jsx(qa,{open:p,onOpenChange:m,children:a.jsxs(Ga,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsxs(Ya,{children:[a.jsx(Xa,{children:g?"Редактировать товар":"Создать товар"}),a.jsx(mu,{children:"Заполните информацию о товаре"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"sku",children:"SKU / Артикул *"}),a.jsx(Fe,{id:"sku",value:_.sku,onChange:N=>P({..._,sku:N.target.value}),placeholder:"Например: SMT-001"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"groupId",children:"Группа *"}),a.jsxs(yn,{value:_.groupId.toString(),onValueChange:N=>P({..._,groupId:parseInt(N)}),children:[a.jsx(wn,{children:a.jsx(xn,{})}),a.jsx(bn,{children:l.map(N=>a.jsx(Le,{value:N.id.toString(),children:N.name},N.id))})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"brand",children:"Бренд *"}),a.jsx(Fe,{id:"brand",value:_.brand,onChange:N=>P({..._,brand:N.target.value}),placeholder:"Например: Apple"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"model",children:"Модель *"}),a.jsx(Fe,{id:"model",value:_.model,onChange:N=>P({..._,model:N.target.value}),placeholder:"Например: iPhone 15 Pro"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"description",children:"Описание"}),a.jsx(Da,{id:"description",value:_.description,onChange:N=>P({..._,description:N.target.value}),placeholder:"Краткое описание товара"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"priceBuy",children:"Цена закупки"}),a.jsx(Fe,{id:"priceBuy",type:"number",value:_.priceBuy,onChange:N=>P({..._,priceBuy:parseFloat(N.target.value)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"priceSell",children:"Цена продажи *"}),a.jsx(Fe,{id:"priceSell",type:"number",value:_.priceSell,onChange:N=>P({..._,priceSell:parseFloat(N.target.value)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"currency",children:"Валюта"}),a.jsxs(yn,{value:_.currency,onValueChange:N=>P({..._,currency:N}),children:[a.jsx(wn,{children:a.jsx(xn,{})}),a.jsxs(bn,{children:[a.jsx(Le,{value:"BYN",children:"BYN"}),a.jsx(Le,{value:"USD",children:"USD"}),a.jsx(Le,{value:"EUR",children:"EUR"}),a.jsx(Le,{value:"RUB",children:"RUB"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"minStock",children:"Мин. остаток"}),a.jsx(Fe,{id:"minStock",type:"number",value:_.minStock,onChange:N=>P({..._,minStock:parseInt(N.target.value)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"unit",children:"Единица"}),a.jsx(Fe,{id:"unit",value:_.unit,onChange:N=>P({..._,unit:N.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"location",children:"Местоположение"}),a.jsx(Fe,{id:"location",value:_.location,onChange:N=>P({..._,location:N.target.value}),placeholder:"Склад/полка"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"hasSerial",checked:_.hasSerial,onChange:N=>P({..._,hasSerial:N.target.checked}),className:"h-4 w-4 rounded border-gray-300"}),a.jsx(he,{htmlFor:"hasSerial",children:"Серийный учёт"})]})]}),a.jsxs(pu,{children:[a.jsx(Se,{variant:"outline",onClick:()=>m(!1),children:"Отмена"}),a.jsx(Se,{onClick:D,children:"Сохранить"})]})]})})]})}function jD({productId:t,onBack:e}){const[n,s]=b.useState(null),[o,l]=b.useState([]),[c,d]=b.useState(!0),[f,p]=b.useState(!1),[m,g]=b.useState({serial:"",condition:"new",supplier:"",buyPrice:0,warrantyMonths:12});b.useEffect(()=>{x()},[t]);const x=async()=>{try{const E=await We(`/products/${t}`);s(E.product),l(E.stockUnits||[])}catch(E){Ce.error("Ошибка загрузки: "+E.message)}finally{d(!1)}},w=async()=>{try{if(!m.serial){Ce.error("Укажите серийный номер");return}await We("/stock-units",{method:"POST",body:JSON.stringify({productId:n.id,...m})}),Ce.success("Товар добавлен на склад"),p(!1),g({serial:"",condition:"new",supplier:"",buyPrice:n.priceBuy||0,warrantyMonths:12}),x()}catch(E){Ce.error("Ошибка: "+E.message)}},S=async E=>{if(confirm("Удалить эту позицию?"))try{await We(`/stock-units/${E}`,{method:"DELETE"}),Ce.success("Позиция удалена"),x()}catch(T){Ce.error("Ошибка удаления: "+T.message)}},j=E=>{const D={available:{variant:"default",label:"В наличии"},reserved:{variant:"secondary",label:"Зарезервирован"},sold:{variant:"outline",label:"Продан"},return:{variant:"destructive",label:"Возврат"}}[E]||{variant:"outline",label:E};return a.jsx(jr,{variant:D.variant,children:D.label})},C=E=>({new:"Новый",refurb:"Восстановленный",used:"Б/У"})[E]||E;if(c)return a.jsx("div",{className:"p-8 flex items-center justify-center",children:a.jsx(kn,{className:"h-8 w-8 animate-spin text-gray-400"})});if(!n)return a.jsxs("div",{className:"p-4 md:p-8",children:[a.jsx("p",{className:"text-gray-600",children:"Товар не найден"}),a.jsxs(Se,{onClick:e,className:"mt-4",children:[a.jsx(wf,{className:"h-4 w-4 mr-2"}),"Назад"]})]});const _=o.filter(E=>E.status==="available").length,P=o.filter(E=>E.status==="reserved").length;return a.jsxs("div",{className:"p-4 md:p-8",children:[a.jsxs(Se,{onClick:e,variant:"outline",className:"mb-4 md:mb-6",children:[a.jsx(wf,{className:"h-4 w-4 mr-2"}),"Назад к списку"]}),a.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start mb-4 md:mb-6 gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl mb-2",children:[n.brand," ",n.model]}),a.jsxs("p",{className:"text-gray-600",children:["SKU: ",n.sku]})]}),n.hasSerial&&a.jsxs(Se,{onClick:()=>{g({...m,buyPrice:n.priceBuy||0}),p(!0)},className:"w-full md:w-auto",children:[a.jsx(_o,{className:"h-4 w-4 mr-2"}),"Добавить на склад"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6 mb-4 md:mb-6",children:[a.jsxs(Ge,{children:[a.jsx(tt,{children:a.jsx(nt,{children:"В наличии"})}),a.jsx(Ye,{children:a.jsx("div",{className:"text-3xl",children:_})})]}),a.jsxs(Ge,{children:[a.jsx(tt,{children:a.jsx(nt,{children:"Зарезервировано"})}),a.jsx(Ye,{children:a.jsx("div",{className:"text-3xl",children:P})})]}),a.jsxs(Ge,{children:[a.jsx(tt,{children:a.jsx(nt,{children:"Цена продажи"})}),a.jsx(Ye,{children:a.jsxs("div",{className:"text-3xl",children:[n.priceSell," ",n.currency]})})]})]}),a.jsxs(au,{defaultValue:"info",className:"w-full",children:[a.jsxs(lu,{children:[a.jsx(jn,{value:"info",children:"Общая информация"}),n.hasSerial&&a.jsxs(jn,{value:"stock",children:["Серийные номера (",o.length,")"]})]}),a.jsx(Sn,{value:"info",className:"mt-4 md:mt-6",children:a.jsx(Ge,{children:a.jsx(Ye,{className:"pt-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[a.jsxs("div",{children:[a.jsx(he,{children:"Группа"}),a.jsx("p",{className:"mt-1",children:n.groupId})]}),a.jsxs("div",{children:[a.jsx(he,{children:"Бренд"}),a.jsx("p",{className:"mt-1",children:n.brand})]}),a.jsxs("div",{children:[a.jsx(he,{children:"Модель"}),a.jsx("p",{className:"mt-1",children:n.model})]}),a.jsxs("div",{children:[a.jsx(he,{children:"Местоположение"}),a.jsx("p",{className:"mt-1",children:n.location||"—"})]}),a.jsxs("div",{children:[a.jsx(he,{children:"Цена закупки"}),a.jsxs("p",{className:"mt-1",children:[n.priceBuy," ",n.currency]})]}),a.jsxs("div",{children:[a.jsx(he,{children:"Цена продажи"}),a.jsxs("p",{className:"mt-1",children:[n.priceSell," ",n.currency]})]}),a.jsxs("div",{children:[a.jsx(he,{children:"Минимальный остаток"}),a.jsx("p",{className:"mt-1",children:n.minStock})]}),a.jsxs("div",{children:[a.jsx(he,{children:"Серийный учёт"}),a.jsx("p",{className:"mt-1",children:n.hasSerial?"Да":"Нет"})]}),n.description&&a.jsxs("div",{className:"col-span-2",children:[a.jsx(he,{children:"Описание"}),a.jsx("p",{className:"mt-1 text-gray-700",children:n.description})]})]})})})}),n.hasSerial&&a.jsx(Sn,{value:"stock",className:"mt-4 md:mt-6",children:a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-x-auto",children:a.jsxs(cr,{children:[a.jsx(ur,{children:a.jsxs(it,{children:[a.jsx(pe,{children:"Серийный номер"}),a.jsx(pe,{children:"Состояние"}),a.jsx(pe,{children:"Дата прихода"}),a.jsx(pe,{children:"Поставщик"}),a.jsx(pe,{children:"Цена закупки"}),a.jsx(pe,{children:"Гарантия"}),a.jsx(pe,{children:"Статус"}),a.jsx(pe,{className:"text-right",children:"Действия"})]})}),a.jsx(dr,{children:o.length===0?a.jsx(it,{children:a.jsx(de,{colSpan:8,className:"text-center text-gray-500 py-8",children:"Нет серийных номеров"})}):o.map(E=>a.jsxs(it,{children:[a.jsx(de,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ur,{className:"h-4 w-4 text-blue-600"}),E.serial]})}),a.jsx(de,{children:C(E.condition)}),a.jsx(de,{children:new Date(E.arrivedAt).toLocaleDateString("ru-RU")}),a.jsx(de,{children:E.supplier||"—"}),a.jsxs(de,{children:[E.buyPrice," ",n.currency]}),a.jsxs(de,{children:[E.warrantyMonths," мес."]}),a.jsx(de,{children:j(E.status)}),a.jsx(de,{className:"text-right",children:E.status!=="sold"&&a.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>S(E.id),children:a.jsx(fi,{className:"h-4 w-4 text-red-600"})})})]},E.id))})]})})})]}),a.jsx(qa,{open:f,onOpenChange:p,children:a.jsxs(Ga,{children:[a.jsxs(Ya,{children:[a.jsx(Xa,{children:"Добавить товар на склад"}),a.jsx(mu,{children:"Укажите серийный номер и параметры прихода"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"serial",children:"Серийный номер *"}),a.jsx(Fe,{id:"serial",value:m.serial,onChange:E=>g({...m,serial:E.target.value}),placeholder:"Например: IMEI или S/N"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"condition",children:"Состояние"}),a.jsxs(yn,{value:m.condition,onValueChange:E=>g({...m,condition:E}),children:[a.jsx(wn,{children:a.jsx(xn,{})}),a.jsxs(bn,{children:[a.jsx(Le,{value:"new",children:"Новый"}),a.jsx(Le,{value:"refurb",children:"Восстановленный"}),a.jsx(Le,{value:"used",children:"Б/У"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"supplier",children:"Поставщик"}),a.jsx(Fe,{id:"supplier",value:m.supplier,onChange:E=>g({...m,supplier:E.target.value}),placeholder:"Название поставщика"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"buyPrice",children:"Цена закупки"}),a.jsx(Fe,{id:"buyPrice",type:"number",value:m.buyPrice,onChange:E=>g({...m,buyPrice:parseFloat(E.target.value)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"warrantyMonths",children:"Гарантия (мес.)"}),a.jsx(Fe,{id:"warrantyMonths",type:"number",value:m.warrantyMonths,onChange:E=>g({...m,warrantyMonths:parseInt(E.target.value)})})]})]})]}),a.jsxs(pu,{children:[a.jsx(Se,{variant:"outline",onClick:()=>p(!1),children:"Отмена"}),a.jsx(Se,{onClick:w,children:"Добавить"})]})]})})]})}const qp=b.createContext({});function Gp(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const Yp=typeof window<"u",iS=Yp?b.useLayoutEffect:b.useEffect,Su=b.createContext(null);function Xp(t,e){t.indexOf(e)===-1&&t.push(e)}function Jp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Hr=(t,e,n)=>n>e?e:n<t?t:n;let Qp=()=>{};const Kr={},oS=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function aS(t){return typeof t=="object"&&t!==null}const lS=t=>/^0[^.\s]+$/u.test(t);function Zp(t){let e;return()=>(e===void 0&&(e=t()),e)}const Yn=t=>t,SD=(t,e)=>n=>e(t(n)),Qa=(...t)=>t.reduce(SD),La=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class em{constructor(){this.subscriptions=[]}add(e){return Xp(this.subscriptions,e),()=>Jp(this.subscriptions,e)}notify(e,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,s);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const kr=t=>t*1e3,Gn=t=>t/1e3;function cS(t,e){return e?t*(1e3/e):0}const uS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,_D=1e-7,kD=12;function CD(t,e,n,s,o){let l,c,d=0;do c=e+(n-e)/2,l=uS(c,s,o)-t,l>0?n=c:e=c;while(Math.abs(l)>_D&&++d<kD);return c}function Za(t,e,n,s){if(t===e&&n===s)return Yn;const o=l=>CD(l,0,1,t,n);return l=>l===0||l===1?l:uS(o(l),e,s)}const dS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,hS=t=>e=>1-t(1-e),fS=Za(.33,1.53,.69,.99),tm=hS(fS),pS=dS(tm),mS=t=>(t*=2)<1?.5*tm(t):.5*(2-Math.pow(2,-10*(t-1))),nm=t=>1-Math.sin(Math.acos(t)),gS=hS(nm),vS=dS(nm),ED=Za(.42,0,1,1),ND=Za(0,0,.58,1),yS=Za(.42,0,.58,1),TD=t=>Array.isArray(t)&&typeof t[0]!="number",xS=t=>Array.isArray(t)&&typeof t[0]=="number",PD={linear:Yn,easeIn:ED,easeInOut:yS,easeOut:ND,circIn:nm,circInOut:vS,circOut:gS,backIn:tm,backInOut:pS,backOut:fS,anticipate:mS},RD=t=>typeof t=="string",T0=t=>{if(xS(t)){Qp(t.length===4);const[e,n,s,o]=t;return Za(e,n,s,o)}else if(RD(t))return PD[t];return t},Nc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function AD(t,e){let n=new Set,s=new Set,o=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(m){c.has(m)&&(p.schedule(m),t()),m(d)}const p={schedule:(m,g=!1,x=!1)=>{const S=x&&o?n:s;return g&&c.add(m),S.has(m)||S.add(m),m},cancel:m=>{s.delete(m),c.delete(m)},process:m=>{if(d=m,o){l=!0;return}o=!0,[n,s]=[s,n],n.forEach(f),n.clear(),o=!1,l&&(l=!1,p.process(m))}};return p}const OD=40;function wS(t,e){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Nc.reduce((E,T)=>(E[T]=AD(l),E),{}),{setup:d,read:f,resolveKeyframes:p,preUpdate:m,update:g,preRender:x,render:w,postRender:S}=c,j=()=>{const E=Kr.useManualTiming?o.timestamp:performance.now();n=!1,Kr.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(E-o.timestamp,OD),1)),o.timestamp=E,o.isProcessing=!0,d.process(o),f.process(o),p.process(o),m.process(o),g.process(o),x.process(o),w.process(o),S.process(o),o.isProcessing=!1,n&&e&&(s=!1,t(j))},C=()=>{n=!0,s=!0,o.isProcessing||t(j)};return{schedule:Nc.reduce((E,T)=>{const D=c[T];return E[T]=(V,R=!1,N=!1)=>(n||C(),D.schedule(V,R,N)),E},{}),cancel:E=>{for(let T=0;T<Nc.length;T++)c[Nc[T]].cancel(E)},state:o,steps:c}}const{schedule:xt,cancel:Cs,state:Yt,steps:Mh}=wS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yn,!0);let $c;function DD(){$c=void 0}const _n={now:()=>($c===void 0&&_n.set(Yt.isProcessing||Kr.useManualTiming?Yt.timestamp:performance.now()),$c),set:t=>{$c=t,queueMicrotask(DD)}},bS=t=>e=>typeof e=="string"&&e.startsWith(t),rm=bS("--"),ID=bS("var(--"),sm=t=>ID(t)?MD.test(t.split("/*")[0].trim()):!1,MD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,No={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},$a={...No,transform:t=>Hr(0,1,t)},Tc={...No,default:1},ka=t=>Math.round(t*1e5)/1e5,im=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function LD(t){return t==null}const $D=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,om=(t,e)=>n=>!!(typeof n=="string"&&$D.test(n)&&n.startsWith(t)||e&&!LD(n)&&Object.prototype.hasOwnProperty.call(n,e)),jS=(t,e,n)=>s=>{if(typeof s!="string")return s;const[o,l,c,d]=s.match(im);return{[t]:parseFloat(o),[e]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},VD=t=>Hr(0,255,t),Lh={...No,transform:t=>Math.round(VD(t))},li={test:om("rgb","red"),parse:jS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Lh.transform(t)+", "+Lh.transform(e)+", "+Lh.transform(n)+", "+ka($a.transform(s))+")"};function FD(t){let e="",n="",s="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const Lf={test:om("#"),parse:FD,transform:li.transform},el=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ws=el("deg"),Cr=el("%"),De=el("px"),BD=el("vh"),UD=el("vw"),P0={...Cr,parse:t=>Cr.parse(t)/100,transform:t=>Cr.transform(t*100)},no={test:om("hsl","hue"),parse:jS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Cr.transform(ka(e))+", "+Cr.transform(ka(n))+", "+ka($a.transform(s))+")"},It={test:t=>li.test(t)||Lf.test(t)||no.test(t),parse:t=>li.test(t)?li.parse(t):no.test(t)?no.parse(t):Lf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?li.transform(t):no.transform(t),getAnimatableNone:t=>{const e=It.parse(t);return e.alpha=0,It.transform(e)}},zD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function WD(t){return isNaN(t)&&typeof t=="string"&&(t.match(im)?.length||0)+(t.match(zD)?.length||0)>0}const SS="number",_S="color",HD="var",KD="var(",R0="${}",qD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Va(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},o=[];let l=0;const d=e.replace(qD,f=>(It.test(f)?(s.color.push(l),o.push(_S),n.push(It.parse(f))):f.startsWith(KD)?(s.var.push(l),o.push(HD),n.push(f)):(s.number.push(l),o.push(SS),n.push(parseFloat(f))),++l,R0)).split(R0);return{values:n,split:d,indexes:s,types:o}}function kS(t){return Va(t).values}function CS(t){const{split:e,types:n}=Va(t),s=e.length;return o=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],o[c]!==void 0){const d=n[c];d===SS?l+=ka(o[c]):d===_S?l+=It.transform(o[c]):l+=o[c]}return l}}const GD=t=>typeof t=="number"?0:It.test(t)?It.getAnimatableNone(t):t;function YD(t){const e=kS(t);return CS(t)(e.map(GD))}const Es={test:WD,parse:kS,createTransformer:CS,getAnimatableNone:YD};function $h(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function XD({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let o=0,l=0,c=0;if(!e)o=l=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;o=$h(f,d,t+1/3),l=$h(f,d,t),c=$h(f,d,t-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function Zc(t,e){return n=>n>0?e:t}const _t=(t,e,n)=>t+(e-t)*n,Vh=(t,e,n)=>{const s=t*t,o=n*(e*e-s)+s;return o<0?0:Math.sqrt(o)},JD=[Lf,li,no],QD=t=>JD.find(e=>e.test(t));function A0(t){const e=QD(t);if(!e)return!1;let n=e.parse(t);return e===no&&(n=XD(n)),n}const O0=(t,e)=>{const n=A0(t),s=A0(e);if(!n||!s)return Zc(t,e);const o={...n};return l=>(o.red=Vh(n.red,s.red,l),o.green=Vh(n.green,s.green,l),o.blue=Vh(n.blue,s.blue,l),o.alpha=_t(n.alpha,s.alpha,l),li.transform(o))},$f=new Set(["none","hidden"]);function ZD(t,e){return $f.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function eI(t,e){return n=>_t(t,e,n)}function am(t){return typeof t=="number"?eI:typeof t=="string"?sm(t)?Zc:It.test(t)?O0:rI:Array.isArray(t)?ES:typeof t=="object"?It.test(t)?O0:tI:Zc}function ES(t,e){const n=[...t],s=n.length,o=t.map((l,c)=>am(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)n[c]=o[c](l);return n}}function tI(t,e){const n={...t,...e},s={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(s[o]=am(t[o])(t[o],e[o]));return o=>{for(const l in s)n[l]=s[l](o);return n}}function nI(t,e){const n=[],s={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const l=e.types[o],c=t.indexes[l][s[l]],d=t.values[c]??0;n[o]=d,s[l]++}return n}const rI=(t,e)=>{const n=Es.createTransformer(e),s=Va(t),o=Va(e);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?$f.has(t)&&!o.values.length||$f.has(e)&&!s.values.length?ZD(t,e):Qa(ES(nI(s,o),o.values),n):Zc(t,e)};function NS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?_t(t,e,n):am(t)(t,e)}const sI=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>xt.update(e,n),stop:()=>Cs(e),now:()=>Yt.isProcessing?Yt.timestamp:_n.now()}},TS=(t,e,n=10)=>{let s="";const o=Math.max(Math.round(e/n),2);for(let l=0;l<o;l++)s+=Math.round(t(l/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},eu=2e4;function lm(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<eu;)e+=n,s=t.next(e);return e>=eu?1/0:e}function iI(t,e=100,n){const s=n({...t,keyframes:[0,e]}),o=Math.min(lm(s),eu);return{type:"keyframes",ease:l=>s.next(o*l).value/e,duration:Gn(o)}}const oI=5;function PS(t,e,n){const s=Math.max(e-oI,0);return cS(n-t(s),e-s)}const Et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Fh=.001;function aI({duration:t=Et.duration,bounce:e=Et.bounce,velocity:n=Et.velocity,mass:s=Et.mass}){let o,l,c=1-e;c=Hr(Et.minDamping,Et.maxDamping,c),t=Hr(Et.minDuration,Et.maxDuration,Gn(t)),c<1?(o=p=>{const m=p*c,g=m*t,x=m-n,w=Vf(p,c),S=Math.exp(-g);return Fh-x/w*S},l=p=>{const g=p*c*t,x=g*n+n,w=Math.pow(c,2)*Math.pow(p,2)*t,S=Math.exp(-g),j=Vf(Math.pow(p,2),c);return(-o(p)+Fh>0?-1:1)*((x-w)*S)/j}):(o=p=>{const m=Math.exp(-p*t),g=(p-n)*t+1;return-Fh+m*g},l=p=>{const m=Math.exp(-p*t),g=(n-p)*(t*t);return m*g});const d=5/t,f=cI(o,l,d);if(t=kr(t),isNaN(f))return{stiffness:Et.stiffness,damping:Et.damping,duration:t};{const p=Math.pow(f,2)*s;return{stiffness:p,damping:c*2*Math.sqrt(s*p),duration:t}}}const lI=12;function cI(t,e,n){let s=n;for(let o=1;o<lI;o++)s=s-t(s)/e(s);return s}function Vf(t,e){return t*Math.sqrt(1-e*e)}const uI=["duration","bounce"],dI=["stiffness","damping","mass"];function D0(t,e){return e.some(n=>t[n]!==void 0)}function hI(t){let e={velocity:Et.velocity,stiffness:Et.stiffness,damping:Et.damping,mass:Et.mass,isResolvedFromDuration:!1,...t};if(!D0(t,dI)&&D0(t,uI))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,l=2*Hr(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:Et.mass,stiffness:o,damping:l}}else{const n=aI(t);e={...e,...n,mass:Et.mass},e.isResolvedFromDuration=!0}return e}function tu(t=Et.visualDuration,e=Et.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:o}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:p,mass:m,duration:g,velocity:x,isResolvedFromDuration:w}=hI({...n,velocity:-Gn(n.velocity||0)}),S=x||0,j=p/(2*Math.sqrt(f*m)),C=c-l,_=Gn(Math.sqrt(f/m)),P=Math.abs(C)<5;s||(s=P?Et.restSpeed.granular:Et.restSpeed.default),o||(o=P?Et.restDelta.granular:Et.restDelta.default);let E;if(j<1){const D=Vf(_,j);E=V=>{const R=Math.exp(-j*_*V);return c-R*((S+j*_*C)/D*Math.sin(D*V)+C*Math.cos(D*V))}}else if(j===1)E=D=>c-Math.exp(-_*D)*(C+(S+_*C)*D);else{const D=_*Math.sqrt(j*j-1);E=V=>{const R=Math.exp(-j*_*V),N=Math.min(D*V,300);return c-R*((S+j*_*C)*Math.sinh(N)+D*C*Math.cosh(N))/D}}const T={calculatedDuration:w&&g||null,next:D=>{const V=E(D);if(w)d.done=D>=g;else{let R=D===0?S:0;j<1&&(R=D===0?kr(S):PS(E,D,V));const N=Math.abs(R)<=s,H=Math.abs(c-V)<=o;d.done=N&&H}return d.value=d.done?c:V,d},toString:()=>{const D=Math.min(lm(T),eu),V=TS(R=>T.next(D*R).value,D,30);return D+"ms "+V},toTransition:()=>{}};return T}tu.applyToOptions=t=>{const e=iI(t,100,tu);return t.ease=e.ease,t.duration=kr(e.duration),t.type="keyframes",t};function Ff({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:f,restDelta:p=.5,restSpeed:m}){const g=t[0],x={done:!1,value:g},w=N=>d!==void 0&&N<d||f!==void 0&&N>f,S=N=>d===void 0?f:f===void 0||Math.abs(d-N)<Math.abs(f-N)?d:f;let j=n*e;const C=g+j,_=c===void 0?C:c(C);_!==C&&(j=_-g);const P=N=>-j*Math.exp(-N/s),E=N=>_+P(N),T=N=>{const H=P(N),Z=E(N);x.done=Math.abs(H)<=p,x.value=x.done?_:Z};let D,V;const R=N=>{w(x.value)&&(D=N,V=tu({keyframes:[x.value,S(x.value)],velocity:PS(E,N,x.value),damping:o,stiffness:l,restDelta:p,restSpeed:m}))};return R(0),{calculatedDuration:null,next:N=>{let H=!1;return!V&&D===void 0&&(H=!0,T(N),R(N)),D!==void 0&&N>=D?V.next(N-D):(!H&&T(N),x)}}}function fI(t,e,n){const s=[],o=n||Kr.mix||NS,l=t.length-1;for(let c=0;c<l;c++){let d=o(t[c],t[c+1]);if(e){const f=Array.isArray(e)?e[c]||Yn:e;d=Qa(f,d)}s.push(d)}return s}function pI(t,e,{clamp:n=!0,ease:s,mixer:o}={}){const l=t.length;if(Qp(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=fI(e,s,o),f=d.length,p=m=>{if(c&&m<t[0])return e[0];let g=0;if(f>1)for(;g<t.length-2&&!(m<t[g+1]);g++);const x=La(t[g],t[g+1],m);return d[g](x)};return n?m=>p(Hr(t[0],t[l-1],m)):p}function mI(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const o=La(0,e,s);t.push(_t(n,1,o))}}function gI(t){const e=[0];return mI(e,t.length-1),e}function vI(t,e){return t.map(n=>n*e)}function yI(t,e){return t.map(()=>e||yS).splice(0,t.length-1)}function Ca({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const o=TD(s)?s.map(T0):T0(s),l={done:!1,value:e[0]},c=vI(n&&n.length===e.length?n:gI(e),t),d=pI(c,e,{ease:Array.isArray(o)?o:yI(e,o)});return{calculatedDuration:t,next:f=>(l.value=d(f),l.done=f>=t,l)}}const xI=t=>t!==null;function cm(t,{repeat:e,repeatType:n="loop"},s,o=1){const l=t.filter(xI),d=o<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const wI={decay:Ff,inertia:Ff,tween:Ca,keyframes:Ca,spring:tu};function RS(t){typeof t.type=="string"&&(t.type=wI[t.type])}class um{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const bI=t=>t/100;class dm extends um{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==_n.now()&&this.tick(_n.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;RS(e);const{type:n=Ca,repeat:s=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=e;let{keyframes:d}=e;const f=n||Ca;f!==Ca&&typeof d[0]!="number"&&(this.mixKeyframes=Qa(bI,NS(d[0],d[1])),d=[0,100]);const p=f({...e,keyframes:d});l==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...d].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=lm(p));const{calculatedDuration:m}=p;this.calculatedDuration=m,this.resolvedDuration=m+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:o,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:m,repeat:g,repeatType:x,repeatDelay:w,type:S,onUpdate:j,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-p*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?_<0:_>o;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let E=this.currentTime,T=s;if(g){const N=Math.min(this.currentTime,o)/d;let H=Math.floor(N),Z=N%1;!Z&&N>=1&&(Z=1),Z===1&&H--,H=Math.min(H,g+1),!!(H%2)&&(x==="reverse"?(Z=1-Z,w&&(Z-=w/d)):x==="mirror"&&(T=c)),E=Hr(0,1,Z)*d}const D=P?{done:!1,value:m[0]}:T.next(E);l&&(D.value=l(D.value));let{done:V}=D;!P&&f!==null&&(V=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return R&&S!==Ff&&(D.value=cm(m,this.options,C,this.speed)),j&&j(D.value),R&&this.finish(),D}then(e,n){return this.finished.then(e,n)}get duration(){return Gn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Gn(e)}get time(){return Gn(this.currentTime)}set time(e){e=kr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(_n.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Gn(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=sI,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_n.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function jI(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ci=t=>t*180/Math.PI,Bf=t=>{const e=ci(Math.atan2(t[1],t[0]));return Uf(e)},SI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Bf,rotateZ:Bf,skewX:t=>ci(Math.atan(t[1])),skewY:t=>ci(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Uf=t=>(t=t%360,t<0&&(t+=360),t),I0=Bf,M0=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),L0=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),_I={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:M0,scaleY:L0,scale:t=>(M0(t)+L0(t))/2,rotateX:t=>Uf(ci(Math.atan2(t[6],t[5]))),rotateY:t=>Uf(ci(Math.atan2(-t[2],t[0]))),rotateZ:I0,rotate:I0,skewX:t=>ci(Math.atan(t[4])),skewY:t=>ci(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function zf(t){return t.includes("scale")?1:0}function Wf(t,e){if(!t||t==="none")return zf(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=_I,o=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=SI,o=d}if(!o)return zf(e);const l=s[e],c=o[1].split(",").map(CI);return typeof l=="function"?l(c):c[l]}const kI=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Wf(n,e)};function CI(t){return parseFloat(t.trim())}const To=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Po=new Set(To),$0=t=>t===No||t===De,EI=new Set(["x","y","z"]),NI=To.filter(t=>!EI.has(t));function TI(t){const e=[];return NI.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const di={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Wf(e,"x"),y:(t,{transform:e})=>Wf(e,"y")};di.translateX=di.x;di.translateY=di.y;const hi=new Set;let Hf=!1,Kf=!1,qf=!1;function AS(){if(Kf){const t=Array.from(hi).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const o=TI(s);o.length&&(n.set(s,o),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Kf=!1,Hf=!1,hi.forEach(t=>t.complete(qf)),hi.clear()}function OS(){hi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Kf=!0)})}function PI(){qf=!0,OS(),AS(),qf=!1}class hm{constructor(e,n,s,o,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(hi.add(this),Hf||(Hf=!0,xt.read(OS),xt.resolveKeyframes(AS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:o}=this;if(e[0]===null){const l=o?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),o&&l===void 0&&o.set(e[0])}jI(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),hi.delete(this)}cancel(){this.state==="scheduled"&&(hi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const RI=t=>t.startsWith("--");function AI(t,e,n){RI(e)?t.style.setProperty(e,n):t.style[e]=n}const OI=Zp(()=>window.ScrollTimeline!==void 0),DI={};function II(t,e){const n=Zp(t);return()=>DI[e]??n()}const DS=II(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ba=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,V0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ba([0,.65,.55,1]),circOut:ba([.55,0,1,.45]),backIn:ba([.31,.01,.66,-.59]),backOut:ba([.33,1.53,.69,.99])};function IS(t,e){if(t)return typeof t=="function"?DS()?TS(t,e):"ease-out":xS(t)?ba(t):Array.isArray(t)?t.map(n=>IS(n,e)||V0.easeOut):V0[t]}function MI(t,e,n,{delay:s=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:f}={},p=void 0){const m={[e]:n};f&&(m.offset=f);const g=IS(d,o);Array.isArray(g)&&(m.easing=g);const x={delay:s,duration:o,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),t.animate(m,x)}function MS(t){return typeof t=="function"&&"applyToOptions"in t}function LI({type:t,...e}){return MS(t)&&DS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class $I extends um{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:o,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:f}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Qp(typeof e.type!="string");const p=LI(e);this.animation=MI(n,s,o,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const m=cm(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(m):AI(n,s,m),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Gn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Gn(e)}get time(){return Gn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=kr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&OI()?(this.animation.timeline=e,Yn):n(this)}}const LS={anticipate:mS,backInOut:pS,circInOut:vS};function VI(t){return t in LS}function FI(t){typeof t.ease=="string"&&VI(t.ease)&&(t.ease=LS[t.ease])}const F0=10;class BI extends $I{constructor(e){FI(e),RS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:o,element:l,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new dm({...c,autoplay:!1}),f=kr(this.finishedTime??this.time);n.setWithVelocity(d.sample(f-F0).value,d.sample(f).value,F0),d.stop()}}const B0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Es.test(t)||t==="0")&&!t.startsWith("url("));function UI(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function zI(t,e,n,s){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],c=B0(o,e),d=B0(l,e);return!c||!d?!1:UI(t)||(n==="spring"||MS(n))&&s}function Gf(t){t.duration=0,t.type="keyframes"}const WI=new Set(["opacity","clipPath","filter","transform"]),HI=Zp(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function KI(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:o,damping:l,type:c}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return HI()&&n&&WI.has(n)&&(n!=="transform"||!p)&&!f&&!s&&o!=="mirror"&&l!==0&&c!=="inertia"}const qI=40;class GI extends um{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:f,motionValue:p,element:m,...g}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=_n.now();const x={autoplay:e,delay:n,type:s,repeat:o,repeatDelay:l,repeatType:c,name:f,motionValue:p,element:m,...g},w=m?.KeyframeResolver||hm;this.keyframeResolver=new w(d,(S,j,C)=>this.onKeyframesResolved(S,j,x,!C),f,p,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,o){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:f,isHandoff:p,onUpdate:m}=s;this.resolvedAt=_n.now(),zI(e,l,c,d)||((Kr.instantAnimations||!f)&&m?.(cm(e,s,n)),e[0]=e[e.length-1],Gf(s),s.repeat=0);const x={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>qI?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},w=!p&&KI(x)?new BI({...x,element:x.motionValue.owner.current}):new dm(x);w.finished.then(()=>this.notifyFinished()).catch(Yn),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),PI()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const YI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function XI(t){const e=YI.exec(t);if(!e)return[,];const[,n,s,o]=e;return[`--${n??s}`,o]}function $S(t,e,n=1){const[s,o]=XI(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return oS(c)?parseFloat(c):c}return sm(o)?$S(o,e,n+1):o}function fm(t,e){return t?.[e]??t?.default??t}const VS=new Set(["width","height","top","left","right","bottom",...To]),JI={test:t=>t==="auto",parse:t=>t},FS=t=>e=>e.test(t),BS=[No,De,Cr,ws,UD,BD,JI],U0=t=>BS.find(FS(t));function QI(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||lS(t):!0}const ZI=new Set(["brightness","contrast","saturate","opacity"]);function eM(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(im)||[];if(!s)return t;const o=n.replace(s,"");let l=ZI.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+o+")"}const tM=/\b([a-z-]*)\(.*?\)/gu,Yf={...Es,getAnimatableNone:t=>{const e=t.match(tM);return e?e.map(eM).join(" "):t}},z0={...No,transform:Math.round},nM={rotate:ws,rotateX:ws,rotateY:ws,rotateZ:ws,scale:Tc,scaleX:Tc,scaleY:Tc,scaleZ:Tc,skew:ws,skewX:ws,skewY:ws,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:$a,originX:P0,originY:P0,originZ:De},pm={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,radius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,backgroundPositionX:De,backgroundPositionY:De,...nM,zIndex:z0,fillOpacity:$a,strokeOpacity:$a,numOctaves:z0},rM={...pm,color:It,backgroundColor:It,outlineColor:It,fill:It,stroke:It,borderColor:It,borderTopColor:It,borderRightColor:It,borderBottomColor:It,borderLeftColor:It,filter:Yf,WebkitFilter:Yf},US=t=>rM[t];function zS(t,e){let n=US(t);return n!==Yf&&(n=Es),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const sM=new Set(["auto","none","0"]);function iM(t,e,n){let s=0,o;for(;s<t.length&&!o;){const l=t[s];typeof l=="string"&&!sM.has(l)&&Va(l).values.length&&(o=t[s]),s++}if(o&&n)for(const l of e)t[l]=zS(n,o)}class oM extends hm{constructor(e,n,s,o,l){super(e,n,s,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),sm(p))){const m=$S(p,n.current);m!==void 0&&(e[f]=m),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!VS.has(s)||e.length!==2)return;const[o,l]=e,c=U0(o),d=U0(l);if(c!==d)if($0(c)&&$0(d))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else di[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let o=0;o<e.length;o++)(e[o]===null||QI(e[o]))&&s.push(o);s.length&&iM(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=di[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(s,o).jump(o,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=di[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,f])=>{e.getValue(d).set(f)}),this.resolveNoneKeyframes()}}function aM(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const o=n?.[t]??s.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const WS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function HS(t){return aS(t)&&"offsetHeight"in t}const W0=30,lM=t=>!isNaN(parseFloat(t));class cM{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const o=_n.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=_n.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=lM(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new em);const s=this.events[e].add(n);return e==="change"?()=>{s(),xt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=_n.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>W0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,W0);return cS(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yo(t,e){return new cM(t,e)}const{schedule:mm}=wS(queueMicrotask,!1),or={x:!1,y:!1};function KS(){return or.x||or.y}function uM(t){return t==="x"||t==="y"?or[t]?null:(or[t]=!0,()=>{or[t]=!1}):or.x||or.y?null:(or.x=or.y=!0,()=>{or.x=or.y=!1})}function qS(t,e){const n=aM(t),s=new AbortController,o={passive:!0,...e,signal:s.signal};return[n,o,()=>s.abort()]}function H0(t){return!(t.pointerType==="touch"||KS())}function dM(t,e,n={}){const[s,o,l]=qS(t,n),c=d=>{if(!H0(d))return;const{target:f}=d,p=e(f,d);if(typeof p!="function"||!f)return;const m=g=>{H0(g)&&(p(g),f.removeEventListener("pointerleave",m))};f.addEventListener("pointerleave",m,o)};return s.forEach(d=>{d.addEventListener("pointerenter",c,o)}),l}const GS=(t,e)=>e?t===e?!0:GS(t,e.parentElement):!1,gm=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,hM=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fM(t){return hM.has(t.tagName)||t.tabIndex!==-1}const Vc=new WeakSet;function K0(t){return e=>{e.key==="Enter"&&t(e)}}function Bh(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const pM=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=K0(()=>{if(Vc.has(n))return;Bh(n,"down");const o=K0(()=>{Bh(n,"up")}),l=()=>Bh(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function q0(t){return gm(t)&&!KS()}function mM(t,e,n={}){const[s,o,l]=qS(t,n),c=d=>{const f=d.currentTarget;if(!q0(d))return;Vc.add(f);const p=e(f,d),m=(w,S)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",x),Vc.has(f)&&Vc.delete(f),q0(w)&&typeof p=="function"&&p(w,{success:S})},g=w=>{m(w,f===window||f===document||n.useGlobalTarget||GS(f,w.target))},x=w=>{m(w,!1)};window.addEventListener("pointerup",g,o),window.addEventListener("pointercancel",x,o)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),HS(d)&&(d.addEventListener("focus",p=>pM(p,o)),!fM(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function YS(t){return aS(t)&&"ownerSVGElement"in t}function gM(t){return YS(t)&&t.tagName==="svg"}const nn=t=>!!(t&&t.getVelocity),vM=[...BS,It,Es],yM=t=>vM.find(FS(t)),vm=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function G0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function xM(...t){return e=>{let n=!1;const s=t.map(o=>{const l=G0(o,e);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():G0(t[o],null)}}}}function wM(...t){return b.useCallback(xM(...t),t)}class bM extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,o=HS(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function jM({children:t,isPresent:e,anchorX:n,root:s}){const o=b.useId(),l=b.useRef(null),c=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=b.useContext(vm),f=wM(l,t?.ref);return b.useInsertionEffect(()=>{const{width:p,height:m,top:g,left:x,right:w}=c.current;if(e||!l.current||!p||!m)return;const S=n==="left"?`left: ${x}`:`right: ${w}`;l.current.dataset.motionPopId=o;const j=document.createElement("style");d&&(j.nonce=d);const C=s??document.head;return C.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${m}px !important;
            ${S}px !important;
            top: ${g}px !important;
          }
        `),()=>{C.contains(j)&&C.removeChild(j)}},[e]),a.jsx(bM,{isPresent:e,childRef:l,sizeRef:c,children:b.cloneElement(t,{ref:f})})}const SM=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:c,anchorX:d,root:f})=>{const p=Gp(_M),m=b.useId();let g=!0,x=b.useMemo(()=>(g=!1,{id:m,initial:e,isPresent:n,custom:o,onExitComplete:w=>{p.set(w,!0);for(const S of p.values())if(!S)return;s&&s()},register:w=>(p.set(w,!1),()=>p.delete(w))}),[n,p,s]);return l&&g&&(x={...x}),b.useMemo(()=>{p.forEach((w,S)=>p.set(S,!1))},[n]),b.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),c==="popLayout"&&(t=a.jsx(jM,{isPresent:n,anchorX:d,root:f,children:t})),a.jsx(Su.Provider,{value:x,children:t})};function _M(){return new Map}function XS(t=!0){const e=b.useContext(Su);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=e,l=b.useId();b.useEffect(()=>{if(t)return o(l)},[t]);const c=b.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,c]:[!0]}const Pc=t=>t.key||"";function Y0(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const JS=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:f})=>{const[p,m]=XS(c),g=b.useMemo(()=>Y0(t),[t]),x=c&&!p?[]:g.map(Pc),w=b.useRef(!0),S=b.useRef(g),j=Gp(()=>new Map),[C,_]=b.useState(g),[P,E]=b.useState(g);iS(()=>{w.current=!1,S.current=g;for(let V=0;V<P.length;V++){const R=Pc(P[V]);x.includes(R)?j.delete(R):j.get(R)!==!0&&j.set(R,!1)}},[P,x.length,x.join("-")]);const T=[];if(g!==C){let V=[...g];for(let R=0;R<P.length;R++){const N=P[R],H=Pc(N);x.includes(H)||(V.splice(R,0,N),T.push(N))}return l==="wait"&&T.length&&(V=T),E(Y0(V)),_(g),null}const{forceRender:D}=b.useContext(qp);return a.jsx(a.Fragment,{children:P.map(V=>{const R=Pc(V),N=c&&!p?!1:g===P||x.includes(R),H=()=>{if(j.has(R))j.set(R,!0);else return;let Z=!0;j.forEach(ie=>{ie||(Z=!1)}),Z&&(D?.(),E(S.current),c&&m?.(),s&&s())};return a.jsx(SM,{isPresent:N,initial:!w.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:l,root:f,onExitComplete:N?void 0:H,anchorX:d,children:V},R)})})},QS=b.createContext({strict:!1}),X0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xo={};for(const t in X0)xo[t]={isEnabled:e=>X0[t].some(n=>!!e[n])};function kM(t){for(const e in t)xo[e]={...xo[e],...t[e]}}const CM=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||CM.has(t)}let ZS=t=>!nu(t);function EM(t){typeof t=="function"&&(ZS=e=>e.startsWith("on")?!nu(e):t(e))}try{EM(require("@emotion/is-prop-valid").default)}catch{}function NM(t,e,n){const s={};for(const o in t)o==="values"&&typeof t.values=="object"||(ZS(o)||n===!0&&nu(o)||!e&&!nu(o)||t.draggable&&o.startsWith("onDrag"))&&(s[o]=t[o]);return s}const _u=b.createContext({});function ku(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Fa(t){return typeof t=="string"||Array.isArray(t)}const ym=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xm=["initial",...ym];function Cu(t){return ku(t.animate)||xm.some(e=>Fa(t[e]))}function e1(t){return!!(Cu(t)||t.variants)}function TM(t,e){if(Cu(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Fa(n)?n:void 0,animate:Fa(s)?s:void 0}}return t.inherit!==!1?e:{}}function PM(t){const{initial:e,animate:n}=TM(t,b.useContext(_u));return b.useMemo(()=>({initial:e,animate:n}),[J0(e),J0(n)])}function J0(t){return Array.isArray(t)?t.join(" "):t}const Ba={};function RM(t){for(const e in t)Ba[e]=t[e],rm(e)&&(Ba[e].isCSSVariable=!0)}function t1(t,{layout:e,layoutId:n}){return Po.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ba[t]||t==="opacity")}const AM={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OM=To.length;function DM(t,e,n){let s="",o=!0;for(let l=0;l<OM;l++){const c=To[l],d=t[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const p=WS(d,pm[c]);if(!f){o=!1;const m=AM[c]||c;s+=`${m}(${p}) `}n&&(e[c]=p)}}return s=s.trim(),n?s=n(e,o?"":s):o&&(s="none"),s}function wm(t,e,n){const{style:s,vars:o,transformOrigin:l}=t;let c=!1,d=!1;for(const f in e){const p=e[f];if(Po.has(f)){c=!0;continue}else if(rm(f)){o[f]=p;continue}else{const m=WS(p,pm[f]);f.startsWith("origin")?(d=!0,l[f]=m):s[f]=m}}if(e.transform||(c||n?s.transform=DM(e,t.transform,n):s.transform&&(s.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:m=0}=l;s.transformOrigin=`${f} ${p} ${m}`}}const bm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function n1(t,e,n){for(const s in e)!nn(e[s])&&!t1(s,n)&&(t[s]=e[s])}function IM({transformTemplate:t},e){return b.useMemo(()=>{const n=bm();return wm(n,e,t),Object.assign({},n.vars,n.style)},[e])}function MM(t,e){const n=t.style||{},s={};return n1(s,n,t),Object.assign(s,IM(t,e)),s}function LM(t,e){const n={},s=MM(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const $M={offset:"stroke-dashoffset",array:"stroke-dasharray"},VM={offset:"strokeDashoffset",array:"strokeDasharray"};function FM(t,e,n=1,s=0,o=!0){t.pathLength=1;const l=o?$M:VM;t[l.offset]=De.transform(-s);const c=De.transform(e),d=De.transform(n);t[l.array]=`${c} ${d}`}function r1(t,{attrX:e,attrY:n,attrScale:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},f,p,m){if(wm(t,d,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:x}=t;g.transform&&(x.transform=g.transform,delete g.transform),(x.transform||g.transformOrigin)&&(x.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),x.transform&&(x.transformBox=m?.transformBox??"fill-box",delete g.transformBox),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),s!==void 0&&(g.scale=s),o!==void 0&&FM(g,o,l,c,!1)}const s1=()=>({...bm(),attrs:{}}),i1=t=>typeof t=="string"&&t.toLowerCase()==="svg";function BM(t,e,n,s){const o=b.useMemo(()=>{const l=s1();return r1(l,e,i1(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};n1(l,t.style,t),o.style={...l,...o.style}}return o}const UM=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jm(t){return typeof t!="string"||t.includes("-")?!1:!!(UM.indexOf(t)>-1||/[A-Z]/u.test(t))}function zM(t,e,n,{latestValues:s},o,l=!1){const d=(jm(t)?BM:LM)(e,s,o,t),f=NM(e,typeof t=="string",l),p=t!==b.Fragment?{...f,...d,ref:n}:{},{children:m}=e,g=b.useMemo(()=>nn(m)?m.get():m,[m]);return b.createElement(t,{...p,children:g})}function Q0(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function Sm(t,e,n,s){if(typeof e=="function"){const[o,l]=Q0(s);e=e(n!==void 0?n:t.custom,o,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,l]=Q0(s);e=e(n!==void 0?n:t.custom,o,l)}return e}function Fc(t){return nn(t)?t.get():t}function WM({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,o){return{latestValues:HM(n,s,o,t),renderState:e()}}function HM(t,e,n,s){const o={},l=s(t,{});for(const x in l)o[x]=Fc(l[x]);let{initial:c,animate:d}=t;const f=Cu(t),p=e1(t);e&&p&&!f&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let m=n?n.initial===!1:!1;m=m||c===!1;const g=m?d:c;if(g&&typeof g!="boolean"&&!ku(g)){const x=Array.isArray(g)?g:[g];for(let w=0;w<x.length;w++){const S=Sm(t,x[w]);if(S){const{transitionEnd:j,transition:C,..._}=S;for(const P in _){let E=_[P];if(Array.isArray(E)){const T=m?E.length-1:0;E=E[T]}E!==null&&(o[P]=E)}for(const P in j)o[P]=j[P]}}}return o}const o1=t=>(e,n)=>{const s=b.useContext(_u),o=b.useContext(Su),l=()=>WM(t,e,s,o);return n?l():Gp(l)};function _m(t,e,n){const{style:s}=t,o={};for(const l in s)(nn(s[l])||e.style&&nn(e.style[l])||t1(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(o[l]=s[l]);return o}const KM=o1({scrapeMotionValuesFromProps:_m,createRenderState:bm});function a1(t,e,n){const s=_m(t,e,n);for(const o in t)if(nn(t[o])||nn(e[o])){const l=To.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[l]=t[o]}return s}const qM=o1({scrapeMotionValuesFromProps:a1,createRenderState:s1}),GM=Symbol.for("motionComponentSymbol");function ro(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function YM(t,e,n){return b.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):ro(n)&&(n.current=s))},[e])}const km=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),XM="framerAppearId",l1="data-"+km(XM),c1=b.createContext({});function JM(t,e,n,s,o){const{visualElement:l}=b.useContext(_u),c=b.useContext(QS),d=b.useContext(Su),f=b.useContext(vm).reducedMotion,p=b.useRef(null);s=s||c.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const m=p.current,g=b.useContext(c1);m&&!m.projection&&o&&(m.type==="html"||m.type==="svg")&&QM(p.current,n,o,g);const x=b.useRef(!1);b.useInsertionEffect(()=>{m&&x.current&&m.update(n,d)});const w=n[l1],S=b.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return iS(()=>{m&&(x.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),S.current&&m.animationState&&m.animationState.animateChanges())}),b.useEffect(()=>{m&&(!S.current&&m.animationState&&m.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),S.current=!1),m.enteringChildren=void 0)}),m}function QM(t,e,n,s){const{layoutId:o,layout:l,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:p,layoutCrossfade:m}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:u1(t.parent)),t.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||d&&ro(d),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:m,layoutScroll:f,layoutRoot:p})}function u1(t){if(t)return t.options.allowProjection!==!1?t.projection:u1(t.parent)}function Uh(t,{forwardMotionProps:e=!1}={},n,s){n&&kM(n);const o=jm(t)?qM:KM;function l(d,f){let p;const m={...b.useContext(vm),...d,layoutId:ZM(d)},{isStatic:g}=m,x=PM(d),w=o(d,g);if(!g&&Yp){eL();const S=tL(m);p=S.MeasureLayout,x.visualElement=JM(t,w,m,s,S.ProjectionNode)}return a.jsxs(_u.Provider,{value:x,children:[p&&x.visualElement?a.jsx(p,{visualElement:x.visualElement,...m}):null,zM(t,d,YM(w,x.visualElement,f),w,g,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=b.forwardRef(l);return c[GM]=t,c}function ZM({layoutId:t}){const e=b.useContext(qp).id;return e&&t!==void 0?e+"-"+t:t}function eL(t,e){b.useContext(QS).strict}function tL(t){const{drag:e,layout:n}=xo;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function nL(t,e){if(typeof Proxy>"u")return Uh;const n=new Map,s=(l,c)=>Uh(l,c,t,e),o=(l,c)=>s(l,c);return new Proxy(o,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,Uh(c,void 0,t,e)),n.get(c))})}function d1({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function rL({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function sL(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function zh(t){return t===void 0||t===1}function Xf({scale:t,scaleX:e,scaleY:n}){return!zh(t)||!zh(e)||!zh(n)}function si(t){return Xf(t)||h1(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function h1(t){return Z0(t.x)||Z0(t.y)}function Z0(t){return t&&t!=="0%"}function ru(t,e,n){const s=t-n,o=e*s;return n+o}function ex(t,e,n,s,o){return o!==void 0&&(t=ru(t,o,s)),ru(t,n,s)+e}function Jf(t,e=0,n=1,s,o){t.min=ex(t.min,e,n,s,o),t.max=ex(t.max,e,n,s,o)}function f1(t,{x:e,y:n}){Jf(t.x,e.translate,e.scale,e.originPoint),Jf(t.y,n.translate,n.scale,n.originPoint)}const tx=.999999999999,nx=1.0000000000001;function iL(t,e,n,s=!1){const o=n.length;if(!o)return;e.x=e.y=1;let l,c;for(let d=0;d<o;d++){l=n[d],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&io(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,f1(t,c)),s&&si(l.latestValues)&&io(t,l.latestValues))}e.x<nx&&e.x>tx&&(e.x=1),e.y<nx&&e.y>tx&&(e.y=1)}function so(t,e){t.min=t.min+e,t.max=t.max+e}function rx(t,e,n,s,o=.5){const l=_t(t.min,t.max,o);Jf(t,e,n,l,s)}function io(t,e){rx(t.x,e.x,e.scaleX,e.scale,e.originX),rx(t.y,e.y,e.scaleY,e.scale,e.originY)}function p1(t,e){return d1(sL(t.getBoundingClientRect(),e))}function oL(t,e,n){const s=p1(t,n),{scroll:o}=e;return o&&(so(s.x,o.offset.x),so(s.y,o.offset.y)),s}const sx=()=>({translate:0,scale:1,origin:0,originPoint:0}),oo=()=>({x:sx(),y:sx()}),ix=()=>({min:0,max:0}),Pt=()=>({x:ix(),y:ix()}),Qf={current:null},m1={current:!1};function aL(){if(m1.current=!0,!!Yp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Qf.current=t.matches;t.addEventListener("change",e),e()}else Qf.current=!1}const lL=new WeakMap;function cL(t,e,n){for(const s in e){const o=e[s],l=n[s];if(nn(o))t.addValue(s,o);else if(nn(l))t.addValue(s,yo(o,{owner:t}));else if(l!==o)if(t.hasValue(s)){const c=t.getValue(s);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=t.getStaticValue(s);t.addValue(s,yo(c!==void 0?c:o,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const ox=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uL{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=_n.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,xt.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Cu(n),this.isVariantNode=e1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in g){const w=g[x];f[x]!==void 0&&nn(w)&&w.set(f[x])}}mount(e){this.current=e,lL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),m1.current||aL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Qf.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Cs(this.notifyUpdate),Cs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Po.has(e);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&xt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in xo){const n=xo[e];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[e]&&o&&s(this.props)&&(this.features[e]=new o(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<ox.length;s++){const o=ox[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=e[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=cL(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=yo(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(oS(s)||lS(s))?s=parseFloat(s):!yM(s)&&Es.test(n)&&(s=zS(e,n)),this.setBaseTarget(e,nn(s)?s.get():s)),nn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=Sm(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!nn(o)?o:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new em),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){mm.render(this.render)}}class g1 extends uL{constructor(){super(...arguments),this.KeyframeResolver=oM}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;nn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function v1(t,{style:e,vars:n},s,o){const l=t.style;let c;for(c in e)l[c]=e[c];o?.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function dL(t){return window.getComputedStyle(t)}class hL extends g1{constructor(){super(...arguments),this.type="html",this.renderInstance=v1}readValueFromInstance(e,n){if(Po.has(n))return this.projection?.isProjecting?zf(n):kI(e,n);{const s=dL(e),o=(rm(n)?s.getPropertyValue(n):s[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return p1(e,n)}build(e,n,s){wm(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return _m(e,n,s)}}const y1=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fL(t,e,n,s){v1(t,e,void 0,s);for(const o in e.attrs)t.setAttribute(y1.has(o)?o:km(o),e.attrs[o])}class pL extends g1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Po.has(n)){const s=US(n);return s&&s.default||0}return n=y1.has(n)?n:km(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return a1(e,n,s)}build(e,n,s){r1(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,o){fL(e,n,s,o)}mount(e){this.isSVGTag=i1(e.tagName),super.mount(e)}}const mL=(t,e)=>jm(t)?new pL(e):new hL(e,{allowProjection:t!==b.Fragment});function uo(t,e,n){const s=t.getProps();return Sm(s,e,n!==void 0?n:s.custom,t)}const Zf=t=>Array.isArray(t);function gL(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,yo(n))}function vL(t){return Zf(t)?t[t.length-1]||0:t}function yL(t,e){const n=uo(t,e);let{transitionEnd:s={},transition:o={},...l}=n||{};l={...l,...s};for(const c in l){const d=vL(l[c]);gL(t,c,d)}}function xL(t){return!!(nn(t)&&t.add)}function ep(t,e){const n=t.getValue("willChange");if(xL(n))return n.add(e);if(!n&&Kr.WillChange){const s=new Kr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function x1(t){return t.props[l1]}const wL=t=>t!==null;function bL(t,{repeat:e,repeatType:n="loop"},s){const o=t.filter(wL),l=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[l]}const jL={type:"spring",stiffness:500,damping:25,restSpeed:10},SL=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),_L={type:"keyframes",duration:.8},kL={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},CL=(t,{keyframes:e})=>e.length>2?_L:Po.has(t)?t.startsWith("scale")?SL(e[1]):jL:kL;function EL({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:d,from:f,elapsed:p,...m}){return!!Object.keys(m).length}const Cm=(t,e,n,s={},o,l)=>c=>{const d=fm(s,t)||{},f=d.delay||s.delay||0;let{elapsed:p=0}=s;p=p-kr(f);const m={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:x=>{e.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:l?void 0:o};EL(d)||Object.assign(m,CL(t,m)),m.duration&&(m.duration=kr(m.duration)),m.repeatDelay&&(m.repeatDelay=kr(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let g=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(Gf(m),m.delay===0&&(g=!0)),(Kr.instantAnimations||Kr.skipAnimations)&&(g=!0,Gf(m),m.delay=0),m.allowFlatten=!d.type&&!d.ease,g&&!l&&e.get()!==void 0){const x=bL(m.keyframes,d);if(x!==void 0){xt.update(()=>{m.onUpdate(x),m.onComplete()});return}}return d.isSync?new dm(m):new GI(m)};function NL({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function w1(t,e,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:c,...d}=e;s&&(l=s);const f=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const m in d){const g=t.getValue(m,t.latestValues[m]??null),x=d[m];if(x===void 0||p&&NL(p,m))continue;const w={delay:n,...fm(l||{},m)},S=g.get();if(S!==void 0&&!g.isAnimating&&!Array.isArray(x)&&x===S&&!w.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const _=x1(t);if(_){const P=window.MotionHandoffAnimation(_,m,xt);P!==null&&(w.startTime=P,j=!0)}}ep(t,m),g.start(Cm(m,g,x,t.shouldReduceMotion&&VS.has(m)?{type:!1}:w,t,j));const C=g.animation;C&&f.push(C)}return c&&Promise.all(f).then(()=>{xt.update(()=>{c&&yL(t,c)})}),f}function b1(t,e,n,s=0,o=1){const l=Array.from(t).sort((p,m)=>p.sortNodePosition(m)).indexOf(e),c=t.size,d=(c-1)*s;return typeof n=="function"?n(l,c):o===1?l*s:d-l*s}function tp(t,e,n={}){const s=uo(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const l=s?()=>Promise.all(w1(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:m,staggerDirection:g}=o;return TL(t,e,f,p,m,g,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[f,p]=d==="beforeChildren"?[l,c]:[c,l];return f().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function TL(t,e,n=0,s=0,o=0,l=1,c){const d=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),d.push(tp(f,e,{...c,delay:n+(typeof s=="function"?0:s)+b1(t.variantChildren,f,s,o,l)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(d)}function PL(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(l=>tp(t,l,n));s=Promise.all(o)}else if(typeof e=="string")s=tp(t,e,n);else{const o=typeof e=="function"?uo(t,e,n.custom):e;s=Promise.all(w1(t,o,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function j1(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const RL=xm.length;function S1(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?S1(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<RL;n++){const s=xm[n],o=t.props[s];(Fa(o)||o===!1)&&(e[s]=o)}return e}const AL=[...ym].reverse(),OL=ym.length;function DL(t){return e=>Promise.all(e.map(({animation:n,options:s})=>PL(t,n,s)))}function IL(t){let e=DL(t),n=ax(),s=!0;const o=f=>(p,m)=>{const g=uo(t,m,f==="exit"?t.presenceContext?.custom:void 0);if(g){const{transition:x,transitionEnd:w,...S}=g;p={...p,...S,...w}}return p};function l(f){e=f(t)}function c(f){const{props:p}=t,m=S1(t.parent)||{},g=[],x=new Set;let w={},S=1/0;for(let C=0;C<OL;C++){const _=AL[C],P=n[_],E=p[_]!==void 0?p[_]:m[_],T=Fa(E),D=_===f?P.isActive:null;D===!1&&(S=C);let V=E===m[_]&&E!==p[_]&&T;if(V&&s&&t.manuallyAnimateOnMount&&(V=!1),P.protectedKeys={...w},!P.isActive&&D===null||!E&&!P.prevProp||ku(E)||typeof E=="boolean")continue;const R=ML(P.prevProp,E);let N=R||_===f&&P.isActive&&!V&&T||C>S&&T,H=!1;const Z=Array.isArray(E)?E:[E];let ie=Z.reduce(o(_),{});D===!1&&(ie={});const{prevResolvedValues:ue={}}=P,Q={...ue,...ie},Y=F=>{N=!0,x.has(F)&&(H=!0,x.delete(F)),P.needsAnimating[F]=!0;const O=t.getValue(F);O&&(O.liveStyle=!1)};for(const F in Q){const O=ie[F],K=ue[F];if(w.hasOwnProperty(F))continue;let B=!1;Zf(O)&&Zf(K)?B=!j1(O,K):B=O!==K,B?O!=null?Y(F):x.add(F):O!==void 0&&x.has(F)?Y(F):P.protectedKeys[F]=!0}P.prevProp=E,P.prevResolvedValues=ie,P.isActive&&(w={...w,...ie}),s&&t.blockInitialAnimation&&(N=!1);const X=V&&R;N&&(!X||H)&&g.push(...Z.map(F=>{const O={type:_};if(typeof F=="string"&&s&&!X&&t.manuallyAnimateOnMount&&t.parent){const{parent:K}=t,B=uo(K,F);if(K.enteringChildren&&B){const{delayChildren:I}=B.transition||{};O.delay=b1(K.enteringChildren,t,I)}}return{animation:F,options:O}}))}if(x.size){const C={};if(typeof p.initial!="boolean"){const _=uo(t,Array.isArray(p.initial)?p.initial[0]:p.initial);_&&_.transition&&(C.transition=_.transition)}x.forEach(_=>{const P=t.getBaseTarget(_),E=t.getValue(_);E&&(E.liveStyle=!0),C[_]=P??null}),g.push({animation:C})}let j=!!g.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(j=!1),s=!1,j?e(g):Promise.resolve()}function d(f,p){if(n[f].isActive===p)return Promise.resolve();t.variantChildren?.forEach(g=>g.animationState?.setActive(f,p)),n[f].isActive=p;const m=c(f);for(const g in n)n[g].protectedKeys={};return m}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=ax()}}}function ML(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!j1(e,t):!1}function ti(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ax(){return{animate:ti(!0),whileInView:ti(),whileHover:ti(),whileTap:ti(),whileDrag:ti(),whileFocus:ti(),exit:ti()}}class Ds{constructor(e){this.isMounted=!1,this.node=e}update(){}}class LL extends Ds{constructor(e){super(e),e.animationState||(e.animationState=IL(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ku(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let $L=0;class VL extends Ds{constructor(){super(...arguments),this.id=$L++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const FL={animation:{Feature:LL},exit:{Feature:VL}};function Ua(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function tl(t){return{point:{x:t.pageX,y:t.pageY}}}const BL=t=>e=>gm(e)&&t(e,tl(e));function Ea(t,e,n,s){return Ua(t,e,BL(n),s)}const _1=1e-4,UL=1-_1,zL=1+_1,k1=.01,WL=0-k1,HL=0+k1;function cn(t){return t.max-t.min}function KL(t,e,n){return Math.abs(t-e)<=n}function lx(t,e,n,s=.5){t.origin=s,t.originPoint=_t(e.min,e.max,t.origin),t.scale=cn(n)/cn(e),t.translate=_t(n.min,n.max,t.origin)-t.originPoint,(t.scale>=UL&&t.scale<=zL||isNaN(t.scale))&&(t.scale=1),(t.translate>=WL&&t.translate<=HL||isNaN(t.translate))&&(t.translate=0)}function Na(t,e,n,s){lx(t.x,e.x,n.x,s?s.originX:void 0),lx(t.y,e.y,n.y,s?s.originY:void 0)}function cx(t,e,n){t.min=n.min+e.min,t.max=t.min+cn(e)}function qL(t,e,n){cx(t.x,e.x,n.x),cx(t.y,e.y,n.y)}function ux(t,e,n){t.min=e.min-n.min,t.max=t.min+cn(e)}function Ta(t,e,n){ux(t.x,e.x,n.x),ux(t.y,e.y,n.y)}function Kn(t){return[t("x"),t("y")]}const C1=({current:t})=>t?t.ownerDocument.defaultView:null,dx=(t,e)=>Math.abs(t-e);function GL(t,e){const n=dx(t.x,e.x),s=dx(t.y,e.y);return Math.sqrt(n**2+s**2)}class E1{constructor(e,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Hh(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,S=GL(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!S)return;const{point:j}=x,{timestamp:C}=Yt;this.history.push({...j,timestamp:C});const{onStart:_,onMove:P}=this.handlers;w||(_&&_(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,x)},this.handlePointerMove=(x,w)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Wh(w,this.transformPagePoint),xt.update(this.updatePoint,!0)},this.handlePointerUp=(x,w)=>{this.end();const{onEnd:S,onSessionEnd:j,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Hh(x.type==="pointercancel"?this.lastMoveEventInfo:Wh(w,this.transformPagePoint),this.history);this.startEvent&&S&&S(x,_),j&&j(x,_)},!gm(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=o||window;const d=tl(e),f=Wh(d,this.transformPagePoint),{point:p}=f,{timestamp:m}=Yt;this.history=[{...p,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,Hh(f,this.history)),this.removeListeners=Qa(Ea(this.contextWindow,"pointermove",this.handlePointerMove),Ea(this.contextWindow,"pointerup",this.handlePointerUp),Ea(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Cs(this.updatePoint)}}function Wh(t,e){return e?{point:e(t.point)}:t}function hx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Hh({point:t},e){return{point:t,delta:hx(t,N1(e)),offset:hx(t,YL(e)),velocity:XL(e,.1)}}function YL(t){return t[0]}function N1(t){return t[t.length-1]}function XL(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const o=N1(t);for(;n>=0&&(s=t[n],!(o.timestamp-s.timestamp>kr(e)));)n--;if(!s)return{x:0,y:0};const l=Gn(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function JL(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?_t(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?_t(n,t,s.max):Math.min(t,n)),t}function fx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function QL(t,{top:e,left:n,bottom:s,right:o}){return{x:fx(t.x,n,o),y:fx(t.y,e,s)}}function px(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function ZL(t,e){return{x:px(t.x,e.x),y:px(t.y,e.y)}}function e4(t,e){let n=.5;const s=cn(t),o=cn(e);return o>s?n=La(e.min,e.max-s,t.min):s>o&&(n=La(t.min,t.max-o,e.min)),Hr(0,1,n)}function t4(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const np=.35;function n4(t=np){return t===!1?t=0:t===!0&&(t=np),{x:mx(t,"left","right"),y:mx(t,"top","bottom")}}function mx(t,e,n){return{min:gx(t,e),max:gx(t,n)}}function gx(t,e){return typeof t=="number"?t:t[e]||0}const r4=new WeakMap;class s4{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=g=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(tl(g).point)},c=(g,x)=>{const{drag:w,dragPropagation:S,onDragStart:j}=this.getProps();if(w&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uM(w),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Kn(_=>{let P=this.getAxisMotionValue(_).get()||0;if(Cr.test(P)){const{projection:E}=this.visualElement;if(E&&E.layout){const T=E.layout.layoutBox[_];T&&(P=cn(T)*(parseFloat(P)/100))}}this.originPoint[_]=P}),j&&xt.postRender(()=>j(g,x)),ep(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},d=(g,x)=>{this.latestPointerEvent=g,this.latestPanInfo=x;const{dragPropagation:w,dragDirectionLock:S,onDirectionLock:j,onDrag:C}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:_}=x;if(S&&this.currentDirection===null){this.currentDirection=i4(_),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",x.point,_),this.updateAxis("y",x.point,_),this.visualElement.render(),C&&C(g,x)},f=(g,x)=>{this.latestPointerEvent=g,this.latestPanInfo=x,this.stop(g,x),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Kn(g=>this.getAnimationState(g)==="paused"&&this.getAxisMotionValue(g).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new E1(e,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:s,contextWindow:C1(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!s)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&xt.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:o}=this.getProps();if(!s||!Rc(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=JL(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&ro(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=QL(s.layoutBox,e):this.constraints=!1,this.elastic=n4(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Kn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=t4(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ro(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=oL(s,o.root,this.visualElement.getTransformPagePoint());let c=ZL(o.layout.layoutBox,l);if(n){const d=n(rL(c));this.hasMutatedConstraints=!!d,d&&(c=d1(d))}return c}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=Kn(m=>{if(!Rc(m,n,this.currentDirection))return;let g=f&&f[m]||{};c&&(g={min:0,max:0});const x=o?200:1e6,w=o?40:1e7,S={type:"inertia",velocity:s?e[m]:0,bounceStiffness:x,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...l,...g};return this.startAxisValueAnimation(m,S)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return ep(this.visualElement,e),s.start(Cm(e,s,0,n,this.visualElement,!1))}stopAnimation(){Kn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Kn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Kn(n=>{const{drag:s}=this.getProps();if(!Rc(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[n];l.set(e[n]-_t(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!ro(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Kn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();o[c]=e4({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Kn(c=>{if(!Rc(c,e,null))return;const d=this.getAxisMotionValue(c),{min:f,max:p}=this.constraints[c];d.set(_t(f,p,o[c]))})}addListeners(){if(!this.visualElement.current)return;r4.set(this.visualElement,this);const e=this.visualElement.current,n=Ea(e,"pointerdown",f=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();ro(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),xt.read(s);const c=Ua(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Kn(m=>{const g=this.getAxisMotionValue(m);g&&(this.originPoint[m]+=f[m].translate,g.set(g.get()+f[m].translate))}),this.visualElement.render())}));return()=>{c(),n(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=np,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Rc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function i4(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class o4 extends Ds{constructor(e){super(e),this.removeGroupControls=Yn,this.removeListeners=Yn,this.controls=new s4(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yn}unmount(){this.removeGroupControls(),this.removeListeners()}}const vx=t=>(e,n)=>{t&&xt.postRender(()=>t(e,n))};class a4 extends Ds{constructor(){super(...arguments),this.removePointerDownListener=Yn}onPointerDown(e){this.session=new E1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:C1(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:vx(e),onStart:vx(n),onMove:s,onEnd:(l,c)=>{delete this.session,o&&xt.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=Ea(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Bc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const pa={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(De.test(t))t=parseFloat(t);else return t;const n=yx(t,e.target.x),s=yx(t,e.target.y);return`${n}% ${s}%`}},l4={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,o=Es.parse(t);if(o.length>5)return s;const l=Es.createTransformer(t),c=typeof o[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;o[0+c]/=d,o[1+c]/=f;const p=_t(d,f,.5);return typeof o[2+c]=="number"&&(o[2+c]/=p),typeof o[3+c]=="number"&&(o[3+c]/=p),l(o)}};let Kh=!1;class c4 extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=e;RM(u4),l&&(n.group&&n.group.add(l),s&&s.register&&o&&s.register(l),Kh&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Bc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:o,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,Kh=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||xt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),mm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=e;Kh=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function T1(t){const[e,n]=XS(),s=b.useContext(qp);return a.jsx(c4,{...t,layoutGroup:s,switchLayoutGroup:b.useContext(c1),isPresent:e,safeToRemove:n})}const u4={borderRadius:{...pa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pa,borderTopRightRadius:pa,borderBottomLeftRadius:pa,borderBottomRightRadius:pa,boxShadow:l4};function d4(t,e,n){const s=nn(t)?t:yo(t);return s.start(Cm("",s,e,n)),s.animation}const h4=(t,e)=>t.depth-e.depth;class f4{constructor(){this.children=[],this.isDirty=!1}add(e){Xp(this.children,e),this.isDirty=!0}remove(e){Jp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(h4),this.isDirty=!1,this.children.forEach(e)}}function p4(t,e){const n=_n.now(),s=({timestamp:o})=>{const l=o-n;l>=e&&(Cs(s),t(l-e))};return xt.setup(s,!0),()=>Cs(s)}const P1=["TopLeft","TopRight","BottomLeft","BottomRight"],m4=P1.length,xx=t=>typeof t=="string"?parseFloat(t):t,wx=t=>typeof t=="number"||De.test(t);function g4(t,e,n,s,o,l){o?(t.opacity=_t(0,n.opacity??1,v4(s)),t.opacityExit=_t(e.opacity??1,0,y4(s))):l&&(t.opacity=_t(e.opacity??1,n.opacity??1,s));for(let c=0;c<m4;c++){const d=`border${P1[c]}Radius`;let f=bx(e,d),p=bx(n,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||wx(f)===wx(p)?(t[d]=Math.max(_t(xx(f),xx(p),s),0),(Cr.test(p)||Cr.test(f))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=_t(e.rotate||0,n.rotate||0,s))}function bx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const v4=R1(0,.5,gS),y4=R1(.5,.95,Yn);function R1(t,e,n){return s=>s<t?0:s>e?1:n(La(t,e,s))}function jx(t,e){t.min=e.min,t.max=e.max}function Hn(t,e){jx(t.x,e.x),jx(t.y,e.y)}function Sx(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function _x(t,e,n,s,o){return t-=e,t=ru(t,1/n,s),o!==void 0&&(t=ru(t,1/o,s)),t}function x4(t,e=0,n=1,s=.5,o,l=t,c=t){if(Cr.test(e)&&(e=parseFloat(e),e=_t(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=_t(l.min,l.max,s);t===l&&(d-=e),t.min=_x(t.min,e,n,d,o),t.max=_x(t.max,e,n,d,o)}function kx(t,e,[n,s,o],l,c){x4(t,e[n],e[s],e[o],e.scale,l,c)}const w4=["x","scaleX","originX"],b4=["y","scaleY","originY"];function Cx(t,e,n,s){kx(t.x,e,w4,n?n.x:void 0,s?s.x:void 0),kx(t.y,e,b4,n?n.y:void 0,s?s.y:void 0)}function Ex(t){return t.translate===0&&t.scale===1}function A1(t){return Ex(t.x)&&Ex(t.y)}function Nx(t,e){return t.min===e.min&&t.max===e.max}function j4(t,e){return Nx(t.x,e.x)&&Nx(t.y,e.y)}function Tx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function O1(t,e){return Tx(t.x,e.x)&&Tx(t.y,e.y)}function Px(t){return cn(t.x)/cn(t.y)}function Rx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class S4{constructor(){this.members=[]}add(e){Xp(this.members,e),e.scheduleRender()}remove(e){if(Jp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _4(t,e,n){let s="";const o=t.x.translate/e.x,l=t.y.translate/e.y,c=n?.z||0;if((o||l||c)&&(s=`translate3d(${o}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:m,rotateX:g,rotateY:x,skewX:w,skewY:S}=n;p&&(s=`perspective(${p}px) ${s}`),m&&(s+=`rotate(${m}deg) `),g&&(s+=`rotateX(${g}deg) `),x&&(s+=`rotateY(${x}deg) `),w&&(s+=`skewX(${w}deg) `),S&&(s+=`skewY(${S}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(s+=`scale(${d}, ${f})`),s||"none"}const qh=["","X","Y","Z"],k4=1e3;let C4=0;function Gh(t,e,n,s){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),s&&(s[t]=0))}function D1(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=x1(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",xt,!(o||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&D1(s)}function I1({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},d=e?.()){this.id=C4++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(T4),this.nodes.forEach(O4),this.nodes.forEach(D4),this.nodes.forEach(P4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new f4)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new em),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=YS(c)&&!gM(c),this.instance=c;const{layoutId:d,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),t){let m,g=0;const x=()=>this.root.updateBlockedByResize=!1;xt.read(()=>{g=window.innerWidth}),t(c,()=>{const w=window.innerWidth;w!==g&&(g=w,this.root.updateBlockedByResize=!0,m&&m(),m=p4(x,250),Bc.hasAnimatedSinceResize&&(Bc.hasAnimatedSinceResize=!1,this.nodes.forEach(Dx)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&p&&(d||f)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:g,hasRelativeLayoutChanged:x,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||p.getDefaultTransition()||V4,{onLayoutAnimationStart:j,onLayoutAnimationComplete:C}=p.getProps(),_=!this.targetLayout||!O1(this.targetLayout,w),P=!g&&x;if(this.options.layoutRoot||this.resumeFrom||P||g&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...fm(S,"layout"),onPlay:j,onComplete:C};(p.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(m,P)}else g||Dx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Cs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(I4),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&D1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const g=this.path[m];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ax);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ox);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(A4),this.nodes.forEach(E4),this.nodes.forEach(N4)):this.nodes.forEach(Ox),this.clearAllSnapshots();const d=_n.now();Yt.delta=Hr(0,1e3/60,d-Yt.timestamp),Yt.timestamp=d,Yt.isProcessing=!0,Mh.update.process(Yt),Mh.preRender.process(Yt),Mh.render.process(Yt),Yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(R4),this.sharedNodes.forEach(M4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!cn(this.snapshot.measuredBox.x)&&!cn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!A1(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;c&&this.instance&&(d||si(this.latestValues)||m)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),F4(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return Pt();const d=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(B4))){const{scroll:p}=this.root;p&&(so(d.x,p.offset.x),so(d.y,p.offset.y))}return d}removeElementScroll(c){const d=Pt();if(Hn(d,c),this.scroll?.wasRoot)return d;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:m,options:g}=p;p!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Hn(d,c),so(d.x,m.offset.x),so(d.y,m.offset.y))}return d}applyTransform(c,d=!1){const f=Pt();Hn(f,c);for(let p=0;p<this.path.length;p++){const m=this.path[p];!d&&m.options.layoutScroll&&m.scroll&&m!==m.root&&io(f,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),si(m.latestValues)&&io(f,m.latestValues)}return si(this.latestValues)&&io(f,this.latestValues),f}removeTransform(c){const d=Pt();Hn(d,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!si(p.latestValues))continue;Xf(p.latestValues)&&p.updateSnapshot();const m=Pt(),g=p.measurePageBox();Hn(m,g),Cx(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return si(this.latestValues)&&Cx(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:g}=this.options;if(!(!this.layout||!(m||g))){if(this.resolvedRelativeTargetAt=Yt.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),Ta(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Pt(),this.targetWithTransforms=Pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qL(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hn(this.target,this.layout.layoutBox),f1(this.target,this.targetDelta)):Hn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pt(),this.relativeTargetOrigin=Pt(),Ta(this.relativeTargetOrigin,this.target,x.target),Hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Xf(this.parent.latestValues)||h1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Yt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||m))return;Hn(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,x=this.treeScale.y;iL(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Pt());const{target:w}=c;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Sx(this.prevProjectionDelta.x,this.projectionDelta.x),Sx(this.prevProjectionDelta.y,this.projectionDelta.y)),Na(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==x||!Rx(this.projectionDelta.x,this.prevProjectionDelta.x)||!Rx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=oo(),this.projectionDelta=oo(),this.projectionDeltaWithTransform=oo()}setAnimationOrigin(c,d=!1){const f=this.snapshot,p=f?f.latestValues:{},m={...this.latestValues},g=oo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=Pt(),w=f?f.source:void 0,S=this.layout?this.layout.source:void 0,j=w!==S,C=this.getStack(),_=!C||C.members.length<=1,P=!!(j&&!_&&this.options.crossfade===!0&&!this.path.some($4));this.animationProgress=0;let E;this.mixTargetDelta=T=>{const D=T/1e3;Ix(g.x,c.x,D),Ix(g.y,c.y,D),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ta(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),L4(this.relativeTarget,this.relativeTargetOrigin,x,D),E&&j4(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Pt()),Hn(E,this.relativeTarget)),j&&(this.animationValues=m,g4(m,p,this.latestValues,D,P,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Cs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xt.update(()=>{Bc.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yo(0)),this.currentAnimation=d4(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(k4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:m}=c;if(!(!d||!f||!p)){if(this!==c&&this.layout&&p&&M1(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Pt();const g=cn(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+g;const x=cn(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+x}Hn(d,f),io(d,m),Na(this.projectionDeltaWithTransform,this.layoutCorrected,d,m)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new S4),this.sharedNodes.get(c).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&Gh("z",c,p,this.animationValues);for(let m=0;m<qh.length;m++)Gh(`rotate${qh[m]}`,c,p,this.animationValues),Gh(`skew${qh[m]}`,c,p,this.animationValues);c.render();for(const m in p)c.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Fc(d?.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Fc(d?.pointerEvents)||""),this.hasProjected&&!si(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const m=p.animationValues||p.latestValues;this.applyTransformsToTarget();let g=_4(this.projectionDeltaWithTransform,this.treeScale,m);f&&(g=f(m,g)),c.transform=g;const{x,y:w}=this.projectionDelta;c.transformOrigin=`${x.origin*100}% ${w.origin*100}% 0`,p.animationValues?c.opacity=p===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const S in Ba){if(m[S]===void 0)continue;const{correct:j,applyTo:C,isCSSVariable:_}=Ba[S],P=g==="none"?m[S]:j(m[S],p);if(C){const E=C.length;for(let T=0;T<E;T++)c[C[T]]=P}else _?this.options.visualElement.renderState.vars[S]=P:c[S]=P}this.options.layoutId&&(c.pointerEvents=p===this?Fc(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Ax),this.root.sharedNodes.clear()}}}function E4(t){t.updateLayout()}function N4(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:o}=t.options,l=e.source!==t.layout.source;o==="size"?Kn(m=>{const g=l?e.measuredBox[m]:e.layoutBox[m],x=cn(g);g.min=n[m].min,g.max=g.min+x}):M1(o,e.layoutBox,n)&&Kn(m=>{const g=l?e.measuredBox[m]:e.layoutBox[m],x=cn(n[m]);g.max=g.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+x)});const c=oo();Na(c,n,e.layoutBox);const d=oo();l?Na(d,t.applyTransform(s,!0),e.measuredBox):Na(d,n,e.layoutBox);const f=!A1(c);let p=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:x}=m;if(g&&x){const w=Pt();Ta(w,e.layoutBox,g.layoutBox);const S=Pt();Ta(S,n,x.layoutBox),O1(w,S)||(p=!0),m.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=w,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function T4(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function P4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function R4(t){t.clearSnapshot()}function Ax(t){t.clearMeasurements()}function Ox(t){t.isLayoutDirty=!1}function A4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Dx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function O4(t){t.resolveTargetDelta()}function D4(t){t.calcProjection()}function I4(t){t.resetSkewAndRotation()}function M4(t){t.removeLeadSnapshot()}function Ix(t,e,n){t.translate=_t(e.translate,0,n),t.scale=_t(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Mx(t,e,n,s){t.min=_t(e.min,n.min,s),t.max=_t(e.max,n.max,s)}function L4(t,e,n,s){Mx(t.x,e.x,n.x,s),Mx(t.y,e.y,n.y,s)}function $4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const V4={duration:.45,ease:[.4,0,.1,1]},Lx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),$x=Lx("applewebkit/")&&!Lx("chrome/")?Math.round:Yn;function Vx(t){t.min=$x(t.min),t.max=$x(t.max)}function F4(t){Vx(t.x),Vx(t.y)}function M1(t,e,n){return t==="position"||t==="preserve-aspect"&&!KL(Px(e),Px(n),.2)}function B4(t){return t!==t.root&&t.scroll?.wasRoot}const U4=I1({attachResizeListener:(t,e)=>Ua(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yh={current:void 0},L1=I1({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Yh.current){const t=new U4({});t.mount(window),t.setOptions({layoutScroll:!0}),Yh.current=t}return Yh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),z4={pan:{Feature:a4},drag:{Feature:o4,ProjectionNode:L1,MeasureLayout:T1}};function Fx(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=s[o];l&&xt.postRender(()=>l(e,tl(e)))}class W4 extends Ds{mount(){const{current:e}=this.node;e&&(this.unmount=dM(e,(n,s)=>(Fx(this.node,s,"Start"),o=>Fx(this.node,o,"End"))))}unmount(){}}class H4 extends Ds{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Qa(Ua(this.node.current,"focus",()=>this.onFocus()),Ua(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Bx(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=s[o];l&&xt.postRender(()=>l(e,tl(e)))}class K4 extends Ds{mount(){const{current:e}=this.node;e&&(this.unmount=mM(e,(n,s)=>(Bx(this.node,s,"Start"),(o,{success:l})=>Bx(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const rp=new WeakMap,Xh=new WeakMap,q4=t=>{const e=rp.get(t.target);e&&e(t)},G4=t=>{t.forEach(q4)};function Y4({root:t,...e}){const n=t||document;Xh.has(n)||Xh.set(n,{});const s=Xh.get(n),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver(G4,{root:t,...e})),s[o]}function X4(t,e,n){const s=Y4(e);return rp.set(t,n),s.observe(t),()=>{rp.delete(t),s.unobserve(t)}}const J4={some:0,all:1};class Q4 extends Ds{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:l}=e,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:J4[o]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:g}=this.node.getProps(),x=p?m:g;x&&x(f)};return X4(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Z4(e,n))&&this.startObserver()}unmount(){}}function Z4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const e$={inView:{Feature:Q4},tap:{Feature:K4},focus:{Feature:H4},hover:{Feature:W4}},t$={layout:{ProjectionNode:L1,MeasureLayout:T1}},n$={...FL,...e$,...z4,...t$},sp=nL(n$,mL);function r$({isOpen:t,onClose:e,title:n,children:s,snapPoints:o=[.5,.9]}){const[l,c]=b.useState(0),[d,f]=b.useState(0),[p,m]=b.useState(!1);b.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]);const g=S=>{c(S.touches[0].clientY),m(!0)},x=S=>{p&&f(S.touches[0].clientY)},w=()=>{if(!p)return;d-l>100&&e(),m(!1),f(0),c(0)};return a.jsx(JS,{children:t&&a.jsxs(a.Fragment,{children:[a.jsx(sp.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/50 z-[1040] md:hidden",style:{touchAction:"none"}}),a.jsxs(sp.div,{initial:{y:"100%"},animate:{y:p&&d>l?d-l:0},exit:{y:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:"fixed bottom-0 left-0 right-0 bg-white rounded-t-2xl shadow-2xl z-[1050] md:hidden flex flex-col",style:{maxHeight:`${o[1]*100}vh`,paddingBottom:"env(safe-area-inset-bottom, 0px)",touchAction:"none"},onTouchStart:g,onTouchMove:x,onTouchEnd:w,children:[a.jsx("div",{className:"flex items-center justify-center py-3 px-4 border-b border-gray-200",children:a.jsx("div",{className:"w-12 h-1 bg-gray-300 rounded-full"})}),n&&a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold",children:n}),a.jsx("button",{onClick:e,className:"p-2 -mr-2 hover:bg-gray-100 rounded-full transition-colors",style:{minWidth:"44px",minHeight:"44px"},children:a.jsx(kp,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto overscroll-contain",children:s})]})]})})}function s$({order:t,open:e,onClose:n,onNavigate:s,onCall:o,onSendMessage:l,onUpdateStatus:c,proofPhoto:d,recipientName:f,onRecipientNameChange:p,onPhotoCapture:m,updating:g,fileInputRef:x,getDeliveryStatusBadge:w}){const[S,j]=z.useState("info");return a.jsx(r$,{isOpen:e,onClose:n,title:t.number,children:a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"flex gap-2 border-b",children:[a.jsx("button",{onClick:()=>j("info"),className:`pb-2 px-4 ${S==="info"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600"}`,children:"Информация"}),a.jsx("button",{onClick:()=>j("delivery"),className:`pb-2 px-4 ${S==="delivery"?"border-b-2 border-blue-600 text-blue-600":"text-gray-600"}`,children:"Доставка"})]}),S==="info"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Клиент"}),a.jsx("div",{className:"font-medium",children:t.customerName})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Телефон"}),a.jsx("div",{className:"font-medium",children:t.customerPhone})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Адрес"}),a.jsx("div",{children:t.address})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Дата"}),a.jsx("div",{children:t.deliveryDate&&new Date(t.deliveryDate+"T00:00:00").toLocaleDateString("ru-RU",{day:"numeric",month:"long"})})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Время"}),a.jsx("div",{children:t.deliverySlot||"—"})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Сумма к получению"}),a.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[t.total?.toFixed(2)," BYN"]})]}),t.courierComment&&a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Комментарий курьеру"}),a.jsx("div",{className:"text-sm bg-amber-50 border border-amber-200 p-3 rounded-lg",children:t.courierComment})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 pt-4 border-t",children:[a.jsxs(Se,{onClick:s,variant:"outline",className:"flex-col h-auto py-3",children:[a.jsx(e0,{className:"h-5 w-5 mb-1"}),a.jsx("span",{className:"text-xs",children:"Маршрут"})]}),a.jsxs(Se,{onClick:o,variant:"outline",className:"flex-col h-auto py-3",children:[a.jsx(Kc,{className:"h-5 w-5 mb-1"}),a.jsx("span",{className:"text-xs",children:"Позвонить"})]}),a.jsxs(Se,{onClick:()=>l("Здравствуйте! Я курьер, скоро буду."),variant:"outline",className:"flex-col h-auto py-3",children:[a.jsx(JP,{className:"h-5 w-5 mb-1"}),a.jsx("span",{className:"text-xs",children:"SMS"})]})]})]}),S==="delivery"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Текущий статус"}),a.jsxs("div",{className:"flex items-center gap-2",children:[w(t.deliveryStatus||"assigned"),t.deliveredAt&&a.jsx("span",{className:"text-xs text-gray-500",children:new Date(t.deliveredAt).toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})})]})]}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:`flex items-center gap-2 ${t.deliveryStatus?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t.deliveryStatus?"bg-green-100":"bg-gray-200"}`,children:"1"}),a.jsx("span",{className:"text-sm",children:"Назначен"})]}),a.jsx("div",{className:"flex-1 h-0.5 bg-gray-300 mx-2"}),a.jsxs("div",{className:`flex items-center gap-2 ${t.deliveryStatus==="en_route"||t.deliveryStatus==="delivered"?"text-orange-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t.deliveryStatus==="en_route"||t.deliveryStatus==="delivered"?"bg-orange-100":"bg-gray-200"}`,children:"2"}),a.jsx("span",{className:"text-sm",children:"В пути"})]}),a.jsx("div",{className:"flex-1 h-0.5 bg-gray-300 mx-2"}),a.jsxs("div",{className:`flex items-center gap-2 ${t.deliveryStatus==="delivered"?"text-green-600":"text-gray-400"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t.deliveryStatus==="delivered"?"bg-green-100":"bg-gray-200"}`,children:"3"}),a.jsx("span",{className:"text-sm",children:"Доставлено"})]})]})}),a.jsxs("div",{className:"space-y-2",children:[(!t.deliveryStatus||t.deliveryStatus==="assigned")&&a.jsxs(Se,{onClick:()=>c("en_route"),disabled:g,className:"w-full bg-orange-600 hover:bg-orange-700",style:{minHeight:"44px"},children:[a.jsx(e0,{className:"h-4 w-4 mr-2"}),"Начать доставку"]}),t.deliveryStatus==="en_route"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-3 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-800",children:[a.jsx(Dc,{className:"h-4 w-4"}),a.jsx("span",{className:"font-medium",children:"Подтверждение доставки"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"ФИО получателя *"}),a.jsx(Fe,{value:f,onChange:C=>p(C.target.value),placeholder:"Иванов Иван Иванович",className:"bg-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700 mb-1 block",children:"Фото подтверждения *"}),a.jsx("input",{ref:x,type:"file",accept:"image/*",capture:"environment",onChange:m,className:"hidden"}),a.jsxs(Se,{onClick:()=>x.current?.click(),variant:"outline",className:"w-full bg-white",style:{minHeight:"44px"},children:[a.jsx(hP,{className:"h-4 w-4 mr-2"}),d?"✓ Фото загружено":"Сделать фото"]}),d&&a.jsxs("div",{className:"mt-2 relative",children:[a.jsx("img",{src:d,alt:"Proof",className:"rounded-lg w-full border-2 border-green-300"}),a.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white px-2 py-1 rounded-full text-xs",children:"✓ Готово"})]})]})]}),a.jsxs(Se,{onClick:()=>c("delivered"),disabled:g||!d||!f,className:"w-full bg-green-600 hover:bg-green-700",style:{minHeight:"44px"},children:[g?a.jsx(kn,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(Dc,{className:"h-4 w-4 mr-2"}),"Доставлено"]}),a.jsxs(Se,{onClick:()=>c("failed"),disabled:g,variant:"outline",className:"w-full border-red-300 text-red-700 hover:bg-red-50",style:{minHeight:"44px"},children:[a.jsx(Zy,{className:"h-4 w-4 mr-2"}),"Не доставлено"]})]}),t.deliveryStatus==="delivered"&&t.recipientName&&a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-800 mb-3",children:[a.jsx(Dc,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:"Заказ доставлен"})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Получатель: "}),a.jsx("span",{className:"font-medium",children:t.recipientName})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Время: "}),a.jsx("span",{className:"font-medium",children:t.deliveredAt&&new Date(t.deliveredAt).toLocaleString("ru-RU")})]})]}),t.proofPhotoUrl&&a.jsx("img",{src:t.proofPhotoUrl,alt:"Proof",className:"mt-3 rounded-lg w-full border border-green-300"})]}),t.deliveryStatus==="failed"&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[a.jsx(Zy,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:"Доставка не выполнена"})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Свяжитесь с менеджером для переноса доставки"})]})]})]})]})})}function i$(t,e,n){{const s=encodeURIComponent(t),o=`yandexmaps://maps.yandex.ru/?text=${s}`,l=`https://yandex.ru/maps/?text=${s}`;o$(o,()=>{window.open(l,"_blank")})}}function o$(t,e){const n=document.createElement("iframe");n.style.display="none",n.src=t,document.body.appendChild(n),setTimeout(()=>{document.body.removeChild(n),!(document.hidden||!document.hasFocus())&&e()},2e3)}function a$(t){window.location.href=`tel:${t.replace(/[^\d+]/g,"")}`}function l$(t,e){const n=encodeURIComponent(e),s=t.replace(/[^\d+]/g,""),o=/iPhone|iPad|iPod/.test(navigator.userAgent)?"&":"?";window.location.href=`sms:${s}${o}body=${n}`}function c$(){return new Promise((t,e)=>{if(!navigator.geolocation){e(new Error("Geolocation not supported"));return}navigator.geolocation.getCurrentPosition(n=>{t({lat:n.coords.latitude,lon:n.coords.longitude})},n=>{e(n)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})})}function u$(){"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registered:",t),t.addEventListener("updatefound",()=>{const e=t.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&confirm("Доступна новая версия приложения. Обновить?")&&window.location.reload()})})}).catch(t=>{console.error("SW registration failed:",t)})})}function d$(t){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e),window.addEventListener("offline",n),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}class h${dbName="crm-offline-queue";version=1;db=null;async init(){return new Promise((e,n)=>{const s=indexedDB.open(this.dbName,this.version);s.onerror=()=>n(s.error),s.onsuccess=()=>{this.db=s.result,e()},s.onupgradeneeded=o=>{const l=o.target.result;l.objectStoreNames.contains("actions")||l.createObjectStore("actions",{keyPath:"id",autoIncrement:!0})}})}async addAction(e){return this.db||await this.init(),new Promise((n,s)=>{const c=this.db.transaction(["actions"],"readwrite").objectStore("actions").add({...e,timestamp:Date.now(),synced:!1});c.onsuccess=()=>n(c.result),c.onerror=()=>s(c.error)})}async getPendingActions(){return this.db||await this.init(),new Promise((e,n)=>{const l=this.db.transaction(["actions"],"readonly").objectStore("actions").getAll();l.onsuccess=()=>{const c=l.result.filter(d=>!d.synced);e(c)},l.onerror=()=>n(l.error)})}async markAsSynced(e){return this.db||await this.init(),new Promise((n,s)=>{const c=this.db.transaction(["actions"],"readwrite").objectStore("actions").delete(e);c.onsuccess=()=>n(!0),c.onerror=()=>s(c.error)})}}const Ux=new h$;function zx({onViewOrder:t,onCreateOrder:e,initialViewMode:n}){const{user:s}=Nr(),o=Rs(s),[l,c]=b.useState([]),[d,f]=b.useState([]),[p,m]=b.useState(!0),[g,x]=b.useState(""),[w,S]=b.useState("all"),[j,C]=b.useState("all"),[_,P]=b.useState(null),[E,T]=b.useState(!1),[D,V]=b.useState(null),[R,N]=b.useState(""),[H,Z]=b.useState(!1),ie=z.useRef(null),[ue,Q]=b.useState(()=>{if(n)return n;if(o.isCourierMode){const J=localStorage.getItem("courierViewMode");if(J==="list"||J==="calendar")return J}return"list"}),[Y,X]=b.useState(new Date);b.useEffect(()=>{o.isCourierMode&&localStorage.setItem("courierViewMode",ue)},[ue,o.isCourierMode]),b.useEffect(()=>{n&&Q(n)},[n]),b.useEffect(()=>{M(),o.isCourierMode&&Ux.init()},[]);const M=async()=>{try{const[J,Pe,oe]=await Promise.all([We("/orders"),o.isCourierMode?Promise.resolve({platforms:[]}):We("/platforms"),We("/users")]),ot=new Map(oe.users.map(Mt=>[Mt.id,Mt])),Ue=J.orders.map(Mt=>({...Mt,courierName:Mt.courierId?ot.get(Mt.courierId)?.name:null})),kt=o.isCourierMode?Ue.filter(Mt=>Mt.courierId===s?.id&&Mt.deliveryDate):Ue;c(kt),f(Pe.platforms)}catch(J){J.message.includes("Offline")&&o.isCourierMode?Ce.error("Работаем в офлайн режиме"):Ce.error("Ошибка загрузки: "+J.message)}finally{m(!1)}},F=async J=>{if(confirm("Удалить этот заказ? Это действие необратимо."))try{await We(`/orders/${J}`,{method:"DELETE"}),Ce.success("Заказ удалён"),M()}catch(Pe){Ce.error("Ошибка удаления: "+Pe.message)}},O=J=>{const oe={new:{variant:"default",label:"Новый",color:"bg-blue-100 text-blue-800"},in_progress:{variant:"secondary",label:"В работе",color:"bg-yellow-100 text-yellow-800"},confirmed:{variant:"default",label:"Подтверждён",color:"bg-green-100 text-green-800"},picking:{variant:"secondary",label:"Комплектация",color:"bg-purple-100 text-purple-800"},shipped:{variant:"default",label:"Отгружен",color:"bg-indigo-100 text-indigo-800"},completed:{variant:"outline",label:"Завершён",color:"bg-gray-100 text-gray-800"},cancelled:{variant:"destructive",label:"Отменён",color:"bg-red-100 text-red-800"}}[J]||{label:J,color:"bg-gray-100 text-gray-800"};return a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${oe.color}`,children:oe.label})},K=J=>{P(J),T(!0),V(J.proofPhotoUrl||null),N(J.recipientName||"")},B=()=>{_&&i$(_.address||"")},I=()=>{_&&a$(_.customerPhone)},G=J=>{_&&l$(_.customerPhone,J)},te=J=>{const Pe=J.target.files?.[0];if(!Pe)return;const oe=new FileReader;oe.onloadend=()=>{V(oe.result)},oe.readAsDataURL(Pe)},ae=async J=>{if(_){if(J==="delivered"&&(!D||!R)){Ce.error("Загрузите фото и укажите ФИО получателя");return}try{Z(!0);let Pe=null;try{Pe=await c$()}catch(Ue){console.warn("Could not get location:",Ue)}const oe={deliveryStatus:J,proofPhotoUrl:D,recipientName:R||void 0,deliveredAt:J==="delivered"?new Date().toISOString():void 0,deliveredLat:Pe?.latitude,deliveredLng:Pe?.longitude},ot=async()=>await We(`/orders/${_.id}/delivery-status`,{method:"POST",body:JSON.stringify(oe)});try{await ot(),Ce.success("Статус обновлён")}catch(Ue){if(Ue.message.includes("Offline"))await Ux.add(ot),Ce.success("Сохранено. Отправится когда появится сеть.");else throw Ue}M(),T(!1)}catch(Pe){Ce.error("Ошибка: "+Pe.message)}finally{Z(!1)}}},fe=J=>{const Pe={assigned:{label:"Назначен",color:"bg-gray-100 text-gray-700"},en_route:{label:"В пути",color:"bg-orange-100 text-orange-700"},delivered:{label:"Доставлено",color:"bg-green-100 text-green-700"},failed:{label:"Не доставлено",color:"bg-red-100 text-red-700"}},oe=Pe[J]||Pe.assigned;return a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${oe.color}`,children:oe.label})},ge=l.filter(J=>{const Pe=J.number.toLowerCase().includes(g.toLowerCase())||J.customerName?.toLowerCase().includes(g.toLowerCase())||J.customerPhone?.toLowerCase().includes(g.toLowerCase())||J.address&&J.address.toLowerCase().includes(g.toLowerCase()),oe=w==="all"||J.status===w,ot=j==="all"||J.distribution===j;return Pe&&oe&&ot});if(p)return a.jsx("div",{className:"p-8 flex items-center justify-center",children:a.jsx(kn,{className:"h-8 w-8 animate-spin text-gray-400"})});if(o.isCourierMode&&l.length===0&&!p)return a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 p-6",children:a.jsxs("div",{className:"max-w-md text-center",children:[a.jsx(Ur,{className:"h-20 w-20 mx-auto mb-6 text-gray-300"}),a.jsx("h2",{className:"text-2xl mb-3",children:"Нет заказов"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"У вас пока нет назначенных заказов на сегодня или завтра."}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-left text-sm",children:[a.jsx("div",{className:"font-semibold text-blue-900 mb-2",children:"📋 Как получить заказы:"}),a.jsxs("ul",{className:"space-y-1 text-blue-800",children:[a.jsx("li",{children:"• Менеджер должен назначить вас на заказ"}),a.jsx("li",{children:'• Статус заказа должен быть "Подтверждён" или выше'}),a.jsx("li",{children:"• Дата доставки - сегодня или завтра"})]})]}),a.jsx("button",{onClick:M,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",style:{minHeight:"44px"},children:"Обновить"})]})});const ee=J=>{const Pe=[],oe=new Date(J);oe.setDate(oe.getDate()-oe.getDay()+1);for(let ot=0;ot<7;ot++){const Ue=new Date(oe);Ue.setDate(oe.getDate()+ot),Pe.push(Ue)}return Pe},ce=J=>{const Pe=J.toISOString().split("T")[0];return ge.filter(oe=>oe.deliveryDate===Pe)},Ne=()=>{const J=new Date(Y);J.setDate(J.getDate()-7),X(J)},Te=()=>{const J=new Date(Y);J.setDate(J.getDate()+7),X(J)},Ie=()=>{X(new Date)};if(o.isCourierMode){const J=ge.reduce((oe,ot)=>{const Ue=ot.deliverySlot||"Без времени";return oe[Ue]||(oe[Ue]=[]),oe[Ue].push(ot),oe},{}),Pe=ee(Y);return a.jsxs("div",{className:"pb-20 md:pb-8 bg-gray-50 min-h-screen",children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-20 px-4 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h1",{className:"text-2xl",children:"Мои доставки"}),a.jsxs("div",{className:"flex gap-1 bg-gray-100 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>Q("list"),className:`p-2 rounded transition-colors ${ue==="list"?"bg-white shadow-sm text-blue-600":"text-gray-600 hover:text-gray-900"}`,style:{minHeight:"44px",minWidth:"44px"},children:a.jsx(UP,{className:"h-5 w-5"})}),a.jsx("button",{onClick:()=>Q("calendar"),className:`p-2 rounded transition-colors ${ue==="calendar"?"bg-white shadow-sm text-blue-600":"text-gray-600 hover:text-gray-900"}`,style:{minHeight:"44px",minWidth:"44px"},children:a.jsx(ui,{className:"h-5 w-5"})})]})]}),a.jsx(Fe,{placeholder:"Поиск по адресу, телефону...",value:g,onChange:oe=>x(oe.target.value)})]}),ue==="list"&&a.jsx("div",{className:"p-4 space-y-6",children:Object.keys(J).length===0?a.jsxs("div",{className:"text-center text-gray-500 py-12",children:[a.jsx(Ur,{className:"h-16 w-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{children:"Нет заказов на доставку"})]}):Object.entries(J).map(([oe,ot])=>a.jsxs("div",{children:[a.jsxs("h3",{className:"text-sm text-gray-600 mb-3 flex items-center gap-2",children:[a.jsx(Oa,{className:"h-4 w-4"}),oe]}),a.jsx("div",{className:"space-y-3",children:ot.map(Ue=>a.jsxs(Ge,{onClick:()=>K(Ue),className:"cursor-pointer active:scale-[0.98] transition-transform",style:{minHeight:"44px"},children:[a.jsx(tt,{className:"pb-2",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx(nt,{className:"text-base",children:Ue.number}),a.jsx("p",{className:"text-sm text-gray-600",children:Ue.customerName})]}),fe(Ue.deliveryStatus||"assigned")]})}),a.jsxs(Ye,{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(Sf,{className:"h-4 w-4 mt-0.5 text-gray-500 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:Ue.address})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Kc,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"text-gray-700",children:Ue.customerPhone})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[a.jsx("span",{className:"text-gray-600",children:"Сумма:"}),a.jsxs("span",{children:[Ue.total?.toFixed(2)," BYN"]})]})]})]},Ue.id))})]},oe))}),ue==="calendar"&&a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-3 mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("button",{onClick:Ne,className:"p-2 hover:bg-gray-100 rounded transition-colors",style:{minHeight:"44px",minWidth:"44px"},children:"←"}),a.jsx("button",{onClick:Ie,className:"px-4 py-2 hover:bg-gray-100 rounded transition-colors text-sm",style:{minHeight:"44px"},children:"Сегодня"}),a.jsx("button",{onClick:Te,className:"p-2 hover:bg-gray-100 rounded transition-colors",style:{minHeight:"44px",minWidth:"44px"},children:"→"})]}),a.jsxs("div",{className:"text-center text-sm text-gray-600 mt-2",children:[Pe[0].toLocaleDateString("ru-RU",{day:"numeric",month:"short"})," —"," ",Pe[6].toLocaleDateString("ru-RU",{day:"numeric",month:"short",year:"numeric"})]})]}),a.jsx("div",{className:"space-y-3 md:grid md:grid-cols-7 md:gap-3 md:space-y-0",children:Pe.map((oe,ot)=>{const Ue=ce(oe),kt=oe.toDateString()===new Date().toDateString(),Mt=oe.toLocaleDateString("ru-RU",{weekday:"short"}),Kt=oe.getDate();return a.jsxs("div",{className:"flex flex-col",children:[a.jsx("div",{className:`p-3 rounded-t-lg border-b-2 ${kt?"bg-blue-50 border-blue-500":"bg-gray-50 border-gray-200"}`,children:a.jsxs("div",{className:"flex md:flex-col items-center md:text-center gap-3 md:gap-0",children:[a.jsx("div",{className:"text-xs uppercase text-gray-600",children:Mt}),a.jsx("div",{className:`text-xl ${kt?"text-blue-700":"text-gray-900"}`,children:Kt}),Ue.length>0&&a.jsxs("div",{className:"text-xs text-gray-600 md:mt-1 ml-auto md:ml-0",children:[Ue.length," ",Ue.length===1?"заказ":"заказов"]})]})}),a.jsx("div",{className:"flex-1 border border-t-0 rounded-b-lg p-2 bg-white md:min-h-[300px] space-y-2",children:Ue.length===0?a.jsx("div",{className:"text-center text-gray-400 text-sm py-4 hidden md:block",children:"Нет доставок"}):Ue.map(rt=>a.jsx(Ge,{onClick:()=>K(rt),className:"cursor-pointer hover:shadow-lg transition-all hover:border-blue-300 active:scale-[0.98]",children:a.jsxs(Ye,{className:"space-y-2 pt-[12px] pr-[12px] pb-[24px] pl-[12px]",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm truncate",children:rt.number}),a.jsxs("div",{className:"flex items-center gap-1 mt-1 flex-wrap",children:[O(rt.status),fe(rt.deliveryStatus||"assigned")]})]}),rt.distribution&&a.jsx(jr,{variant:"outline",className:"text-[10px] px-1.5 py-0 flex-shrink-0",children:rt.distribution==="minsk"?"Минск":rt.distribution==="shipping"?"Отправки":"Самовывоз"})]}),rt.deliverySlot&&a.jsxs("div",{className:"flex items-center gap-1.5 text-xs",children:[a.jsx(Oa,{className:"h-3 w-3 text-gray-500 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700 truncate",children:rt.deliverySlot})]}),a.jsxs("div",{className:"flex items-start gap-1.5 text-xs",children:[a.jsx(Kc,{className:"h-3 w-3 text-gray-500 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"text-gray-900 truncate",children:rt.customerName}),a.jsx("div",{className:"text-gray-600 text-[10px] truncate",children:rt.customerPhone})]})]}),rt.address&&a.jsxs("div",{className:"flex items-start gap-1.5 text-xs",children:[a.jsx(Sf,{className:"h-3 w-3 text-gray-500 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-gray-700 line-clamp-2 text-[11px]",children:rt.address})]}),a.jsxs("div",{className:"pt-2 border-t mt-2 flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"text-xs",children:[a.jsx("span",{className:"text-gray-500",children:"Сумма:"})," ",a.jsxs("span",{children:[rt.total?.toFixed(2)||0," BYN"]})]}),rt.deliveryDate&&a.jsx("div",{className:"text-[10px] text-gray-500",children:new Date(rt.deliveryDate).toLocaleDateString("ru-RU",{day:"numeric",month:"short"})})]})]})},rt.id))})]},ot)})}),ge.length===0&&a.jsx("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 text-blue-600 mt-0.5",children:a.jsx(ui,{className:"h-5 w-5"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-blue-900 mb-1",children:"📅 Нет заказов на эту неделю"}),a.jsx("p",{className:"text-sm text-blue-800",children:"У вас пока нет назначенных доставок на эту неделю. Заказы появятся здесь, когда менеджер назначит вас курьером."})]})]})})]}),_&&a.jsx(s$,{order:_,open:E,onClose:()=>T(!1),onNavigate:B,onCall:I,onSendMessage:G,onUpdateStatus:ae,proofPhoto:D,recipientName:R,onRecipientNameChange:N,onPhotoCapture:te,updating:H,fileInputRef:ie,getDeliveryStatusBadge:fe})]})}return a.jsxs("div",{className:"p-4 md:p-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start mb-4 md:mb-8 gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl mb-2",children:"Заказы"}),a.jsx("p",{className:"text-gray-600",children:"Управление заказами и доставкой"})]}),o.canCreateOrder&&a.jsxs(Se,{onClick:e,className:"w-full md:w-auto",children:[a.jsx(_o,{className:"h-4 w-4 mr-2"}),"Создать заказ"]})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx(he,{children:"Поиск"}),a.jsxs("div",{className:"relative",children:[a.jsx(cu,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(Fe,{className:"pl-9",placeholder:"Номер, клиент, телефон...",value:g,onChange:J=>x(J.target.value)})]})]}),a.jsxs("div",{children:[a.jsx(he,{children:"Статус"}),a.jsxs(yn,{value:w,onValueChange:S,children:[a.jsx(wn,{children:a.jsx(xn,{})}),a.jsxs(bn,{children:[a.jsx(Le,{value:"all",children:"Все статусы"}),a.jsx(Le,{value:"new",children:"Новый"}),a.jsx(Le,{value:"in_progress",children:"В работе"}),a.jsx(Le,{value:"confirmed",children:"Подтверждён"}),a.jsx(Le,{value:"picking",children:"Комплектация"}),a.jsx(Le,{value:"shipped",children:"Отгружен"}),a.jsx(Le,{value:"completed",children:"Завершён"}),a.jsx(Le,{value:"cancelled",children:"Отменён"})]})]})]}),a.jsxs("div",{children:[a.jsx(he,{children:"Распределение"}),a.jsxs(yn,{value:j,onValueChange:C,children:[a.jsx(wn,{children:a.jsx(xn,{})}),a.jsxs(bn,{children:[a.jsx(Le,{value:"all",children:"Все"}),a.jsx(Le,{value:"minsk",children:"Минск"}),a.jsx(Le,{value:"shipping",children:"Отправки"}),a.jsx(Le,{value:"pickup",children:"Самовывоз"})]})]})]})]})}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-x-auto",children:a.jsxs(cr,{children:[a.jsx(ur,{children:a.jsxs(it,{children:[a.jsx(pe,{children:"№"}),a.jsx(pe,{children:"Дата"}),a.jsx(pe,{children:"Клиент"}),a.jsx(pe,{children:"Телефон"}),a.jsx(pe,{children:"Распределение"}),a.jsx(pe,{children:"Сумма"}),a.jsx(pe,{children:"Статус"}),a.jsx(pe,{children:"Оплата"}),a.jsx(pe,{children:"Доставка"}),a.jsx(pe,{children:"Курьер"}),a.jsx(pe,{className:"text-right",children:"Действия"})]})}),a.jsx(dr,{children:ge.length===0?a.jsx(it,{children:a.jsx(de,{colSpan:11,className:"text-center text-gray-500 py-8",children:"Нет заказов"})}):ge.map(J=>a.jsxs(it,{className:"cursor-pointer hover:bg-gray-50",children:[a.jsx(de,{onClick:()=>t?.(J.id),children:J.number}),a.jsx(de,{onClick:()=>t?.(J.id),children:new Date(J.createdAt).toLocaleDateString("ru-RU")}),a.jsx(de,{onClick:()=>t?.(J.id),children:J.customerName||"—"}),a.jsx(de,{onClick:()=>t?.(J.id),children:J.customerPhone||"—"}),a.jsxs(de,{onClick:()=>t?.(J.id),children:[J.distribution==="minsk"&&"Минск",J.distribution==="shipping"&&"Отправки",J.distribution==="pickup"&&"Самовывоз",!J.distribution&&"—"]}),a.jsx(de,{onClick:()=>t?.(J.id),children:J.total?.toFixed(2)||"—"}),a.jsx(de,{onClick:()=>t?.(J.id),children:O(J.status)}),a.jsx(de,{onClick:()=>t?.(J.id),children:J.paid?a.jsx(jr,{variant:"default",children:"Оплачен"}):a.jsx(jr,{variant:"secondary",children:"Не оплачен"})}),a.jsx(de,{onClick:()=>t?.(J.id),children:J.deliveryDate?a.jsxs("div",{children:[a.jsx("div",{children:new Date(J.deliveryDate).toLocaleDateString("ru-RU")}),J.deliverySlot&&a.jsx("div",{className:"text-xs text-gray-600",children:J.deliverySlot})]}):"—"}),a.jsx(de,{onClick:()=>t?.(J.id),children:J.courierName?a.jsxs("span",{className:"px-2 py-1 rounded-full text-xs bg-green-100 text-green-700",children:["🚚 ",J.courierName]}):J.deliveryDate&&a.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-orange-100 text-orange-600",children:"⚠️ Не назначен"})}),a.jsxs(de,{className:"text-right",children:[a.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>t?.(J.id),children:a.jsx(DP,{className:"h-4 w-4"})}),a.jsx(Se,{variant:"ghost",size:"sm",onClick:Pe=>{Pe.stopPropagation(),F(J.id)},children:a.jsx(fi,{className:"h-4 w-4 text-red-600"})})]})]},J.id))})]})})]})}function f$({orderId:t,onBack:e}){const{user:n}=Nr(),s=Rs(n),[o,l]=b.useState(null),[c,d]=b.useState([]),[f,p]=b.useState([]),[m,g]=b.useState([]),[x,w]=b.useState([]),[S,j]=b.useState([]),[C,_]=b.useState(!0),[P,E]=b.useState(!1),[T,D]=b.useState({status:"new",platformId:0,distribution:"minsk",customerName:"",customerPhone:"",customerEmail:"",customerComment:"",address:"",deliveryDate:"",deliverySlot:"not_specified",courierId:null,courierComment:"",total:0,discount:0,deliveryCost:0,prepayment:0,paymentMethod:"cash",paid:!1});b.useEffect(()=>{V()},[t]);const V=async()=>{try{const[M,F,O,K]=await Promise.all([We("/products"),We("/platforms"),We("/users"),We("/products").then(async()=>{const B=await We("/products"),I=[];for(const G of B.products)if(G.hasSerial){const te=await We(`/products/${G.id}`);I.push(...te.stockUnits||[])}return I})]);if(p(M.products),g(F.platforms),j(O.users),w(K),t){const B=await We(`/orders/${t}`);l(B.order),d(B.items||[]),D({status:B.order.status,platformId:B.order.platformId||0,distribution:B.order.distribution||"minsk",customerName:B.order.customerName||"",customerPhone:B.order.customerPhone||"",customerEmail:B.order.customerEmail||"",customerComment:B.order.customerComment||"",address:B.order.address||"",deliveryDate:B.order.deliveryDate||"",deliverySlot:B.order.deliverySlot||"not_specified",courierId:B.order.courierId||null,courierComment:B.order.courierComment||"",total:B.order.total||0,discount:B.order.discount||0,deliveryCost:B.order.deliveryCost||0,prepayment:B.order.prepayment||0,paymentMethod:B.order.paymentMethod||"cash",paid:B.order.paid||!1})}}catch(M){Ce.error("Ошибка загрузки: "+M.message)}finally{_(!1)}},R=()=>{d([...c,{productId:0,productName:"",quantity:1,price:0,discount:0,amount:0,isAccessory:!1}])},N=(M,F,O)=>{const K=[...c];if(K[M]={...K[M],[F]:O},F==="quantity"||F==="price"||F==="discount"){const I=K[M];I.amount=I.quantity*I.price*(1-I.discount/100)}if(F==="productId"){const I=f.find(G=>G.id===O);I&&(K[M].productName=`${I.brand} ${I.model}`,K[M].price=I.priceSell,K[M].amount=K[M].quantity*I.priceSell)}d(K);const B=K.reduce((I,G)=>I+G.amount,0);D({...T,total:B-T.discount+T.deliveryCost})},H=M=>{const F=c.filter((K,B)=>B!==M);d(F);const O=F.reduce((K,B)=>K+B.amount,0);D({...T,total:O-T.discount+T.deliveryCost})},Z=async()=>{try{if(E(!0),!T.customerName||!T.customerPhone){Ce.error("Укажите имя и телефон клиента");return}if(c.length===0){Ce.error("Добавьте товары в заказ");return}const M={order:{...T,deliverySlot:T.deliverySlot==="not_specified"?"":T.deliverySlot},items:c.map(F=>({productId:F.productId,name:F.productName,quantity:F.quantity,price:F.price,discount:F.discount,amount:F.amount,serial:F.serial,isAccessory:F.isAccessory}))};t?(await We(`/orders/${t}`,{method:"PUT",body:JSON.stringify(M)}),Ce.success("Заказ обновлён")):(await We("/orders",{method:"POST",body:JSON.stringify(M)}),Ce.success("Заказ создан"),e())}catch(M){Ce.error("Ошибка сохранения: "+M.message)}finally{E(!1)}},ie=async M=>{try{await We(`/orders/${t}/status`,{method:"POST",body:JSON.stringify({status:M})}),Ce.success("Статус изменён"),D({...T,status:M}),V()}catch(F){Ce.error("Ошибка: "+F.message)}};if(C)return a.jsx("div",{className:"p-8 flex items-center justify-center",children:a.jsx(kn,{className:"h-8 w-8 animate-spin text-gray-400"})});const ue=M=>({new:"bg-blue-100 text-blue-800",in_progress:"bg-yellow-100 text-yellow-800",confirmed:"bg-green-100 text-green-800",picking:"bg-purple-100 text-purple-800",shipped:"bg-indigo-100 text-indigo-800",completed:"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800"})[M]||"bg-gray-100 text-gray-800",Q={new:"Новый",in_progress:"В работе",confirmed:"Подтверждён",picking:"Комплектация",shipped:"Отгружен",completed:"Завершён",cancelled:"Отменён"},Y=t?s.canEditOrder:s.canCreateOrder,X=s.canEditOrder;return a.jsxs("div",{className:"p-4 md:p-8 pb-20 md:pb-8",children:[a.jsxs(Se,{onClick:e,variant:"outline",className:"mb-4 md:mb-6",children:[a.jsx(wf,{className:"h-4 w-4 mr-2"}),"Назад к списку"]}),!Y&&t&&a.jsx("div",{className:"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-yellow-800",children:"ℹ️ У вас нет прав на редактирование этого заказа. Вы можете только просматривать информацию."})}),a.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start mb-4 md:mb-6 gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl mb-2",children:t?`Заказ ${o?.number}`:"Новый заказ"}),t&&a.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${ue(T.status)}`,children:Q[T.status]||T.status})]}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[t&&T.status!=="completed"&&X&&a.jsxs(yn,{value:T.status,onValueChange:ie,children:[a.jsx(wn,{className:"w-full md:w-48",children:a.jsx(xn,{})}),a.jsxs(bn,{children:[a.jsx(Le,{value:"new",children:"Новый"}),a.jsx(Le,{value:"in_progress",children:"В работе"}),a.jsx(Le,{value:"confirmed",children:"Подтверждён"}),a.jsx(Le,{value:"picking",children:"Комплектация"}),a.jsx(Le,{value:"shipped",children:"Отгружен"}),a.jsx(Le,{value:"completed",children:"Завершён"}),a.jsx(Le,{value:"cancelled",children:"Отменён"})]})]}),Y&&a.jsxs(Se,{onClick:Z,disabled:P,className:"flex-1 md:flex-initial",children:[P?a.jsx(kn,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(r2,{className:"h-4 w-4 mr-2"}),"Сохранить"]})]})]}),a.jsxs("div",{className:"space-y-4 md:space-y-6",children:[a.jsxs(Ge,{children:[a.jsx(tt,{children:a.jsx(nt,{children:"Информация о клиенте"})}),a.jsxs(Ye,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"customerName",children:"ФИО / Компания *"}),a.jsx(Fe,{id:"customerName",value:T.customerName,onChange:M=>D({...T,customerName:M.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"customerPhone",children:"Телефон *"}),a.jsx(Fe,{id:"customerPhone",value:T.customerPhone,onChange:M=>D({...T,customerPhone:M.target.value}),placeholder:"+375 ..."})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"customerEmail",children:"Email"}),a.jsx(Fe,{id:"customerEmail",type:"email",value:T.customerEmail,onChange:M=>D({...T,customerEmail:M.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"platformId",children:"Платформа"}),a.jsxs(yn,{value:T.platformId.toString(),onValueChange:M=>D({...T,platformId:parseInt(M)}),children:[a.jsx(wn,{children:a.jsx(xn,{placeholder:"Выберите платформу"})}),a.jsxs(bn,{children:[a.jsx(Le,{value:"0",children:"Не указана"}),m.map(M=>a.jsx(Le,{value:M.id.toString(),children:M.name},M.id))]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"customerComment",children:"Комментарий клиента"}),a.jsx(Da,{id:"customerComment",value:T.customerComment,onChange:M=>D({...T,customerComment:M.target.value})})]})]})]}),a.jsxs(Ge,{children:[a.jsx(tt,{children:a.jsx(nt,{children:"Логистика"})}),a.jsxs(Ye,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"distribution",children:"Распределение"}),a.jsxs(yn,{value:T.distribution,onValueChange:M=>D({...T,distribution:M}),children:[a.jsx(wn,{children:a.jsx(xn,{})}),a.jsxs(bn,{children:[a.jsx(Le,{value:"minsk",children:"Минск"}),a.jsx(Le,{value:"shipping",children:"Отправки"}),a.jsx(Le,{value:"pickup",children:"Самовывоз"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"deliveryDate",children:"Дата доставки"}),a.jsx(Fe,{id:"deliveryDate",type:"date",value:T.deliveryDate,onChange:M=>D({...T,deliveryDate:M.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"deliverySlot",children:"Временной интервал"}),a.jsxs(yn,{value:T.deliverySlot,onValueChange:M=>D({...T,deliverySlot:M}),children:[a.jsx(wn,{children:a.jsx(xn,{placeholder:"Выберите интервал"})}),a.jsxs(bn,{children:[a.jsx(Le,{value:"not_specified",children:"Не указан"}),a.jsx(Le,{value:"09:00-12:00",children:"09:00-12:00"}),a.jsx(Le,{value:"12:00-15:00",children:"12:00-15:00"}),a.jsx(Le,{value:"15:00-18:00",children:"15:00-18:00"}),a.jsx(Le,{value:"18:00-21:00",children:"18:00-21:00"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"address",children:"Адрес доставки"}),a.jsx(Fe,{id:"address",value:T.address,onChange:M=>D({...T,address:M.target.value}),placeholder:"Улица, дом, квартира"})]}),s.canAssignCourier&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"courierId",children:"Курьер"}),a.jsxs(yn,{value:T.courierId||"not_assigned",onValueChange:M=>D({...T,courierId:M==="not_assigned"?null:M}),children:[a.jsx(wn,{children:a.jsx(xn,{placeholder:"Выберите курьера"})}),a.jsxs(bn,{children:[a.jsx(Le,{value:"not_assigned",children:"Не назначен"}),S.filter(M=>M.role==="courier").map(M=>a.jsx(Le,{value:M.id,children:M.name},M.id))]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:'💡 Курьер увидит заказ если: статус "Подтверждён" или выше + дата сегодня/завтра'})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"courierComment",children:"Комментарий для курьера"}),a.jsx(Da,{id:"courierComment",value:T.courierComment,onChange:M=>D({...T,courierComment:M.target.value}),placeholder:"Особые указания для доставки",rows:3})]})]})]})]}),a.jsxs(Ge,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(nt,{children:"Состав заказа"}),(s.canEditOrder||s.canCreateOrder)&&a.jsxs(Se,{onClick:R,size:"sm",children:[a.jsx(_o,{className:"h-4 w-4 mr-2"}),"Добавить товар"]})]})}),a.jsx(Ye,{children:a.jsx("div",{className:"border rounded-lg overflow-x-auto",children:a.jsxs(cr,{children:[a.jsx(ur,{children:a.jsxs(it,{children:[a.jsx(pe,{children:"Товар"}),a.jsx(pe,{children:"Кол-во"}),a.jsx(pe,{children:"Цена"}),a.jsx(pe,{children:"Скидка %"}),a.jsx(pe,{children:"Сумма"}),a.jsx(pe,{children:"Серийник"}),a.jsx(pe,{children:"Аксессуар"}),a.jsx(pe,{})]})}),a.jsx(dr,{children:c.length===0?a.jsx(it,{children:a.jsx(de,{colSpan:8,className:"text-center text-gray-500 py-4",children:"Нет товаров"})}):c.map((M,F)=>{const O=f.find(B=>B.id===M.productId),K=x.filter(B=>B.productId===M.productId&&B.status==="available");return a.jsxs(it,{children:[a.jsx(de,{children:a.jsxs(yn,{value:M.productId.toString(),onValueChange:B=>N(F,"productId",parseInt(B)),children:[a.jsx(wn,{className:"w-48",children:a.jsx(xn,{placeholder:"Выберите товар"})}),a.jsx(bn,{children:f.map(B=>a.jsxs(Le,{value:B.id.toString(),children:[B.brand," ",B.model]},B.id))})]})}),a.jsx(de,{children:a.jsx(Fe,{type:"number",value:M.quantity,onChange:B=>N(F,"quantity",parseInt(B.target.value)),className:"w-20"})}),a.jsx(de,{children:a.jsx(Fe,{type:"number",value:M.price,onChange:B=>N(F,"price",parseFloat(B.target.value)),className:"w-24"})}),a.jsx(de,{children:a.jsx(Fe,{type:"number",value:M.discount,onChange:B=>N(F,"discount",parseFloat(B.target.value)),className:"w-20"})}),a.jsx(de,{children:M.amount.toFixed(2)}),a.jsx(de,{children:O?.hasSerial?a.jsxs(yn,{value:M.serial||"",onValueChange:B=>N(F,"serial",B),children:[a.jsx(wn,{className:"w-32",children:a.jsx(xn,{placeholder:"Выберите"})}),a.jsx(bn,{children:K.map(B=>a.jsx(Le,{value:B.serial,children:B.serial},B.id))})]}):"—"}),a.jsx(de,{children:a.jsx("input",{type:"checkbox",checked:M.isAccessory,onChange:B=>N(F,"isAccessory",B.target.checked),className:"h-4 w-4"})}),a.jsx(de,{children:(s.canEditOrder||s.canCreateOrder)&&a.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>H(F),children:a.jsx(fi,{className:"h-4 w-4 text-red-600"})})})]},F)})})]})})})]}),a.jsxs(Ge,{children:[a.jsx(tt,{children:a.jsx(nt,{children:"Финансовая информация"})}),a.jsxs(Ye,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"discount",children:"Скидка"}),a.jsx(Fe,{id:"discount",type:"number",value:T.discount,onChange:M=>{const F=parseFloat(M.target.value),O=c.reduce((K,B)=>K+B.amount,0);D({...T,discount:F,total:O-F+T.deliveryCost})}})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"deliveryCost",children:"Стоимость доставки"}),a.jsx(Fe,{id:"deliveryCost",type:"number",value:T.deliveryCost,onChange:M=>{const F=parseFloat(M.target.value),O=c.reduce((K,B)=>K+B.amount,0);D({...T,deliveryCost:F,total:O-T.discount+F})}})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"prepayment",children:"Предоплата"}),a.jsx(Fe,{id:"prepayment",type:"number",value:T.prepayment,onChange:M=>D({...T,prepayment:parseFloat(M.target.value)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"paymentMethod",children:"Способ оплаты"}),a.jsxs(yn,{value:T.paymentMethod,onValueChange:M=>D({...T,paymentMethod:M}),children:[a.jsx(wn,{children:a.jsx(xn,{})}),a.jsxs(bn,{children:[a.jsx(Le,{value:"cash",children:"Наличные"}),a.jsx(Le,{value:"card",children:"Карта"}),a.jsx(Le,{value:"transfer",children:"Перевод"}),a.jsx(Le,{value:"online",children:"Онлайн"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2 pt-8",children:[a.jsx("input",{type:"checkbox",id:"paid",checked:T.paid,onChange:M=>D({...T,paid:M.target.checked}),className:"h-4 w-4 rounded border-gray-300"}),a.jsx(he,{htmlFor:"paid",children:"Оплачено"})]})]}),a.jsx("div",{className:"pt-4 border-t",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xl",children:"Итоговая сумма:"}),a.jsxs("span",{className:"text-3xl",children:[T.total.toFixed(2)," BYN"]})]})})]})]})]})]})}function p$(){const[t,e]=b.useState([]),[n,s]=b.useState(!0),[o,l]=b.useState("");b.useEffect(()=>{c()},[]);const c=async()=>{try{const f=await We("/customers");e(f.customers)}catch(f){Ce.error("Ошибка загрузки: "+f.message)}finally{s(!1)}},d=t.filter(f=>f.name?.toLowerCase().includes(o.toLowerCase())||f.phone?.toLowerCase().includes(o.toLowerCase())||f.email?.toLowerCase().includes(o.toLowerCase()));return n?a.jsx("div",{className:"p-4 md:p-8 flex items-center justify-center",children:a.jsx(kn,{className:"h-8 w-8 animate-spin text-gray-400"})}):a.jsxs("div",{className:"p-4 md:p-8",children:[a.jsxs("div",{className:"mb-4 md:mb-8",children:[a.jsx("h1",{className:"text-2xl md:text-3xl mb-2",children:"Клиенты"}),a.jsx("p",{className:"text-gray-600",children:"База клиентов и история заказов"})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-4 md:mb-6",children:a.jsxs("div",{className:"max-w-md",children:[a.jsx(he,{children:"Поиск"}),a.jsxs("div",{className:"relative",children:[a.jsx(cu,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(Fe,{className:"pl-9",placeholder:"Имя, телефон, email...",value:o,onChange:f=>l(f.target.value)})]})]})}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-x-auto",children:a.jsxs(cr,{children:[a.jsx(ur,{children:a.jsxs(it,{children:[a.jsx(pe,{children:"Клиент"}),a.jsx(pe,{children:"Телефон"}),a.jsx(pe,{children:"Email"}),a.jsx(pe,{children:"Количество заказов"}),a.jsx(pe,{children:"Общая сумма"}),a.jsx(pe,{children:"Последний заказ"}),a.jsx(pe,{children:"Средний чек"})]})}),a.jsx(dr,{children:d.length===0?a.jsx(it,{children:a.jsx(de,{colSpan:7,className:"text-center text-gray-500 py-8",children:"Нет клиентов"})}):d.map(f=>{const p=f.totalSpent/f.orderCount;return a.jsxs(it,{className:"cursor-pointer hover:bg-gray-50",children:[a.jsx(de,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 flex items-center justify-center",children:a.jsx(_f,{className:"h-4 w-4 text-blue-600"})}),a.jsx("span",{children:f.name||"—"})]})}),a.jsx(de,{children:f.phone||"—"}),a.jsx(de,{children:f.email||"—"}),a.jsx(de,{children:f.orderCount}),a.jsxs(de,{children:[f.totalSpent.toFixed(2)," BYN"]}),a.jsx(de,{children:f.lastOrderDate?new Date(f.lastOrderDate).toLocaleDateString("ru-RU"):"—"}),a.jsxs(de,{children:[p.toFixed(2)," BYN"]})]},f.id)})})]})}),d.length>0&&a.jsxs("div",{className:"mt-4 md:mt-6 grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("div",{className:"text-gray-600 mb-2",children:"Всего клиентов"}),a.jsx("div",{className:"text-3xl",children:d.length})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("div",{className:"text-gray-600 mb-2",children:"Общая сумма продаж"}),a.jsxs("div",{className:"text-3xl",children:[d.reduce((f,p)=>f+p.totalSpent,0).toFixed(2)," BYN"]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("div",{className:"text-gray-600 mb-2",children:"Средний чек"}),a.jsxs("div",{className:"text-3xl",children:[(d.reduce((f,p)=>f+p.totalSpent,0)/d.reduce((f,p)=>f+p.orderCount,0)).toFixed(2)," BYN"]})]})]})]})}function m$(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const $1=z.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),nl=()=>{const t=z.useContext($1);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};m$(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function g$(){const t=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(t)&&/Mobile/.test(t)||/FxiOS/.test(t))}function v$(){return Em(/^Mac/)}function y$(){return Em(/^iPhone/)}function Wx(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function x$(){return Em(/^iPad/)||v$()&&navigator.maxTouchPoints>1}function V1(){return y$()||x$()}function Em(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const w$=24,b$=typeof window<"u"?b.useLayoutEffect:b.useEffect;function Hx(...t){return(...e)=>{for(let n of t)typeof n=="function"&&n(...e)}}const Jh=typeof document<"u"&&window.visualViewport;function Kx(t){let e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function F1(t){for(Kx(t)&&(t=t.parentElement);t&&!Kx(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const j$=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Ac=0,Qh;function S$(t={}){let{isDisabled:e}=t;b$(()=>{if(!e)return Ac++,Ac===1&&V1()&&(Qh=_$()),()=>{Ac--,Ac===0&&Qh?.()}},[e])}function _$(){let t,e=0,n=g=>{t=F1(g.target),!(t===document.documentElement&&t===document.body)&&(e=g.changedTouches[0].pageY)},s=g=>{if(!t||t===document.documentElement||t===document.body){g.preventDefault();return}let x=g.changedTouches[0].pageY,w=t.scrollTop,S=t.scrollHeight-t.clientHeight;S!==0&&((w<=0&&x>e||w>=S&&x<e)&&g.preventDefault(),e=x)},o=g=>{let x=g.target;ip(x)&&x!==document.activeElement&&(g.preventDefault(),x.style.transform="translateY(-2000px)",x.focus(),requestAnimationFrame(()=>{x.style.transform=""}))},l=g=>{let x=g.target;ip(x)&&(x.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{x.style.transform="",Jh&&(Jh.height<window.innerHeight?requestAnimationFrame(()=>{qx(x)}):Jh.addEventListener("resize",()=>qx(x),{once:!0}))}))},c=()=>{window.scrollTo(0,0)},d=window.pageXOffset,f=window.pageYOffset,p=Hx(k$(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let m=Hx(ma(document,"touchstart",n,{passive:!1,capture:!0}),ma(document,"touchmove",s,{passive:!1,capture:!0}),ma(document,"touchend",o,{passive:!1,capture:!0}),ma(document,"focus",l,!0),ma(window,"scroll",c));return()=>{p(),m(),window.scrollTo(d,f)}}function k$(t,e,n){let s=t.style[e];return t.style[e]=n,()=>{t.style[e]=s}}function ma(t,e,n,s){return t.addEventListener(e,n,s),()=>{t.removeEventListener(e,n,s)}}function qx(t){let e=document.scrollingElement||document.documentElement;for(;t&&t!==e;){let n=F1(t);if(n!==document.documentElement&&n!==document.body&&n!==t){let s=n.getBoundingClientRect().top,o=t.getBoundingClientRect().top,l=t.getBoundingClientRect().bottom;const c=n.getBoundingClientRect().bottom+w$;l>c&&(n.scrollTop+=o-s)}t=n.parentElement}}function ip(t){return t instanceof HTMLInputElement&&!j$.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function C$(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function E$(...t){return e=>t.forEach(n=>C$(n,e))}function B1(...t){return b.useCallback(E$(...t),t)}const U1=new WeakMap;function Ut(t,e,n=!1){if(!t||!(t instanceof HTMLElement))return;let s={};Object.entries(e).forEach(([o,l])=>{if(o.startsWith("--")){t.style.setProperty(o,l);return}s[o]=t.style[o],t.style[o]=l}),!n&&U1.set(t,s)}function N$(t,e){if(!t||!(t instanceof HTMLElement))return;let n=U1.get(t);n&&(t.style[e]=n[e])}const Dt=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function Oc(t,e){if(!t)return null;const n=window.getComputedStyle(t),s=n.transform||n.webkitTransform||n.mozTransform;let o=s.match(/^matrix3d\((.+)\)$/);return o?parseFloat(o[1].split(", ")[Dt(e)?13:12]):(o=s.match(/^matrix\((.+)\)$/),o?parseFloat(o[1].split(", ")[Dt(e)?5:4]):null)}function T$(t){return 8*(Math.log(t+1)-2)}function Zh(t,e){if(!t)return()=>{};const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function P$(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}const St={DURATION:.5,EASE:[.32,.72,0,1]},z1=.4,R$=.25,A$=100,W1=8,ni=16,op=26,ef="vaul-dragging";function H1(t){const e=z.useRef(t);return z.useEffect(()=>{e.current=t}),z.useMemo(()=>(...n)=>e.current==null?void 0:e.current.call(e,...n),[])}function O$({defaultProp:t,onChange:e}){const n=z.useState(t),[s]=n,o=z.useRef(s),l=H1(e);return z.useEffect(()=>{o.current!==s&&(l(s),o.current=s)},[s,o,l]),n}function K1({prop:t,defaultProp:e,onChange:n=()=>{}}){const[s,o]=O$({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:s,d=H1(n),f=z.useCallback(p=>{if(l){const g=typeof p=="function"?p(t):p;g!==t&&d(g)}else o(p)},[l,t,o,d]);return[c,f]}function D$({activeSnapPointProp:t,setActiveSnapPointProp:e,snapPoints:n,drawerRef:s,overlayRef:o,fadeFromIndex:l,onSnapPointChange:c,direction:d="bottom",container:f,snapToSequentialPoint:p}){const[m,g]=K1({prop:t,defaultProp:n?.[0],onChange:e}),[x,w]=z.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);z.useEffect(()=>{function R(){w({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]);const S=z.useMemo(()=>m===n?.[n.length-1]||null,[n,m]),j=z.useMemo(()=>{var R;return(R=n?.findIndex(N=>N===m))!=null?R:null},[n,m]),C=n&&n.length>0&&(l||l===0)&&!Number.isNaN(l)&&n[l]===m||!n,_=z.useMemo(()=>{const R=f?{width:f.getBoundingClientRect().width,height:f.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var N;return(N=n?.map(H=>{const Z=typeof H=="string";let ie=0;if(Z&&(ie=parseInt(H,10)),Dt(d)){const Q=Z?ie:x?H*R.height:0;return x?d==="bottom"?R.height-Q:-R.height+Q:Q}const ue=Z?ie:x?H*R.width:0;return x?d==="right"?R.width-ue:-R.width+ue:ue}))!=null?N:[]},[n,x,f]),P=z.useMemo(()=>j!==null?_?.[j]:null,[_,j]),E=z.useCallback(R=>{var N;const H=(N=_?.findIndex(Z=>Z===R))!=null?N:null;c(H),Ut(s.current,{transition:`transform ${St.DURATION}s cubic-bezier(${St.EASE.join(",")})`,transform:Dt(d)?`translate3d(0, ${R}px, 0)`:`translate3d(${R}px, 0, 0)`}),_&&H!==_.length-1&&l!==void 0&&H!==l&&H<l?Ut(o.current,{transition:`opacity ${St.DURATION}s cubic-bezier(${St.EASE.join(",")})`,opacity:"0"}):Ut(o.current,{transition:`opacity ${St.DURATION}s cubic-bezier(${St.EASE.join(",")})`,opacity:"1"}),g(n?.[Math.max(H,0)])},[s.current,n,_,l,o,g]);z.useEffect(()=>{if(m||t){var R;const N=(R=n?.findIndex(H=>H===t||H===m))!=null?R:-1;_&&N!==-1&&typeof _[N]=="number"&&E(_[N])}},[m,t,n,_,E]);function T({draggedDistance:R,closeDrawer:N,velocity:H,dismissible:Z}){if(l===void 0)return;const ie=d==="bottom"||d==="right"?(P??0)-R:(P??0)+R,ue=j===l-1,Q=j===0,Y=R>0;if(ue&&Ut(o.current,{transition:`opacity ${St.DURATION}s cubic-bezier(${St.EASE.join(",")})`}),!p&&H>2&&!Y){Z?N():E(_[0]);return}if(!p&&H>2&&Y&&_&&n){E(_[n.length-1]);return}const X=_?.reduce((F,O)=>typeof F!="number"||typeof O!="number"?F:Math.abs(O-ie)<Math.abs(F-ie)?O:F),M=Dt(d)?window.innerHeight:window.innerWidth;if(H>z1&&Math.abs(R)<M*.4){const F=Y?1:-1;if(F>0&&S&&n){E(_[n.length-1]);return}if(Q&&F<0&&Z&&N(),j===null)return;E(_[j+F]);return}E(X)}function D({draggedDistance:R}){if(P===null)return;const N=d==="bottom"||d==="right"?P-R:P+R;(d==="bottom"||d==="right")&&N<_[_.length-1]||(d==="top"||d==="left")&&N>_[_.length-1]||Ut(s.current,{transform:Dt(d)?`translate3d(0, ${N}px, 0)`:`translate3d(${N}px, 0, 0)`})}function V(R,N){if(!n||typeof j!="number"||!_||l===void 0)return null;const H=j===l-1;if(j>=l&&N)return 0;if(H&&!N)return 1;if(!C&&!H)return null;const ie=H?j+1:j-1,ue=H?_[ie]-_[ie-1]:_[ie+1]-_[ie],Q=R/Math.abs(ue);return H?1-Q:Q}return{isLastSnapPoint:S,activeSnapPoint:m,shouldFade:C,getPercentageDragged:V,setActiveSnapPoint:g,activeSnapPointIndex:j,onRelease:T,onDrag:D,snapPointsOffset:_}}const I$=()=>()=>{};function M$(){const{direction:t,isOpen:e,shouldScaleBackground:n,setBackgroundColorOnScale:s,noBodyStyles:o}=nl(),l=z.useRef(null),c=b.useMemo(()=>document.body.style.backgroundColor,[]);function d(){return(window.innerWidth-op)/window.innerWidth}z.useEffect(()=>{if(e&&n){l.current&&clearTimeout(l.current);const f=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!f)return;P$(s&&!o?Zh(document.body,{background:"black"}):I$,Zh(f,{transformOrigin:Dt(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${St.DURATION}s`,transitionTimingFunction:`cubic-bezier(${St.EASE.join(",")})`}));const p=Zh(f,{borderRadius:`${W1}px`,overflow:"hidden",...Dt(t)?{transform:`scale(${d()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${d()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{p(),l.current=window.setTimeout(()=>{c?document.body.style.background=c:document.body.style.removeProperty("background")},St.DURATION*1e3)}}},[e,n,c])}let ga=null;function L$({isOpen:t,modal:e,nested:n,hasBeenOpened:s,preventScrollRestoration:o,noBodyStyles:l}){const[c,d]=z.useState(()=>typeof window<"u"?window.location.href:""),f=z.useRef(0),p=z.useCallback(()=>{if(Wx()&&ga===null&&t&&!l){ga={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:g,innerHeight:x}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-f.current}px`,left:`${-g}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const w=x-window.innerHeight;w&&f.current>=x&&(document.body.style.top=`${-(f.current+w)}px`)}),300)}},[t]),m=z.useCallback(()=>{if(Wx()&&ga!==null&&!l){const g=-parseInt(document.body.style.top,10),x=-parseInt(document.body.style.left,10);Object.assign(document.body.style,ga),window.requestAnimationFrame(()=>{if(o&&c!==window.location.href){d(window.location.href);return}window.scrollTo(x,g)}),ga=null}},[c]);return z.useEffect(()=>{function g(){f.current=window.scrollY}return g(),window.addEventListener("scroll",g),()=>{window.removeEventListener("scroll",g)}},[]),z.useEffect(()=>{if(e)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||m()}},[e,m]),z.useEffect(()=>{n||!s||(t?(!window.matchMedia("(display-mode: standalone)").matches&&p(),e||window.setTimeout(()=>{m()},500)):m())},[t,s,c,e,n,p,m]),{restorePositionSetting:m}}function $$({open:t,onOpenChange:e,children:n,onDrag:s,onRelease:o,snapPoints:l,shouldScaleBackground:c=!1,setBackgroundColorOnScale:d=!0,closeThreshold:f=R$,scrollLockTimeout:p=A$,dismissible:m=!0,handleOnly:g=!1,fadeFromIndex:x=l&&l.length-1,activeSnapPoint:w,setActiveSnapPoint:S,fixed:j,modal:C=!0,onClose:_,nested:P,noBodyStyles:E=!1,direction:T="bottom",defaultOpen:D=!1,disablePreventScroll:V=!0,snapToSequentialPoint:R=!1,preventScrollRestoration:N=!1,repositionInputs:H=!0,onAnimationEnd:Z,container:ie,autoFocus:ue=!1}){var Q,Y;const[X=!1,M]=K1({defaultProp:D,prop:t,onChange:_e=>{e?.(_e),!_e&&!P&&Ms(),setTimeout(()=>{Z?.(_e)},St.DURATION*1e3),_e&&!C&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),_e||(document.body.style.pointerEvents="auto")}}),[F,O]=z.useState(!1),[K,B]=z.useState(!1),[I,G]=z.useState(!1),te=z.useRef(null),ae=z.useRef(null),fe=z.useRef(null),ge=z.useRef(null),ee=z.useRef(null),ce=z.useRef(!1),Ne=z.useRef(null),Te=z.useRef(0),Ie=z.useRef(!1),J=z.useRef(!D),Pe=z.useRef(0),oe=z.useRef(null),ot=z.useRef(((Q=oe.current)==null?void 0:Q.getBoundingClientRect().height)||0),Ue=z.useRef(((Y=oe.current)==null?void 0:Y.getBoundingClientRect().width)||0),kt=z.useRef(0),Mt=z.useCallback(_e=>{l&&_e===sn.length-1&&(ae.current=new Date)},[]),{activeSnapPoint:Kt,activeSnapPointIndex:rt,setActiveSnapPoint:Xn,onRelease:Lt,snapPointsOffset:sn,onDrag:xi,shouldFade:Is,getPercentageDragged:Pr}=D$({snapPoints:l,activeSnapPointProp:w,setActiveSnapPointProp:S,drawerRef:oe,fadeFromIndex:x,overlayRef:te,onSnapPointChange:Mt,direction:T,container:ie,snapToSequentialPoint:R});S$({isDisabled:!X||K||!C||I||!F||!H||!V});const{restorePositionSetting:Ms}=L$({isOpen:X,modal:C,nested:P??!1,hasBeenOpened:F,preventScrollRestoration:N,noBodyStyles:E});function Ln(){return(window.innerWidth-op)/window.innerWidth}function Gr(_e){var Je,Qe;!m&&!l||oe.current&&!oe.current.contains(_e.target)||(ot.current=((Je=oe.current)==null?void 0:Je.getBoundingClientRect().height)||0,Ue.current=((Qe=oe.current)==null?void 0:Qe.getBoundingClientRect().width)||0,B(!0),fe.current=new Date,V1()&&window.addEventListener("touchend",()=>ce.current=!1,{once:!0}),_e.target.setPointerCapture(_e.pointerId),Te.current=Dt(T)?_e.pageY:_e.pageX)}function on(_e,Je){var Qe;let ze=_e;const ht=(Qe=window.getSelection())==null?void 0:Qe.toString(),Ee=oe.current?Oc(oe.current,T):null,qe=new Date;if(ze.tagName==="SELECT"||ze.hasAttribute("data-vaul-no-drag")||ze.closest("[data-vaul-no-drag]"))return!1;if(T==="right"||T==="left")return!0;if(ae.current&&qe.getTime()-ae.current.getTime()<500)return!1;if(Ee!==null&&(T==="bottom"?Ee>0:Ee<0))return!0;if(ht&&ht.length>0)return!1;if(ee.current&&qe.getTime()-ee.current.getTime()<p&&Ee===0||Je)return ee.current=qe,!1;for(;ze;){if(ze.scrollHeight>ze.clientHeight){if(ze.scrollTop!==0)return ee.current=new Date,!1;if(ze.getAttribute("role")==="dialog")return!0}ze=ze.parentNode}return!0}function mr(_e){if(oe.current&&K){const Je=T==="bottom"||T==="right"?1:-1,Qe=(Te.current-(Dt(T)?_e.pageY:_e.pageX))*Je,ze=Qe>0,ht=l&&!m&&!ze;if(ht&&rt===0)return;const Ee=Math.abs(Qe),qe=document.querySelector("[data-vaul-drawer-wrapper]"),ut=T==="bottom"||T==="top"?ot.current:Ue.current;let dt=Ee/ut;const Xt=Pr(Ee,ze);if(Xt!==null&&(dt=Xt),ht&&dt>=1||!ce.current&&!on(_e.target,ze))return;if(oe.current.classList.add(ef),ce.current=!0,Ut(oe.current,{transition:"none"}),Ut(te.current,{transition:"none"}),l&&xi({draggedDistance:Qe}),ze&&!l){const lt=T$(Qe),Cn=Math.min(lt*-1,0)*Je;Ut(oe.current,{transform:Dt(T)?`translate3d(0, ${Cn}px, 0)`:`translate3d(${Cn}px, 0, 0)`});return}const at=1-dt;if((Is||x&&rt===x-1)&&(s?.(_e,dt),Ut(te.current,{opacity:`${at}`,transition:"none"},!0)),qe&&te.current&&c){const lt=Math.min(Ln()+dt*(1-Ln()),1),Cn=8-dt*8,Rt=Math.max(0,14-dt*14);Ut(qe,{borderRadius:`${Cn}px`,transform:Dt(T)?`scale(${lt}) translate3d(0, ${Rt}px, 0)`:`scale(${lt}) translate3d(${Rt}px, 0, 0)`,transition:"none"},!0)}if(!l){const lt=Ee*Je;Ut(oe.current,{transform:Dt(T)?`translate3d(0, ${lt}px, 0)`:`translate3d(${lt}px, 0, 0)`})}}}z.useEffect(()=>{window.requestAnimationFrame(()=>{J.current=!0})},[]),z.useEffect(()=>{var _e;function Je(){if(!oe.current||!H)return;const Qe=document.activeElement;if(ip(Qe)||Ie.current){var ze;const ht=((ze=window.visualViewport)==null?void 0:ze.height)||0,Ee=window.innerHeight;let qe=Ee-ht;const ut=oe.current.getBoundingClientRect().height||0,dt=ut>Ee*.8;kt.current||(kt.current=ut);const Xt=oe.current.getBoundingClientRect().top;if(Math.abs(Pe.current-qe)>60&&(Ie.current=!Ie.current),l&&l.length>0&&sn&&rt){const at=sn[rt]||0;qe+=at}if(Pe.current=qe,ut>ht||Ie.current){const at=oe.current.getBoundingClientRect().height;let lt=at;at>ht&&(lt=ht-(dt?Xt:op)),j?oe.current.style.height=`${at-Math.max(qe,0)}px`:oe.current.style.height=`${Math.max(lt,ht-Xt)}px`}else g$()||(oe.current.style.height=`${kt.current}px`);l&&l.length>0&&!Ie.current?oe.current.style.bottom="0px":oe.current.style.bottom=`${Math.max(qe,0)}px`}}return(_e=window.visualViewport)==null||_e.addEventListener("resize",Je),()=>{var Qe;return(Qe=window.visualViewport)==null?void 0:Qe.removeEventListener("resize",Je)}},[rt,l,sn]);function un(_e){wi(),_?.(),_e||M(!1),setTimeout(()=>{l&&Xn(l[0])},St.DURATION*1e3)}function Ls(){if(!oe.current)return;const _e=document.querySelector("[data-vaul-drawer-wrapper]"),Je=Oc(oe.current,T);Ut(oe.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${St.DURATION}s cubic-bezier(${St.EASE.join(",")})`}),Ut(te.current,{transition:`opacity ${St.DURATION}s cubic-bezier(${St.EASE.join(",")})`,opacity:"1"}),c&&Je&&Je>0&&X&&Ut(_e,{borderRadius:`${W1}px`,overflow:"hidden",...Dt(T)?{transform:`scale(${Ln()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Ln()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${St.DURATION}s`,transitionTimingFunction:`cubic-bezier(${St.EASE.join(",")})`},!0)}function wi(){!K||!oe.current||(oe.current.classList.remove(ef),ce.current=!1,B(!1),ge.current=new Date)}function bi(_e){if(!K||!oe.current)return;oe.current.classList.remove(ef),ce.current=!1,B(!1),ge.current=new Date;const Je=Oc(oe.current,T);if(!_e||!on(_e.target,!1)||!Je||Number.isNaN(Je)||fe.current===null)return;const Qe=ge.current.getTime()-fe.current.getTime(),ze=Te.current-(Dt(T)?_e.pageY:_e.pageX),ht=Math.abs(ze)/Qe;if(ht>.05&&(G(!0),setTimeout(()=>{G(!1)},200)),l){Lt({draggedDistance:ze*(T==="bottom"||T==="right"?1:-1),closeDrawer:un,velocity:ht,dismissible:m}),o?.(_e,!0);return}if(T==="bottom"||T==="right"?ze>0:ze<0){Ls(),o?.(_e,!0);return}if(ht>z1){un(),o?.(_e,!1);return}var Ee;const qe=Math.min((Ee=oe.current.getBoundingClientRect().height)!=null?Ee:0,window.innerHeight);var ut;const dt=Math.min((ut=oe.current.getBoundingClientRect().width)!=null?ut:0,window.innerWidth),Xt=T==="left"||T==="right";if(Math.abs(Je)>=(Xt?dt:qe)*f){un(),o?.(_e,!1);return}o?.(_e,!0),Ls()}z.useEffect(()=>(X&&(Ut(document.documentElement,{scrollBehavior:"auto"}),ae.current=new Date),()=>{N$(document.documentElement,"scrollBehavior")}),[X]);function Yr(_e){const Je=_e?(window.innerWidth-ni)/window.innerWidth:1,Qe=_e?-ni:0;Ne.current&&window.clearTimeout(Ne.current),Ut(oe.current,{transition:`transform ${St.DURATION}s cubic-bezier(${St.EASE.join(",")})`,transform:Dt(T)?`scale(${Je}) translate3d(0, ${Qe}px, 0)`:`scale(${Je}) translate3d(${Qe}px, 0, 0)`}),!_e&&oe.current&&(Ne.current=setTimeout(()=>{const ze=Oc(oe.current,T);Ut(oe.current,{transition:"none",transform:Dt(T)?`translate3d(0, ${ze}px, 0)`:`translate3d(${ze}px, 0, 0)`})},500))}function $s(_e,Je){if(Je<0)return;const Qe=(window.innerWidth-ni)/window.innerWidth,ze=Qe+Je*(1-Qe),ht=-ni+Je*ni;Ut(oe.current,{transform:Dt(T)?`scale(${ze}) translate3d(0, ${ht}px, 0)`:`scale(${ze}) translate3d(${ht}px, 0, 0)`,transition:"none"})}function Rr(_e,Je){const Qe=Dt(T)?window.innerHeight:window.innerWidth,ze=Je?(Qe-ni)/Qe:1,ht=Je?-ni:0;Je&&Ut(oe.current,{transition:`transform ${St.DURATION}s cubic-bezier(${St.EASE.join(",")})`,transform:Dt(T)?`scale(${ze}) translate3d(0, ${ht}px, 0)`:`scale(${ze}) translate3d(${ht}px, 0, 0)`})}return z.useEffect(()=>{C||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[C]),z.createElement(Op,{defaultOpen:D,onOpenChange:_e=>{!m&&!_e||(_e?O(!0):un(!0),M(_e))},open:X},z.createElement($1.Provider,{value:{activeSnapPoint:Kt,snapPoints:l,setActiveSnapPoint:Xn,drawerRef:oe,overlayRef:te,onOpenChange:e,onPress:Gr,onRelease:bi,onDrag:mr,dismissible:m,shouldAnimate:J,handleOnly:g,isOpen:X,isDragging:K,shouldFade:Is,closeDrawer:un,onNestedDrag:$s,onNestedOpenChange:Yr,onNestedRelease:Rr,keyboardIsOpen:Ie,modal:C,snapPointsOffset:sn,activeSnapPointIndex:rt,direction:T,shouldScaleBackground:c,setBackgroundColorOnScale:d,noBodyStyles:E,container:ie,autoFocus:ue}},n))}const q1=z.forwardRef(function({...t},e){const{overlayRef:n,snapPoints:s,onRelease:o,shouldFade:l,isOpen:c,modal:d,shouldAnimate:f}=nl(),p=B1(e,n),m=s&&s.length>0;if(!d)return null;const g=z.useCallback(x=>o(x),[o]);return z.createElement(Ip,{onMouseUp:g,ref:p,"data-vaul-overlay":"","data-vaul-snap-points":c&&m?"true":"false","data-vaul-snap-points-overlay":c&&l?"true":"false","data-vaul-animate":f?.current?"true":"false",...t})});q1.displayName="Drawer.Overlay";const G1=z.forwardRef(function({onPointerDownOutside:t,style:e,onOpenAutoFocus:n,...s},o){const{drawerRef:l,onPress:c,onRelease:d,onDrag:f,keyboardIsOpen:p,snapPointsOffset:m,activeSnapPointIndex:g,modal:x,isOpen:w,direction:S,snapPoints:j,container:C,handleOnly:_,shouldAnimate:P,autoFocus:E}=nl(),[T,D]=z.useState(!1),V=B1(o,l),R=z.useRef(null),N=z.useRef(null),H=z.useRef(!1),Z=j&&j.length>0;M$();const ie=(Q,Y,X=0)=>{if(H.current)return!0;const M=Math.abs(Q.y),F=Math.abs(Q.x),O=F>M,K=["bottom","right"].includes(Y)?1:-1;if(Y==="left"||Y==="right"){if(!(Q.x*K<0)&&F>=0&&F<=X)return O}else if(!(Q.y*K<0)&&M>=0&&M<=X)return!O;return H.current=!0,!0};z.useEffect(()=>{Z&&window.requestAnimationFrame(()=>{D(!0)})},[]);function ue(Q){R.current=null,H.current=!1,d(Q)}return z.createElement(Mp,{"data-vaul-drawer-direction":S,"data-vaul-drawer":"","data-vaul-delayed-snap-points":T?"true":"false","data-vaul-snap-points":w&&Z?"true":"false","data-vaul-custom-container":C?"true":"false","data-vaul-animate":P?.current?"true":"false",...s,ref:V,style:m&&m.length>0?{"--snap-point-height":`${m[g??0]}px`,...e}:e,onPointerDown:Q=>{_||(s.onPointerDown==null||s.onPointerDown.call(s,Q),R.current={x:Q.pageX,y:Q.pageY},c(Q))},onOpenAutoFocus:Q=>{n?.(Q),E||Q.preventDefault()},onPointerDownOutside:Q=>{if(t?.(Q),!x||Q.defaultPrevented){Q.preventDefault();return}p.current&&(p.current=!1)},onFocusOutside:Q=>{if(!x){Q.preventDefault();return}},onPointerMove:Q=>{if(N.current=Q,_||(s.onPointerMove==null||s.onPointerMove.call(s,Q),!R.current))return;const Y=Q.pageY-R.current.y,X=Q.pageX-R.current.x,M=Q.pointerType==="touch"?10:2;ie({x:X,y:Y},S,M)?f(Q):(Math.abs(X)>M||Math.abs(Y)>M)&&(R.current=null)},onPointerUp:Q=>{s.onPointerUp==null||s.onPointerUp.call(s,Q),R.current=null,H.current=!1,d(Q)},onPointerOut:Q=>{s.onPointerOut==null||s.onPointerOut.call(s,Q),ue(N.current)},onContextMenu:Q=>{s.onContextMenu==null||s.onContextMenu.call(s,Q),N.current&&ue(N.current)}})});G1.displayName="Drawer.Content";const V$=250,F$=120,B$=z.forwardRef(function({preventCycle:t=!1,children:e,...n},s){const{closeDrawer:o,isDragging:l,snapPoints:c,activeSnapPoint:d,setActiveSnapPoint:f,dismissible:p,handleOnly:m,isOpen:g,onPress:x,onDrag:w}=nl(),S=z.useRef(null),j=z.useRef(!1);function C(){if(j.current){E();return}window.setTimeout(()=>{_()},F$)}function _(){if(l||t||j.current){E();return}if(E(),!c||c.length===0){p||o();return}if(d===c[c.length-1]&&p){o();return}const D=c.findIndex(R=>R===d);if(D===-1)return;const V=c[D+1];f(V)}function P(){S.current=window.setTimeout(()=>{j.current=!0},V$)}function E(){S.current&&window.clearTimeout(S.current),j.current=!1}return z.createElement("div",{onClick:C,onPointerCancel:E,onPointerDown:T=>{m&&x(T),P()},onPointerMove:T=>{m&&w(T)},ref:s,"data-vaul-drawer-visible":g?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},z.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},e))});B$.displayName="Drawer.Handle";function U$(t){const e=nl(),{container:n=e.container,...s}=t;return z.createElement(Dp,{container:n,...s})}const Ro={Root:$$,Content:G1,Overlay:q1,Portal:U$,Close:fu,Title:Lp};function z$({...t}){return a.jsx(Ro.Root,{"data-slot":"drawer",...t})}function W$({...t}){return a.jsx(Ro.Portal,{"data-slot":"drawer-portal",...t})}function H$({...t}){return a.jsx(Ro.Close,{"data-slot":"drawer-close",...t})}function K$({className:t,...e}){return a.jsx(Ro.Overlay,{"data-slot":"drawer-overlay",className:Ve("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function q$({className:t,children:e,...n}){return a.jsxs(W$,{"data-slot":"drawer-portal",children:[a.jsx(K$,{}),a.jsxs(Ro.Content,{"data-slot":"drawer-content",className:Ve("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",t),...n,children:[a.jsx("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),e]})]})}function G$({className:t,...e}){return a.jsx("div",{"data-slot":"drawer-header",className:Ve("flex flex-col gap-1.5 p-4",t),...e})}function Y$({className:t,...e}){return a.jsx(Ro.Title,{"data-slot":"drawer-title",className:Ve("text-foreground font-semibold",t),...e})}const tf=768;function X$(){const[t,e]=b.useState(void 0);return b.useEffect(()=>{const n=window.matchMedia(`(max-width: ${tf-1}px)`),s=()=>{e(window.innerWidth<tf)};return n.addEventListener("change",s),e(window.innerWidth<tf),()=>n.removeEventListener("change",s)},[]),!!t}function J$(){const{user:t}=Nr(),e=Rs(t),n=X$(),[s,o]=b.useState([]),[l,c]=b.useState([]),[d,f]=b.useState(!0),[p,m]=b.useState(new Date),[g,x]=b.useState("all"),[w,S]=b.useState(null),[j,C]=b.useState([]);b.useEffect(()=>{_()},[]);const _=async()=>{try{const[X,M]=await Promise.all([We("/orders"),We("/users")]),F=new Map(M.users.map(K=>[K.id,K]));let O=X.orders.filter(K=>K.deliveryDate).map(K=>({...K,courierName:K.courierId?F.get(K.courierId)?.name:null}));e.isCourierMode&&t&&(O=O.filter(K=>K.courierId===t.id)),o(O),c(M.users)}catch(X){Ce.error("Ошибка загрузки: "+X.message)}finally{f(!1)}};Array.from(new Set(s.map(X=>X.deliveryDate))).sort();const E=(X=>{const M=[],F=new Date(X);F.setDate(F.getDate()-F.getDay()+1);for(let O=0;O<6;O++){const K=new Date(F);K.setDate(F.getDate()+O),M.push(K)}return M})(p),T=X=>{const M=X.toISOString().split("T")[0];return s.filter(F=>{const O=F.deliveryDate===M,K=g==="all"||F.distribution===g;return O&&K})},D=X=>({minsk:"Минск",shipping:"Отправки",pickup:"Самовывоз"})[X]||X,V=()=>{const X=new Date(p);X.setDate(X.getDate()-7),m(X)},R=()=>{const X=new Date(p);X.setDate(X.getDate()+7),m(X)},N=()=>{m(new Date)},H=async X=>{S(X);try{const M=await We(`/orders/${X.id}`);C(M.items||[])}catch(M){Ce.error("Ошибка загрузки деталей: "+M.message),C([])}},Z=()=>{S(null),C([])},ie=X=>({new:"Новый",confirmed:"Подтверждён",picking:"Комплектуется",ready:"Готов",shipped:"В пути",completed:"Завершён",cancelled:"Отменён"})[X]||X,ue=X=>({new:"bg-gray-100 text-gray-800",confirmed:"bg-blue-100 text-blue-800",picking:"bg-yellow-100 text-yellow-800",ready:"bg-green-100 text-green-800",shipped:"bg-purple-100 text-purple-800",completed:"bg-emerald-100 text-emerald-800",cancelled:"bg-red-100 text-red-800"})[X]||"bg-gray-100 text-gray-800",Q=X=>!X||X==="not_specified"?"Не указано":{"09:00-12:00":"09:00-12:00","12:00-15:00":"12:00-15:00","15:00-18:00":"15:00-18:00","18:00-21:00":"18:00-21:00"}[X]||X;if(d)return a.jsx("div",{className:"p-8 flex items-center justify-center",children:a.jsx(kn,{className:"h-8 w-8 animate-spin text-gray-400"})});return a.jsxs("div",{className:"p-4 md:p-8 pb-20 md:pb-8",children:[a.jsxs("div",{className:"mb-4 md:mb-8",children:[a.jsx("h1",{className:"text-2xl md:text-3xl mb-2",children:e.isCourierMode?"Мои доставки":"Календарь доставок"}),a.jsx("p",{className:"text-gray-600",children:e.isCourierMode?"Ваши назначенные доставки (понедельник-суббота)":"Планирование доставок (понедельник-суббота)"})]}),e.isCourierMode&&s.length===0&&a.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(ui,{className:"h-5 w-5 text-blue-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-blue-900 mb-1",children:"Пока нет назначенных доставок"}),a.jsx("p",{className:"text-sm text-blue-800",children:"Когда менеджер назначит вам заказы, они появятся здесь. Вы сможете просмотреть маршруты и детали доставок в календаре."})]})]})}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-4 md:mb-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[a.jsx(Se,{onClick:V,variant:"outline",size:"sm",children:"←"}),a.jsx(Se,{onClick:N,variant:"outline",size:"sm",children:"Сегодня"}),a.jsx(Se,{onClick:R,variant:"outline",size:"sm",children:"→"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ui,{className:"h-4 w-4 md:h-5 md:w-5 text-gray-600"}),a.jsxs("span",{className:"text-sm md:text-base",children:[E[0].toLocaleDateString("ru-RU",{day:"numeric",month:"short"})," —"," ",E[5].toLocaleDateString("ru-RU",{day:"numeric",month:"short",year:"numeric"})]})]}),!e.isCourierMode&&a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsx(Se,{variant:g==="all"?"default":"outline",size:"sm",onClick:()=>x("all"),children:"Все"}),a.jsx(Se,{variant:g==="minsk"?"default":"outline",size:"sm",onClick:()=>x("minsk"),children:"Минск"}),a.jsx(Se,{variant:g==="shipping"?"default":"outline",size:"sm",onClick:()=>x("shipping"),children:"Отправки"}),a.jsx(Se,{variant:g==="pickup"?"default":"outline",size:"sm",onClick:()=>x("pickup"),children:"Самовывоз"})]})]})}),a.jsx("div",{className:n?"space-y-4":"grid grid-cols-6 gap-6",children:E.map((X,M)=>{const F=T(X),O=X.toDateString()===new Date().toDateString(),K=X.toLocaleDateString("ru-RU",{weekday:"long"}),B=X.getDate(),I=X.toLocaleDateString("ru-RU",{month:"long"});return n&&F.length===0?null:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("div",{className:`p-3 md:p-4 rounded-t-lg border-b-2 ${O?"bg-blue-50 border-blue-500":"bg-gray-50 border-gray-200"}`,children:a.jsxs("div",{className:n?"flex items-center justify-between":"flex flex-col items-center text-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:`${n?"text-base":"text-xs uppercase"} ${O?"text-blue-700":"text-gray-600"}`,children:n?K:K.slice(0,3)}),n&&a.jsxs("div",{className:`text-xl ${O?"text-blue-700":"text-gray-900"}`,children:[B," ",I]})]}),!n&&a.jsx("div",{className:`text-2xl mt-1 ${O?"text-blue-700":"text-gray-900"}`,children:B}),F.length>0&&a.jsxs("div",{className:`${n?"text-sm":"text-xs mt-1"} text-gray-600`,children:[F.length," ",F.length===1?"заказ":"заказов"]})]})}),a.jsx("div",{className:`flex-1 border border-t-0 rounded-b-lg p-4 bg-white space-y-3 ${!n&&"min-h-[500px]"}`,children:F.length===0?a.jsx("div",{className:"text-center text-gray-400 text-sm py-4",children:"Нет доставок"}):F.map(G=>a.jsx(Ge,{className:"cursor-pointer hover:shadow-lg transition-all hover:border-blue-300",onClick:()=>H(G),children:a.jsxs(Ye,{className:"p-5 space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm mb-1.5",children:G.number}),a.jsx(jr,{className:`text-xs px-2 py-0.5 ${ue(G.status)}`,children:ie(G.status)})]}),a.jsx(jr,{variant:"outline",className:"text-xs px-2 py-0.5 flex-shrink-0",children:D(G.distribution)})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Oa,{className:"h-4 w-4 text-gray-500 flex-shrink-0"}),a.jsx("span",{className:"text-gray-700",children:Q(G.deliverySlot)})]}),a.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[a.jsx(Kc,{className:"h-4 w-4 text-gray-500 flex-shrink-0 mt-0.5"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"text-gray-900",children:G.customerName}),a.jsx("div",{className:"text-gray-600 text-xs mt-0.5",children:G.customerPhone})]})]}),G.address&&a.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[a.jsx(Sf,{className:"h-4 w-4 text-gray-500 flex-shrink-0 mt-0.5"}),a.jsx("span",{className:"text-gray-700 line-clamp-2",children:G.address})]}),a.jsxs("div",{className:"pt-3 border-t mt-3 flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Сумма:"})," ",a.jsxs("span",{children:[G.total?.toFixed(2)||0," BYN"]})]}),G.courierName?a.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-green-50 border border-green-200",children:[a.jsx(_f,{className:"h-3.5 w-3.5 text-green-700"}),a.jsx("span",{className:"text-xs text-green-700",children:G.courierName})]}):a.jsx("div",{className:"flex items-center gap-1 px-2.5 py-1 rounded-full bg-orange-50 border border-orange-200",children:a.jsx("span",{className:"text-xs text-orange-700",children:"Не назначен"})})]})]})},G.id))})]},M)})}),s.length===0&&a.jsx("div",{className:"text-center text-gray-500 py-12",children:"Нет запланированных доставок"}),a.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"flex-shrink-0 text-blue-600 mt-0.5",children:a.jsx(ui,{className:"h-5 w-5"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"💡 Как назначить курьера на доставку"}),a.jsxs("ol",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:'1. Откройте заказ (нажмите на номер в таблице "Заказы")'}),a.jsxs("li",{children:["2. Измените статус на ",a.jsx("strong",{children:'"Подтверждён"'})," или выше"]}),a.jsx("li",{children:"3. Укажите дату доставки (сегодня или завтра)"}),a.jsx("li",{children:"4. Выберите временной интервал (например, 12:00-15:00)"}),a.jsxs("li",{children:["5. В поле ",a.jsx("strong",{children:'"Курьер"'})," выберите курьера из списка"]}),a.jsx("li",{children:"6. Добавьте комментарий для курьера (опционально)"}),a.jsxs("li",{children:["7. Нажмите ",a.jsx("strong",{children:'"Сохранить"'})]})]}),a.jsx("p",{className:"text-sm text-blue-700 mt-3",children:"✅ После этого заказ появится в календаре курьера и в его мобильном приложении"})]})]})}),w&&a.jsx(a.Fragment,{children:n?a.jsx(z$,{open:!!w,onOpenChange:X=>!X&&Z(),children:a.jsxs(q$,{children:[a.jsx(G$,{className:"border-b",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Y$,{children:["Заказ ",w.number]}),a.jsx(H$,{asChild:!0,children:a.jsx(Se,{variant:"ghost",size:"icon",onClick:Z,children:a.jsx(kp,{className:"h-4 w-4"})})})]})}),a.jsx("div",{className:"p-4 space-y-4 max-h-[70vh] overflow-y-auto",children:Y()})]})}):a.jsx(qa,{open:!!w,onOpenChange:X=>!X&&Z(),children:a.jsxs(Ga,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsx(Ya,{children:a.jsxs(Xa,{children:["Заказ ",w.number]})}),a.jsx("div",{className:"space-y-4",children:Y()})]})})})]});function Y(){return w?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jr,{className:ue(w.status),children:ie(w.status)}),a.jsx(jr,{variant:"outline",children:D(w.distribution)})]}),a.jsx("div",{className:"text-sm text-gray-500",children:w.deliveryDate})]}),a.jsxs(Ge,{children:[a.jsx(tt,{className:"pb-3",children:a.jsxs(nt,{className:"text-base flex items-center gap-2",children:[a.jsx(_f,{className:"h-4 w-4"}),"Информация о клиенте"]})}),a.jsxs(Ye,{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Имя:"}),a.jsx("span",{children:w.customerName})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Телефон:"}),a.jsx("span",{children:w.customerPhone})]}),w.address&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Адрес:"}),a.jsx("span",{className:"text-right",children:w.address})]})]})]}),a.jsxs(Ge,{children:[a.jsx(tt,{className:"pb-3",children:a.jsxs(nt,{className:"text-base flex items-center gap-2",children:[a.jsx(Oa,{className:"h-4 w-4"}),"Информация о доставке"]})}),a.jsxs(Ye,{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Дата:"}),a.jsx("span",{children:w.deliveryDate})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Время:"}),a.jsx("span",{children:Q(w.deliverySlot)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Курьер:"}),a.jsx("span",{children:w.courierName||"Не назначен"})]})]})]}),j.length>0&&a.jsxs(Ge,{children:[a.jsx(tt,{className:"pb-3",children:a.jsxs(nt,{className:"text-base flex items-center gap-2",children:[a.jsx(Ur,{className:"h-4 w-4"}),"Товары (",j.length,")"]})}),a.jsx(Ye,{children:a.jsx("div",{className:"space-y-2",children:j.map((X,M)=>a.jsxs("div",{className:"flex justify-between items-start text-sm py-2 border-b last:border-b-0",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{children:X.productName}),X.serial&&a.jsxs("div",{className:"text-xs text-gray-500",children:["S/N: ",X.serial]}),X.isAccessory&&a.jsx(jr,{variant:"outline",className:"text-xs mt-1",children:"Аксессуар"})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{children:[X.quantity," x ",X.price.toFixed(2)," BYN"]}),X.discount>0&&a.jsxs("div",{className:"text-xs text-green-600",children:["-",X.discount,"%"]}),a.jsxs("div",{children:[X.amount.toFixed(2)," BYN"]})]})]},M))})})]}),a.jsxs(Ge,{children:[a.jsx(tt,{className:"pb-3",children:a.jsxs(nt,{className:"text-base flex items-center gap-2",children:[a.jsx(kP,{className:"h-4 w-4"}),"Итого"]})}),a.jsx(Ye,{children:a.jsxs("div",{className:"text-xl",children:[w.total?.toFixed(2)||0," BYN"]})})]})]}):null}}function Q$(){const[t,e]=b.useState([]),[n,s]=b.useState([]),[o,l]=b.useState([]),[c,d]=b.useState(!0),[f,p]=b.useState(new Date(new Date().setDate(new Date().getDate()-30)).toISOString().split("T")[0]),[m,g]=b.useState(new Date().toISOString().split("T")[0]);b.useEffect(()=>{x()},[]);const x=async()=>{try{const[R,N]=await Promise.all([We("/orders"),We("/products")]),H=[];for(const Z of N.products)if(Z.hasSerial)try{const ie=await We(`/products/${Z.id}`);H.push(...ie.stockUnits||[])}catch{}e(R.orders),s(N.products),l(H)}catch(R){Ce.error("Ошибка загрузки: "+R.message)}finally{d(!1)}},w=t.filter(R=>{const N=new Date(R.createdAt).toISOString().split("T")[0];return N>=f&&N<=m});w.reduce((R,N)=>R+(N.total||0),0);const S=w.filter(R=>R.status==="completed"),j=S.reduce((R,N)=>R+(N.total||0),0),C=S.length>0?j/S.length:0,_=o.filter(R=>R.status==="sold").reduce((R,N)=>{const H=n.find(Z=>Z.id===N.productId);return H?R+(H.priceSell-(N.buyPrice||H.priceBuy||0)):R},0),P=w.reduce((R,N)=>{const H=N.platformId||"Не указана";return R[H]||(R[H]={count:0,revenue:0}),R[H].count++,R[H].revenue+=N.total||0,R},{}),E=w.reduce((R,N)=>{const H=N.distribution||"Не указано",Z=H==="minsk"?"Минск":H==="shipping"?"Отправки":H==="pickup"?"Самовывоз":H;return R[Z]||(R[Z]={count:0,revenue:0}),R[Z].count++,R[Z].revenue+=N.total||0,R},{}),T=n.map(R=>{const N=o.filter(ie=>ie.productId===R.id&&ie.status==="available").length,H=o.filter(ie=>ie.productId===R.id&&ie.status==="reserved").length,Z=o.filter(ie=>ie.productId===R.id&&ie.status==="sold").length;return{product:`${R.brand} ${R.model}`,available:N,reserved:H,sold:Z,minStock:R.minStock||0,isLow:N<(R.minStock||0)}}),D=T.filter(R=>R.isLow),V=(R,N)=>{if(R.length===0){Ce.error("Нет данных для экспорта");return}const H=Object.keys(R[0]),Z=[H.join(","),...R.map(Q=>H.map(Y=>Q[Y]).join(","))].join(`
`),ie=new Blob([Z],{type:"text/csv;charset=utf-8;"}),ue=document.createElement("a");ue.href=URL.createObjectURL(ie),ue.download=`${N}.csv`,ue.click(),Ce.success("Отчёт экспортирован")};return c?a.jsx("div",{className:"p-4 md:p-8 flex items-center justify-center",children:a.jsx(kn,{className:"h-8 w-8 animate-spin text-gray-400"})}):a.jsxs("div",{className:"p-4 md:p-8",children:[a.jsxs("div",{className:"mb-4 md:mb-8",children:[a.jsx("h1",{className:"text-2xl md:text-3xl mb-2",children:"Отчёты"}),a.jsx("p",{className:"text-gray-600",children:"Аналитика продаж и остатков"})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-4 md:mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Период с"}),a.jsx(Fe,{type:"date",value:f,onChange:R=>p(R.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Период по"}),a.jsx(Fe,{type:"date",value:m,onChange:R=>g(R.target.value)})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs(Se,{variant:"outline",className:"w-full",children:[a.jsx(xa,{className:"h-4 w-4 mr-2"}),"Экспорт в Excel"]})})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-4 md:mb-6",children:[a.jsxs(Ge,{children:[a.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(nt,{className:"text-sm",children:"Всего заказов"}),a.jsx(uu,{className:"h-5 w-5 text-blue-600"})]}),a.jsxs(Ye,{children:[a.jsx("div",{className:"text-3xl",children:w.length}),a.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Завершено: ",S.length]})]})]}),a.jsxs(Ge,{children:[a.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(nt,{className:"text-sm",children:"Выручка"}),a.jsx(TP,{className:"h-5 w-5 text-green-600"})]}),a.jsxs(Ye,{children:[a.jsxs("div",{className:"text-3xl",children:[j.toFixed(0)," BYN"]}),a.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:["Средний чек: ",C.toFixed(0)," BYN"]})]})]}),a.jsxs(Ge,{children:[a.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(nt,{className:"text-sm",children:"Маржа"}),a.jsx(Pb,{className:"h-5 w-5 text-purple-600"})]}),a.jsxs(Ye,{children:[a.jsxs("div",{className:"text-3xl",children:[_.toFixed(0)," BYN"]}),a.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[j>0?(_/j*100).toFixed(1):0,"% от выручки"]})]})]}),a.jsxs(Ge,{children:[a.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(nt,{className:"text-sm",children:"Низкие остатки"}),a.jsx(Ur,{className:"h-5 w-5 text-red-600"})]}),a.jsxs(Ye,{children:[a.jsx("div",{className:"text-3xl",children:D.length}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Требуют закупки"})]})]})]}),a.jsxs(au,{defaultValue:"sales",className:"w-full",children:[a.jsxs(lu,{children:[a.jsx(jn,{value:"sales",children:"Продажи"}),a.jsx(jn,{value:"stock",children:"Остатки"}),a.jsx(jn,{value:"channels",children:"Каналы"})]}),a.jsx(Sn,{value:"sales",className:"mt-4 md:mt-6",children:a.jsxs(Ge,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[a.jsx(nt,{children:"Продажи по типу доставки"}),a.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>V(Object.entries(E).map(([R,N])=>({Тип:R,Заказов:N.count,Выручка:N.revenue.toFixed(2)})),"sales_by_distribution"),className:"w-full md:w-auto",children:[a.jsx(xa,{className:"h-4 w-4 mr-2"}),"Экспорт"]})]})}),a.jsx(Ye,{className:"overflow-x-auto",children:a.jsxs(cr,{children:[a.jsx(ur,{children:a.jsxs(it,{children:[a.jsx(pe,{children:"Тип доставки"}),a.jsx(pe,{children:"Количество заказов"}),a.jsx(pe,{children:"Выручка"})]})}),a.jsx(dr,{children:Object.entries(E).map(([R,N])=>a.jsxs(it,{children:[a.jsx(de,{children:R}),a.jsx(de,{children:N.count}),a.jsxs(de,{children:[N.revenue.toFixed(2)," BYN"]})]},R))})]})})]})}),a.jsx(Sn,{value:"stock",className:"mt-6",children:a.jsxs(Ge,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(nt,{children:"Остатки по товарам"}),a.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>V(T.map(R=>({Товар:R.product,В_наличии:R.available,Зарезервировано:R.reserved,Продано:R.sold,Мин_остаток:R.minStock,Низкий_остаток:R.isLow?"Да":"Нет"})),"stock_report"),children:[a.jsx(xa,{className:"h-4 w-4 mr-2"}),"Экспорт"]})]})}),a.jsx(Ye,{children:a.jsxs(cr,{children:[a.jsx(ur,{children:a.jsxs(it,{children:[a.jsx(pe,{children:"Товар"}),a.jsx(pe,{children:"В наличии"}),a.jsx(pe,{children:"Зарезервировано"}),a.jsx(pe,{children:"Продано"}),a.jsx(pe,{children:"Мин. остаток"}),a.jsx(pe,{children:"Статус"})]})}),a.jsx(dr,{children:T.map((R,N)=>a.jsxs(it,{className:R.isLow?"bg-red-50":"",children:[a.jsx(de,{children:R.product}),a.jsx(de,{children:R.available}),a.jsx(de,{children:R.reserved}),a.jsx(de,{children:R.sold}),a.jsx(de,{children:R.minStock}),a.jsx(de,{children:R.isLow?a.jsx("span",{className:"text-red-600",children:"Низкий остаток"}):a.jsx("span",{className:"text-green-600",children:"В норме"})})]},N))})]})})]})}),a.jsx(Sn,{value:"channels",className:"mt-6",children:a.jsxs(Ge,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(nt,{children:"Продажи по платформам"}),a.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>V(Object.entries(P).map(([R,N])=>({Платформа:R,Заказов:N.count,Выручка:N.revenue.toFixed(2)})),"sales_by_platform"),children:[a.jsx(xa,{className:"h-4 w-4 mr-2"}),"Экспорт"]})]})}),a.jsx(Ye,{children:a.jsxs(cr,{children:[a.jsx(ur,{children:a.jsxs(it,{children:[a.jsx(pe,{children:"Платформа"}),a.jsx(pe,{children:"Количество заказов"}),a.jsx(pe,{children:"Выручка"}),a.jsx(pe,{children:"Средний чек"})]})}),a.jsx(dr,{children:Object.entries(P).map(([R,N])=>a.jsxs(it,{children:[a.jsx(de,{children:R}),a.jsx(de,{children:N.count}),a.jsxs(de,{children:[N.revenue.toFixed(2)," BYN"]}),a.jsxs(de,{children:[(N.revenue/N.count).toFixed(2)," BYN"]})]},R))})]})})]})})]})]})}function Z$(){const[t,e]=b.useState([]),[n,s]=b.useState(!0),[o,l]=b.useState(""),[c,d]=b.useState("all");b.useEffect(()=>{f()},[]);const f=async()=>{try{const S=await We("/audit");e(S.logs)}catch(S){Ce.error("Ошибка загрузки: "+S.message)}finally{s(!1)}},p=S=>{const C={create:{variant:"default",label:"Создание",color:"bg-green-100 text-green-800"},update:{variant:"secondary",label:"Изменение",color:"bg-blue-100 text-blue-800"},delete:{variant:"destructive",label:"Удаление",color:"bg-red-100 text-red-800"},status_change:{variant:"outline",label:"Смена статуса",color:"bg-purple-100 text-purple-800"}}[S]||{label:S,color:"bg-gray-100 text-gray-800"};return a.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${C.color}`,children:C.label})},m=S=>({group:"Группа",product:"Товар",order:"Заказ",stock_unit:"Складская позиция",platform:"Платформа"})[S]||S,g=t.filter(S=>{const j=S.entityId.toLowerCase().includes(o.toLowerCase())||S.userId.toLowerCase().includes(o.toLowerCase()),C=c==="all"||S.entity===c;return j&&C}),x=Array.from(new Set(t.map(S=>S.entity))),w=()=>{if(g.length===0){Ce.error("Нет данных для экспорта");return}const S=["Дата,Время,Сущность,ID,Действие,Пользователь",...g.map(_=>{const P=new Date(_.timestamp);return[P.toLocaleDateString("ru-RU"),P.toLocaleTimeString("ru-RU"),m(_.entity),_.entityId,_.action,_.userId].join(",")})].join(`
`),j=new Blob([S],{type:"text/csv;charset=utf-8;"}),C=document.createElement("a");C.href=URL.createObjectURL(j),C.download=`audit_log_${new Date().toISOString().split("T")[0]}.csv`,C.click(),Ce.success("Журнал экспортирован")};return n?a.jsx("div",{className:"p-4 md:p-8 flex items-center justify-center",children:a.jsx(kn,{className:"h-8 w-8 animate-spin text-gray-400"})}):a.jsxs("div",{className:"p-4 md:p-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start mb-4 md:mb-8 gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl mb-2",children:"Журнал аудита"}),a.jsx("p",{className:"text-gray-600",children:"История всех изменений в системе"})]}),a.jsxs(Se,{onClick:w,variant:"outline",className:"w-full md:w-auto",children:[a.jsx(xa,{className:"h-4 w-4 mr-2"}),"Экспорт"]})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-4 md:mb-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(he,{children:"Поиск"}),a.jsxs("div",{className:"relative",children:[a.jsx(cu,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),a.jsx(Fe,{className:"pl-9",placeholder:"ID записи, пользователь...",value:o,onChange:S=>l(S.target.value)})]})]}),a.jsxs("div",{children:[a.jsx(he,{children:"Сущность"}),a.jsxs("select",{className:"w-full h-10 rounded-md border border-gray-300 px-3",value:c,onChange:S=>d(S.target.value),children:[a.jsx("option",{value:"all",children:"Все сущности"}),x.map(S=>a.jsx("option",{value:S,children:m(S)},S))]})]})]})}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-x-auto",children:a.jsxs(cr,{children:[a.jsx(ur,{children:a.jsxs(it,{children:[a.jsx(pe,{children:"Дата и время"}),a.jsx(pe,{children:"Сущность"}),a.jsx(pe,{children:"ID записи"}),a.jsx(pe,{children:"Действие"}),a.jsx(pe,{children:"Пользователь"}),a.jsx(pe,{children:"Детали"})]})}),a.jsx(dr,{children:g.length===0?a.jsx(it,{children:a.jsx(de,{colSpan:6,className:"text-center text-gray-500 py-8",children:"Нет записей в журнале"})}):g.map((S,j)=>{const C=new Date(S.timestamp);return a.jsxs(it,{children:[a.jsx(de,{children:a.jsxs("div",{children:[a.jsx("div",{children:C.toLocaleDateString("ru-RU")}),a.jsx("div",{className:"text-xs text-gray-600",children:C.toLocaleTimeString("ru-RU")})]})}),a.jsx(de,{children:m(S.entity)}),a.jsx(de,{children:S.entityId}),a.jsx(de,{children:p(S.action)}),a.jsx(de,{children:a.jsxs("div",{className:"text-sm",children:[S.userId.substring(0,8),"..."]})}),a.jsx(de,{children:S.action==="status_change"&&S.snapshot?a.jsxs("div",{className:"text-xs text-gray-600",children:[S.snapshot.from," → ",S.snapshot.to]}):a.jsx("div",{className:"text-xs text-gray-600",children:"—"})})]},j)})})]})}),g.length>0&&a.jsx("div",{className:"mt-6 bg-white rounded-lg border border-gray-200 p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-600 mb-2",children:"Всего записей"}),a.jsx("div",{className:"text-3xl",children:g.length})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-600 mb-2",children:"Создано"}),a.jsx("div",{className:"text-3xl",children:g.filter(S=>S.action==="create").length})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-600 mb-2",children:"Изменено"}),a.jsx("div",{className:"text-3xl",children:g.filter(S=>S.action==="update").length})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-gray-600 mb-2",children:"Удалено"}),a.jsx("div",{className:"text-3xl",children:g.filter(S=>S.action==="delete").length})]})]})})]})}var Y1="AlertDialog",[e3]=Ps(Y1,[Hb]),qr=Hb(),X1=t=>{const{__scopeAlertDialog:e,...n}=t,s=qr(e);return a.jsx(Op,{...s,...n,modal:!0})};X1.displayName=Y1;var t3="AlertDialogTrigger",n3=b.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,o=qr(n);return a.jsx(cA,{...o,...s,ref:e})});n3.displayName=t3;var r3="AlertDialogPortal",J1=t=>{const{__scopeAlertDialog:e,...n}=t,s=qr(e);return a.jsx(Dp,{...s,...n})};J1.displayName=r3;var s3="AlertDialogOverlay",Q1=b.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,o=qr(n);return a.jsx(Ip,{...o,...s,ref:e})});Q1.displayName=s3;var ho="AlertDialogContent",[i3,o3]=e3(ho),a3=$N("AlertDialogContent"),Z1=b.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:s,...o}=t,l=qr(n),c=b.useRef(null),d=mt(e,c),f=b.useRef(null);return a.jsx(iA,{contentName:ho,titleName:e_,docsSlug:"alert-dialog",children:a.jsx(i3,{scope:n,cancelRef:f,children:a.jsxs(Mp,{role:"alertdialog",...l,...o,ref:d,onOpenAutoFocus:Xe(o.onOpenAutoFocus,p=>{p.preventDefault(),f.current?.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[a.jsx(a3,{children:s}),a.jsx(d3,{contentRef:c})]})})})});Z1.displayName=ho;var e_="AlertDialogTitle",t_=b.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,o=qr(n);return a.jsx(Lp,{...o,...s,ref:e})});t_.displayName=e_;var n_="AlertDialogDescription",r_=b.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,o=qr(n);return a.jsx(aj,{...o,...s,ref:e})});r_.displayName=n_;var l3="AlertDialogAction",c3=b.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,o=qr(n);return a.jsx(fu,{...o,...s,ref:e})});c3.displayName=l3;var s_="AlertDialogCancel",u3=b.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...s}=t,{cancelRef:o}=o3(s_,n),l=qr(n),c=mt(e,o);return a.jsx(fu,{...l,...s,ref:c})});u3.displayName=s_;var d3=({contentRef:t})=>{const e=`\`${ho}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ho}\` by passing a \`${n_}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ho}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},h3=X1,f3=J1,p3=Q1,m3=Z1,g3=t_,v3=r_;function y3({...t}){return a.jsx(h3,{"data-slot":"alert-dialog",...t})}function x3({...t}){return a.jsx(f3,{"data-slot":"alert-dialog-portal",...t})}function w3({className:t,...e}){return a.jsx(p3,{"data-slot":"alert-dialog-overlay",className:Ve("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function b3({className:t,...e}){return a.jsxs(x3,{children:[a.jsx(w3,{}),a.jsx(m3,{"data-slot":"alert-dialog-content",className:Ve("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...e})]})}function j3({className:t,...e}){return a.jsx("div",{"data-slot":"alert-dialog-header",className:Ve("flex flex-col gap-2 text-center sm:text-left",t),...e})}function S3({className:t,...e}){return a.jsx("div",{"data-slot":"alert-dialog-footer",className:Ve("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function _3({className:t,...e}){return a.jsx(g3,{"data-slot":"alert-dialog-title",className:Ve("text-lg font-semibold",t),...e})}function k3({className:t,...e}){return a.jsx(v3,{"data-slot":"alert-dialog-description",className:Ve("text-muted-foreground text-sm",t),...e})}var Eu="Switch",[C3]=Ps(Eu),[E3,N3]=C3(Eu),i_=b.forwardRef((t,e)=>{const{__scopeSwitch:n,name:s,checked:o,defaultChecked:l,required:c,disabled:d,value:f="on",onCheckedChange:p,form:m,...g}=t,[x,w]=b.useState(null),S=mt(e,E=>w(E)),j=b.useRef(!1),C=x?m||!!x.closest("form"):!0,[_,P]=go({prop:o,defaultProp:l??!1,onChange:p,caller:Eu});return a.jsxs(E3,{scope:n,checked:_,disabled:d,children:[a.jsx(Ze.button,{type:"button",role:"switch","aria-checked":_,"aria-required":c,"data-state":c_(_),"data-disabled":d?"":void 0,disabled:d,value:f,...g,ref:S,onClick:Xe(t.onClick,E=>{P(T=>!T),C&&(j.current=E.isPropagationStopped(),j.current||E.stopPropagation())})}),C&&a.jsx(l_,{control:x,bubbles:!j.current,name:s,value:f,checked:_,required:c,disabled:d,form:m,style:{transform:"translateX(-100%)"}})]})});i_.displayName=Eu;var o_="SwitchThumb",a_=b.forwardRef((t,e)=>{const{__scopeSwitch:n,...s}=t,o=N3(o_,n);return a.jsx(Ze.span,{"data-state":c_(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e})});a_.displayName=o_;var T3="SwitchBubbleInput",l_=b.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:s=!0,...o},l)=>{const c=b.useRef(null),d=mt(c,l),f=Rj(n),p=wj(e);return b.useEffect(()=>{const m=c.current;if(!m)return;const g=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(g,"checked").set;if(f!==n&&w){const S=new Event("click",{bubbles:s});w.call(m,n),m.dispatchEvent(S)}},[f,n,s]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:d,style:{...o.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});l_.displayName=T3;function c_(t){return t?"checked":"unchecked"}var P3=i_,R3=a_;function va({className:t,...e}){return a.jsx(P3,{"data-slot":"switch",className:Ve("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:a.jsx(R3,{"data-slot":"switch-thumb",className:Ve("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function A3(){const{user:t,signOut:e}=Nr(),n=Rs(t),[s,o]=b.useState([]),[l,c]=b.useState(!0),[d,f]=b.useState(!1),[p,m]=b.useState(!1),[g,x]=b.useState(""),[w,S]=b.useState(null),[j,C]=b.useState({name:"",description:""}),[_,P]=b.useState({name:t?.name||"",email:t?.email||"",phone:""}),[E,T]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[D,V]=b.useState({emailOrders:!0,emailDelivery:!0,pushOrders:!1,pushDelivery:!0,smsOrders:!1});b.useEffect(()=>{n.canManageUsers?R():c(!1)},[n.canManageUsers]);const R=async()=>{try{const Y=await We("/platforms");o(Y.platforms)}catch(Y){Ce.error("Ошибка загрузки: "+Y.message)}finally{c(!1)}},N=Y=>{Y?(S(Y),C({name:Y.name,description:Y.description||""})):(S(null),C({name:"",description:""})),f(!0)},H=async()=>{try{if(!j.name){Ce.error("Укажите название платформы");return}w?Ce.error("Редактирование не реализовано"):(await We("/platforms",{method:"POST",body:JSON.stringify(j)}),Ce.success("Платформа добавлена")),f(!1),R()}catch(Y){Ce.error("Ошибка сохранения: "+Y.message)}},Z=async()=>{if(g!=="УДАЛИТЬ ВСЁ"){Ce.error('Введите "УДАЛИТЬ ВСЁ" для подтверждения');return}try{const Y=await We("/clear-all",{method:"POST"});Ce.success(Y.message),m(!1),x(""),setTimeout(()=>{window.location.reload()},1e3)}catch(Y){Ce.error("Ошибка: "+Y.message)}},ie=()=>{Ce.success("Профиль сохранён")},ue=()=>{if(!E.currentPassword||!E.newPassword||!E.confirmPassword){Ce.error("Заполните все поля");return}if(E.newPassword!==E.confirmPassword){Ce.error("Пароли не совпадают");return}if(E.newPassword.length<6){Ce.error("Пароль должен содержать минимум 6 символов");return}Ce.success("Пароль изменён"),T({currentPassword:"",newPassword:"",confirmPassword:""})},Q=()=>{e(),Ce.success("Выполнен выход из системы")};return l?a.jsx("div",{className:"p-4 md:p-8 flex items-center justify-center",children:a.jsx(kn,{className:"h-8 w-8 animate-spin text-gray-400"})}):a.jsxs("div",{className:"p-4 md:p-8 pb-20 md:pb-8",children:[a.jsxs("div",{className:"mb-4 md:mb-8",children:[a.jsx("h1",{className:"text-2xl md:text-3xl mb-2",children:"Настройки"}),a.jsx("p",{className:"text-gray-600",children:n.canManageUsers?"Управление профилем и системными параметрами":"Управление вашим профилем и настройками"})]}),a.jsxs(au,{defaultValue:"profile",className:"w-full",children:[a.jsxs(lu,{className:"w-full md:w-auto flex-wrap h-auto",children:[a.jsx(jn,{value:"profile",children:"Профиль"}),a.jsx(jn,{value:"security",children:"Безопасность"}),a.jsx(jn,{value:"notifications",children:"Уведомления"}),a.jsx(jn,{value:"account",children:"Аккаунт"}),n.canManageUsers&&a.jsx(jn,{value:"platforms",children:"Платформы"}),n.canManageUsers&&a.jsx(jn,{value:"statuses",children:"Статусы"}),n.canManageUsers&&a.jsx(jn,{value:"system",children:"Система"})]}),a.jsx(Sn,{value:"profile",className:"mt-4 md:mt-6",children:a.jsxs(Ge,{children:[a.jsx(tt,{children:a.jsx("div",{className:"flex flex-col md:flex-row md:items-center gap-4 md:gap-6",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex-shrink-0 w-16 h-16 md:w-20 md:h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white text-2xl md:text-3xl",children:t?.name?.charAt(0).toUpperCase()||"U"}),a.jsxs("div",{className:"flex-1",children:[a.jsx(nt,{className:"mb-1",children:t?.name}),a.jsx(to,{className:"mb-0",children:t?.email})]})]})})}),a.jsxs(Ye,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"profileName",children:"Имя *"}),a.jsx(Fe,{id:"profileName",value:_.name,onChange:Y=>P({..._,name:Y.target.value}),placeholder:"Ваше имя"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"profileEmail",children:"Email *"}),a.jsx(Fe,{id:"profileEmail",type:"email",value:_.email,onChange:Y=>P({..._,email:Y.target.value}),placeholder:"your@email.com"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"profilePhone",children:"Телефон"}),a.jsx(Fe,{id:"profilePhone",value:_.phone,onChange:Y=>P({..._,phone:Y.target.value}),placeholder:"+375 29 123-45-67"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{children:"Роль в системе"}),a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"capitalize",children:t?.role}),a.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[t?.role==="admin"&&"Полный доступ ко всем функциям",t?.role==="sales_manager"&&"Управление заказами и клиентами",t?.role==="warehouse"&&"Управление складом и товарами",t?.role==="accountant"&&"Просмотр отчётов и аналитики",t?.role==="courier"&&"Доставка заказов"]})]})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(Se,{onClick:ie,className:"flex-1 md:flex-initial",children:"Сохранить изменения"}),a.jsx(Se,{variant:"outline",onClick:()=>{P({name:t?.name||"",email:t?.email||"",phone:""})},children:"Отменить"})]})]})]})}),a.jsxs(Sn,{value:"security",className:"mt-4 md:mt-6",children:[a.jsxs(Ge,{children:[a.jsxs(tt,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(HP,{className:"h-5 w-5"}),a.jsx(nt,{children:"Изменение пароля"})]}),a.jsx(to,{children:"Обновите свой пароль для входа в систему"})]}),a.jsxs(Ye,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"currentPassword",children:"Текущий пароль *"}),a.jsx(Fe,{id:"currentPassword",type:"password",value:E.currentPassword,onChange:Y=>T({...E,currentPassword:Y.target.value}),placeholder:"••••••••"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"newPassword",children:"Новый пароль *"}),a.jsx(Fe,{id:"newPassword",type:"password",value:E.newPassword,onChange:Y=>T({...E,newPassword:Y.target.value}),placeholder:"••••••••"}),a.jsx("p",{className:"text-xs text-gray-600",children:"Минимум 6 символов"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"confirmPassword",children:"Подтвердите новый пароль *"}),a.jsx(Fe,{id:"confirmPassword",type:"password",value:E.confirmPassword,onChange:Y=>T({...E,confirmPassword:Y.target.value}),placeholder:"••••••••"})]}),a.jsxs("div",{className:"flex gap-2 pt-4",children:[a.jsx(Se,{onClick:ue,className:"flex-1 md:flex-initial",children:"Изменить пароль"}),a.jsx(Se,{variant:"outline",onClick:()=>{T({currentPassword:"",newPassword:"",confirmPassword:""})},children:"Отменить"})]})]})]}),a.jsxs(Ge,{className:"mt-6",children:[a.jsxs(tt,{children:[a.jsx(nt,{children:"Активные сеансы"}),a.jsx(to,{children:"Управление устройствами с доступом к вашему аккаунту"})]}),a.jsx(Ye,{children:a.jsx("div",{className:"space-y-3",children:a.jsx("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{children:"Текущее устройство"}),a.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full",children:"Активно"})]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[new Date().toLocaleDateString("ru-RU")," в ",new Date().toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})]})]})})})})]})]}),a.jsx(Sn,{value:"notifications",className:"mt-4 md:mt-6",children:a.jsxs(Ge,{children:[a.jsxs(tt,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cP,{className:"h-5 w-5"}),a.jsx(nt,{children:"Уведомления"})]}),a.jsx(to,{children:"Настройте, как вы хотите получать уведомления"})]}),a.jsxs(Ye,{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium mb-3",children:"Email уведомления"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(he,{htmlFor:"emailOrders",children:"Новые заказы"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Получать уведомления о новых заказах"})]}),a.jsx(va,{id:"emailOrders",checked:D.emailOrders,onCheckedChange:Y=>V({...D,emailOrders:Y})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(he,{htmlFor:"emailDelivery",children:"Статус доставки"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Обновления по доставке заказов"})]}),a.jsx(va,{id:"emailDelivery",checked:D.emailDelivery,onCheckedChange:Y=>V({...D,emailDelivery:Y})})]})]})]}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsx("h3",{className:"text-sm font-medium mb-3",children:"Push уведомления"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(he,{htmlFor:"pushOrders",children:"Новые заказы"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Push-уведомления в браузере"})]}),a.jsx(va,{id:"pushOrders",checked:D.pushOrders,onCheckedChange:Y=>V({...D,pushOrders:Y})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(he,{htmlFor:"pushDelivery",children:"Статус доставки"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Моментальные уведомления о доставках"})]}),a.jsx(va,{id:"pushDelivery",checked:D.pushDelivery,onCheckedChange:Y=>V({...D,pushDelivery:Y})})]})]})]}),a.jsxs("div",{className:"border-t pt-6",children:[a.jsx("h3",{className:"text-sm font-medium mb-3",children:"SMS уведомления"}),a.jsx("div",{className:"space-y-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(he,{htmlFor:"smsOrders",children:"Срочные заказы"}),a.jsx("p",{className:"text-sm text-gray-600",children:"SMS для важных заказов"})]}),a.jsx(va,{id:"smsOrders",checked:D.smsOrders,onCheckedChange:Y=>V({...D,smsOrders:Y})})]})})]}),a.jsx(Se,{className:"w-full md:w-auto",children:"Сохранить настройки"})]})]})}),a.jsx(Sn,{value:"account",className:"mt-4 md:mt-6",children:a.jsxs(Ge,{children:[a.jsxs(tt,{children:[a.jsx(nt,{children:"Управление аккаунтом"}),a.jsx(to,{children:"Действия с вашим аккаунтом"})]}),a.jsxs(Ye,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"p-4 border rounded-lg",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(p2,{className:"h-4 w-4 text-blue-600"}),a.jsx("h3",{className:"font-medium",children:"Сменить аккаунт"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Выйти из текущего аккаунта и войти с другими учётными данными"})]}),a.jsx(Se,{variant:"outline",onClick:Q,className:"flex-shrink-0",children:"Сменить"})]})}),a.jsx("div",{className:"p-4 border rounded-lg",children:a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(jf,{className:"h-4 w-4 text-gray-600"}),a.jsx("h3",{className:"font-medium",children:"Выйти из системы"})]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Завершить текущий сеанс работы"})]}),a.jsxs(Se,{variant:"outline",onClick:e,className:"flex-shrink-0",children:[a.jsx(jf,{className:"h-4 w-4 mr-2"}),"Выйти"]})]})})]}),n.isCourierMode&&a.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"💡 Совет для курьеров"}),a.jsx("p",{className:"text-sm text-blue-800",children:'Используйте функцию "Сменить аккаунт" если работаете на общем устройстве. Это безопаснее, чем просто выйти.'})]})]})]})}),n.canManageUsers&&a.jsxs(a.Fragment,{children:[a.jsx(Sn,{value:"platforms",className:"mt-4 md:mt-6",children:a.jsxs(Ge,{children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center gap-4",children:[a.jsx(nt,{children:"Каналы продаж"}),a.jsxs(Se,{onClick:()=>N(),className:"w-full md:w-auto",children:[a.jsx(_o,{className:"h-4 w-4 mr-2"}),"Добавить платформу"]})]})}),a.jsx(Ye,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(cr,{children:[a.jsx(ur,{children:a.jsxs(it,{children:[a.jsx(pe,{children:"ID"}),a.jsx(pe,{children:"Название"}),a.jsx(pe,{children:"Описание"}),a.jsx(pe,{className:"text-right",children:"Действия"})]})}),a.jsx(dr,{children:s.length===0?a.jsx(it,{children:a.jsx(de,{colSpan:4,className:"text-center text-gray-500 py-8",children:"Нет платформ"})}):s.map(Y=>a.jsxs(it,{children:[a.jsx(de,{children:Y.id}),a.jsx(de,{children:Y.name}),a.jsx(de,{children:Y.description||"—"}),a.jsx(de,{className:"text-right",children:a.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>N(Y),children:a.jsx(_p,{className:"h-4 w-4"})})})]},Y.id))})]})})})]})}),a.jsx(Sn,{value:"statuses",className:"mt-6",children:a.jsxs(Ge,{children:[a.jsx(tt,{children:a.jsx(nt,{children:"Цепочка статусов заказов"})}),a.jsx(Ye,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{children:"Новый"}),a.jsx("div",{className:"text-sm text-gray-600",children:"Заказ создан, ожидает обработки"})]}),a.jsx("div",{className:"text-blue-600",children:"→"})]}),a.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{children:"В работе"}),a.jsx("div",{className:"text-sm text-gray-600",children:"Менеджер обрабатывает заказ"})]}),a.jsx("div",{className:"text-blue-600",children:"→"})]}),a.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{children:"Подтверждён"}),a.jsx("div",{className:"text-sm text-gray-600",children:"Клиент подтвердил заказ"})]}),a.jsx("div",{className:"text-blue-600",children:"→"})]}),a.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{children:"Комплектация"}),a.jsx("div",{className:"text-sm text-gray-600",children:"Товары резервируются на складе"})]}),a.jsx("div",{className:"text-blue-600",children:"→"})]}),a.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{children:"Отгружен"}),a.jsx("div",{className:"text-sm text-gray-600",children:"Товар передан на доставку"})]}),a.jsx("div",{className:"text-blue-600",children:"→"})]}),a.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg bg-green-50",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{children:"Завершён"}),a.jsx("div",{className:"text-sm text-gray-600",children:"Заказ выполнен"})]}),a.jsx("div",{className:"text-green-600",children:"✓"})]}),a.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg bg-red-50",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{children:"Отменён"}),a.jsx("div",{className:"text-sm text-gray-600",children:"Заказ отменён клиентом или менеджером"})]}),a.jsx("div",{className:"text-red-600",children:"✗"})]})]})})]})}),a.jsx(Sn,{value:"system",className:"mt-6",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Ge,{children:[a.jsx(tt,{children:a.jsx(nt,{children:"Информация о системе"})}),a.jsxs(Ye,{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Версия:"}),a.jsx("span",{children:"2.0.0"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Последнее обновление:"}),a.jsx("span",{children:"Октябрь 2025"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"База данных:"}),a.jsx("span",{className:"text-green-600",children:"✓ Подключена"})]})]})]}),a.jsxs(Ge,{className:"border-red-200 bg-red-50",children:[a.jsx(tt,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(t0,{className:"h-5 w-5 text-red-600"}),a.jsx(nt,{className:"text-red-900",children:"Опасная зона"})]})}),a.jsxs(Ye,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(he,{className:"text-red-900",children:"Очистка всех данных"}),a.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Удалит ВСЕ данные из системы: товары, заказы, клиентов, группы, платформы и журнал аудита. Это действие необратимо!"})]}),a.jsxs(Se,{variant:"destructive",onClick:()=>m(!0),className:"w-full",children:[a.jsx(fi,{className:"h-4 w-4 mr-2"}),"Удалить все данные"]})]})]})]})})]})]}),a.jsx(qa,{open:d,onOpenChange:f,children:a.jsxs(Ga,{children:[a.jsxs(Ya,{children:[a.jsx(Xa,{children:w?"Редактировать платформу":"Добавить платформу"}),a.jsx(mu,{children:"Укажите название канала продаж"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"name",children:"Название *"}),a.jsx(Fe,{id:"name",value:j.name,onChange:Y=>C({...j,name:Y.target.value}),placeholder:"Например: Instagram"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(he,{htmlFor:"description",children:"Описание"}),a.jsx(Da,{id:"description",value:j.description,onChange:Y=>C({...j,description:Y.target.value}),placeholder:"Краткое описание канала"})]})]}),a.jsxs(pu,{children:[a.jsx(Se,{variant:"outline",onClick:()=>f(!1),children:"Отмена"}),a.jsx(Se,{onClick:H,children:"Сохранить"})]})]})}),a.jsx(y3,{open:p,onOpenChange:m,children:a.jsxs(b3,{children:[a.jsxs(j3,{children:[a.jsxs(_3,{className:"flex items-center gap-2 text-red-600",children:[a.jsx(t0,{className:"h-6 w-6"}),"Удалить все данные?"]}),a.jsxs(k3,{className:"space-y-4",children:[a.jsx("p",{className:"text-red-700",children:"Это действие удалит ВСЕ данные из системы без возможности восстановления:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[a.jsx("li",{children:"Все товары и серийные номера"}),a.jsx("li",{children:"Все заказы и их позиции"}),a.jsx("li",{children:"Всех клиентов"}),a.jsx("li",{children:"Все группы товаров"}),a.jsx("li",{children:"Все платформы"}),a.jsx("li",{children:"Весь журнал аудита"}),a.jsx("li",{children:"Все движения товара"})]}),a.jsxs("div",{className:"space-y-2 pt-4",children:[a.jsxs(he,{htmlFor:"confirmDelete",className:"text-red-900",children:["Введите ",a.jsx("strong",{children:"УДАЛИТЬ ВСЁ"})," для подтверждения:"]}),a.jsx(Fe,{id:"confirmDelete",value:g,onChange:Y=>x(Y.target.value),placeholder:"УДАЛИТЬ ВСЁ",className:"border-red-300"})]})]})]}),a.jsxs(S3,{children:[a.jsx(Se,{variant:"outline",onClick:()=>{m(!1),x("")},children:"Отмена"}),a.jsxs(Se,{variant:"destructive",onClick:Z,disabled:g!=="УДАЛИТЬ ВСЁ",children:[a.jsx(fi,{className:"h-4 w-4 mr-2"}),"Удалить все данные"]})]})]})})]})}function O3({currentPage:t,onNavigate:e}){const{user:n}=Nr(),s=Rs(n),o=s.isCourierMode?"Меню":s.canViewDashboard?"Ещё":"Меню",c=[{id:"orders",label:s.isCourierMode?"Доставки":"Заказы",icon:s.isCourierMode?Rb:uu,permission:"canViewOrders"},{id:"calendar",label:"Календарь",icon:ui,permission:"canViewCalendar"},{id:"products",label:"Склад",icon:Ur,permission:"canViewProducts"},{id:"customers",label:"Клиенты",icon:cu,permission:"canViewCustomers"},{id:"dashboard",label:"Главная",icon:YP,permission:"canViewDashboard"},{id:"settings",label:o,icon:AP,permission:"canViewSettings"}].filter(d=>s[d.permission]).slice(0,5);return a.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 safe-area-inset-bottom",style:{paddingBottom:"env(safe-area-inset-bottom, 0px)",height:"calc(60px + env(safe-area-inset-bottom, 0px))"},children:a.jsx("div",{className:"flex items-stretch h-full",children:c.map(d=>{const f=d.icon,p=t===d.id;return a.jsxs("button",{onClick:()=>e(d.id),className:`flex-1 flex flex-col items-center justify-center gap-1 transition-colors touch-manipulation ${p?"text-blue-600":"text-gray-600 active:bg-gray-100"}`,style:{minHeight:"44px"},children:[a.jsx(f,{className:"h-5 w-5"}),a.jsx("span",{className:"text-xs",children:d.label})]},d.id)})})})}function D3(){const[t,e]=b.useState(navigator.onLine),[n,s]=b.useState(!1);return b.useEffect(()=>d$(l=>{e(l),s(!0),setTimeout(()=>{s(!1)},3e3)}),[]),a.jsx(JS,{children:(n||!t)&&a.jsx(sp.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},className:`fixed top-0 left-0 right-0 z-[1070] ${t?"bg-green-600":"bg-orange-600"} text-white px-4 py-3 text-center text-sm font-medium shadow-lg`,style:{paddingTop:"max(12px, env(safe-area-inset-top, 0px))"},children:a.jsx("div",{className:"flex items-center justify-center gap-2",children:t?a.jsxs(a.Fragment,{children:[a.jsx(b2,{className:"h-4 w-4"}),a.jsx("span",{children:"Соединение восстановлено"})]}):a.jsxs(a.Fragment,{children:[a.jsx(x2,{className:"h-4 w-4"}),a.jsx("span",{children:"Нет подключения к интернету"})]})})})})}var I3=(t,e,n,s,o,l,c,d)=>{let f=document.documentElement,p=["light","dark"];function m(w){(Array.isArray(t)?t:[t]).forEach(S=>{let j=S==="class",C=j&&l?o.map(_=>l[_]||_):o;j?(f.classList.remove(...C),f.classList.add(l&&l[w]?l[w]:w)):f.setAttribute(S,w)}),g(w)}function g(w){d&&p.includes(w)&&(f.style.colorScheme=w)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)m(s);else try{let w=localStorage.getItem(e)||n,S=c&&w==="system"?x():w;m(S)}catch{}},M3=b.createContext(void 0),L3={setTheme:t=>{},themes:[]},$3=()=>{var t;return(t=b.useContext(M3))!=null?t:L3};b.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:s,enableColorScheme:o,defaultTheme:l,value:c,themes:d,nonce:f,scriptProps:p})=>{let m=JSON.stringify([n,e,l,t,d,c,s,o]).slice(1,-1);return b.createElement("script",{...p,suppressHydrationWarning:!0,nonce:typeof window>"u"?f:"",dangerouslySetInnerHTML:{__html:`(${I3.toString()})(${m})`}})});const V3=({...t})=>{const{theme:e="system"}=$3();return a.jsx(Q2,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};function F3(){const{user:t,loading:e}=Nr(),n=Rs(t),[s,o]=b.useState("dashboard"),[l,c]=b.useState(null),[d,f]=b.useState(null),[p,m]=b.useState(!1);if(b.useEffect(()=>{u$()},[]),b.useEffect(()=>{if(t){const E=["dashboard","orders","calendar","products","customers","reports"].find(T=>bc(t,T));E&&!bc(t,s)&&o(E)}},[t]),e)return a.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Загрузка..."})]})});if(!t)return a.jsx(S2,{});const g=P=>{o(P),c(null),f(null),m(!1)},x=P=>{c(P)},w=()=>{c(null)},S=P=>{f(P)},j=()=>{m(!0),f(null)},C=()=>{f(null),m(!1)},_=()=>{if(l!==null)return a.jsx(jD,{productId:l,onBack:w});if(d!==null||p)return a.jsx(f$,{orderId:d,onBack:C});if(!bc(t,s)){const E=["orders","calendar","products","customers","reports","dashboard"].find(T=>bc(t,T));return E&&E!==s&&o(E),null}switch(s){case"dashboard":return a.jsx(s0,{});case"products":return a.jsx(bD,{onViewProduct:x});case"groups":return a.jsx(fA,{});case"orders":return a.jsx(zx,{onViewOrder:S,onCreateOrder:j});case"customers":return a.jsx(p$,{});case"calendar":return n.isCourierMode?a.jsx(zx,{onViewOrder:S,onCreateOrder:j,initialViewMode:"calendar"}):a.jsx(J$,{});case"reports":return a.jsx(Q$,{});case"audit":return a.jsx(Z$,{});case"settings":return a.jsx(A3,{});default:return a.jsx(s0,{})}};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden md:block",children:a.jsx(_2,{currentPage:s,onNavigate:g,children:_()})}),a.jsx("div",{className:"md:hidden",children:a.jsx("div",{className:"min-h-screen bg-gray-50",children:_()})}),a.jsx(O3,{currentPage:s,onNavigate:g}),a.jsx(D3,{})]})}function B3(){return a.jsxs(MN,{children:[a.jsx(F3,{}),a.jsx(V3,{}),a.jsxs("head",{children:[a.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=5, viewport-fit=cover"}),a.jsx("meta",{name:"theme-color",content:"#2563EB"}),a.jsx("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),a.jsx("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"}),a.jsx("meta",{name:"apple-mobile-web-app-title",content:"CRM"}),a.jsx("link",{rel:"manifest",href:"/manifest.json"}),a.jsx("link",{rel:"apple-touch-icon",href:"/icons/apple-touch-icon.png"})]})]})}uC.createRoot(document.getElementById("root")).render(a.jsx(B3,{}));
